var Na=Object.defineProperty;var Ma=(e,n,t)=>n in e?Na(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Jt=(e,n,t)=>(Ma(e,typeof n!="symbol"?n+"":n,t),t);import{o as Pt,a as Ut,i as Fa,c as me,b as un,u as st,d as Qe,m as yi,e as wi,p as _i,r as ve,f as Gt,g as Zt,h as Le,j as Ct,k as Ba,l as Da,w as cn,n as yo,C as La,q as Vr,s as xt,t as Fe,v as Gr,x as H,z as xi,L as Ua,y as Cn,A as ja,B as Ha,D as Ft,E as Ci,V as wo,F as An,G as Wa,H as _o,I as Kn,J as Vn,K as Ka,M as Va,N as Zr,O as Ga,P as Lt,Q as ki,R as qr,S as Za,T as dn,U as Si,W as Mr,X as xo,Y as qa,Z as Co,_ as ko,$ as Mn,a0 as Ya,a1 as So,a2 as Xa,a3 as Ja,a4 as Qa,a5 as es,a6 as ts,a7 as ns,a8 as rs,a9 as Tt,aa as le,ab as ye,ac as Ce,ad as jt,ae as et,af as os,ag as $t,ah as Ln,ai as Ge,aj as Yr,ak as Ei,al as fn,am as rn,an as ze,ao as At,ap as Fr,aq as wn,ar as Ai,as as Ri,at as zi,au as pr,av as is,aw as as,ax as ss,ay as Ii,az as Un,aA as ls,aB as us,aC as cs,aD as on,aE as ds,aF as Eo,aG as fs,aH as hs,aI as Nt,aJ as Ke,aK as Me,aL as Oi,aM as ps,aN as Ao,aO as vs,aP as Xr,aQ as ms,aR as Pi,aS as Ti,aT as gs,aU as bs,aV as ys,aW as ws,aX as _s,aY as Jr,aZ as Ro,a_ as xs,a$ as Cs,b0 as Ht,b1 as Rn,b2 as vr,b3 as dt,b4 as tt,b5 as ot,b6 as Qt,b7 as mr,b8 as zo,b9 as Io,ba as ks,bb as Ss,bc as Oo}from"./index.6f25a8de.js";import{u as $i,a as _n,N as Es,b as zn}from"./Space.116b3474.js";let jn=[];const Ni=new WeakMap;function As(){jn.forEach(e=>e(...Ni.get(e))),jn=[]}function Mi(e,...n){Ni.set(e,n),!jn.includes(e)&&jn.push(e)===1&&requestAnimationFrame(As)}function xn(e,n){let{target:t}=e;for(;t;){if(t.dataset&&t.dataset[n]!==void 0)return!0;t=t.parentElement}return!1}function Rs(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function gr(e){const n=e.filter(t=>t!==void 0);if(n.length!==0)return n.length===1?n[0]:t=>{e.forEach(s=>{s&&s(t)})}}const zs=/^(\d|\.)+$/,Po=/(\d|\.)+/;function br(e,{c:n=1,offset:t=0,attachPx:s=!0}={}){if(typeof e=="number"){const o=(e+t)*n;return o===0?"0":`${o}px`}else if(typeof e=="string")if(zs.test(e)){const o=(Number(e)+t)*n;return s?o===0?"0":`${o}px`:`${o}`}else{const o=Po.exec(e);return o?e.replace(Po,String((Number(o[0])+t)*n)):e}return e}let yr;function Is(){return yr===void 0&&(yr=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),yr}let an,yn;const Os=()=>{var e,n;an=Fa?(n=(e=document)===null||e===void 0?void 0:e.fonts)===null||n===void 0?void 0:n.ready:void 0,yn=!1,an!==void 0?an.then(()=>{yn=!0}):yn=!0};Os();function Ps(e){if(yn)return;let n=!1;Pt(()=>{yn||an==null||an.then(()=>{n||e()})}),Ut(()=>{n=!0})}function Ts(e,n){return me(()=>{for(const t of n)if(e[t]!==void 0)return e[t];return e[n[n.length-1]]})}const Qr=un("n-internal-select-menu"),Fi=un("n-internal-select-menu-body"),Bi="__disabled__";function Rt(e){const n=Qe(yi,null),t=Qe(wi,null),s=Qe(_i,null),o=Qe(Fi,null),i=ve();if(typeof document!="undefined"){i.value=document.fullscreenElement;const a=()=>{i.value=document.fullscreenElement};Pt(()=>{Gt("fullscreenchange",document,a)}),Ut(()=>{Zt("fullscreenchange",document,a)})}return st(()=>{var a;const{to:r}=e;return r!==void 0?r===!1?Bi:r===!0?i.value||"body":r:n!=null&&n.value?(a=n.value.$el)!==null&&a!==void 0?a:n.value:t!=null&&t.value?t.value:s!=null&&s.value?s.value:o!=null&&o.value?o.value:r!=null?r:i.value||"body"})}Rt.tdkey=Bi;Rt.propTo={type:[String,Object,Boolean],default:void 0};let Mt=null;function Di(){if(Mt===null&&(Mt=document.getElementById("v-binder-view-measurer"),Mt===null)){Mt=document.createElement("div"),Mt.id="v-binder-view-measurer";const{style:e}=Mt;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(Mt)}return Mt.getBoundingClientRect()}function $s(e,n){const t=Di();return{top:n,left:e,height:0,width:0,right:t.width-e,bottom:t.height-n}}function wr(e){const n=e.getBoundingClientRect(),t=Di();return{left:n.left-t.left,top:n.top-t.top,bottom:t.height+t.top-n.bottom,right:t.width+t.left-n.right,width:n.width,height:n.height}}function Ns(e){return e.nodeType===9?null:e.parentNode}function Li(e){if(e===null)return null;const n=Ns(e);if(n===null)return null;if(n.nodeType===9)return document;if(n.nodeType===1){const{overflow:t,overflowX:s,overflowY:o}=getComputedStyle(n);if(/(auto|scroll|overlay)/.test(t+o+s))return n}return Li(n)}const Ms=Le({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var n;Ct("VBinder",(n=Ba())===null||n===void 0?void 0:n.proxy);const t=Qe("VBinder",null),s=ve(null),o=g=>{s.value=g,t&&e.syncTargetWithParent&&t.setTargetRef(g)};let i=[];const a=()=>{let g=s.value;for(;g=Li(g),g!==null;)i.push(g);for(const w of i)Gt("scroll",w,u,!0)},r=()=>{for(const g of i)Zt("scroll",g,u,!0);i=[]},l=new Set,c=g=>{l.size===0&&a(),l.has(g)||l.add(g)},f=g=>{l.has(g)&&l.delete(g),l.size===0&&r()},u=()=>{Mi(m)},m=()=>{l.forEach(g=>g())},d=new Set,b=g=>{d.size===0&&Gt("resize",window,y),d.has(g)||d.add(g)},p=g=>{d.has(g)&&d.delete(g),d.size===0&&Zt("resize",window,y)},y=()=>{d.forEach(g=>g())};return Ut(()=>{Zt("resize",window,y),r()}),{targetRef:s,setTargetRef:o,addScrollListener:c,removeScrollListener:f,addResizeListener:b,removeResizeListener:p}},render(){return Da("binder",this.$slots)}});var Ui=Ms,ji=Le({name:"Target",setup(){const{setTargetRef:e,syncTarget:n}=Qe("VBinder");return{syncTarget:n,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:n}=this;return e?cn(yo("follower",this.$slots),[[n]]):yo("follower",this.$slots)}});const en="@@mmoContext",Fs={mounted(e,{value:n}){e[en]={handler:void 0},typeof n=="function"&&(e[en].handler=n,Gt("mousemoveoutside",e,n))},updated(e,{value:n}){const t=e[en];typeof n=="function"?t.handler?t.handler!==n&&(Zt("mousemoveoutside",e,t.handler),t.handler=n,Gt("mousemoveoutside",e,n)):(e[en].handler=n,Gt("mousemoveoutside",e,n)):t.handler&&(Zt("mousemoveoutside",e,t.handler),t.handler=void 0)},unmounted(e){const{handler:n}=e[en];n&&Zt("mousemoveoutside",e,n),e[en].handler=void 0}};var Bs=Fs;const{c:Bt}=La(),eo="vueuc-style";function To(e){return e&-e}class Ds{constructor(n,t){this.l=n,this.min=t;const s=new Array(n+1);for(let o=0;o<n+1;++o)s[o]=0;this.ft=s}add(n,t){if(t===0)return;const{l:s,ft:o}=this;for(n+=1;n<=s;)o[n]+=t,n+=To(n)}get(n){return this.sum(n+1)-this.sum(n)}sum(n){if(n===void 0&&(n=this.l),n<=0)return 0;const{ft:t,min:s,l:o}=this;if(n>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let i=n*s;for(;n>0;)i+=t[n],n-=To(n);return i}getBound(n){let t=0,s=this.l;for(;s>t;){const o=Math.floor((t+s)/2),i=this.sum(o);if(i>n){s=o;continue}else if(i<n){if(t===o)return this.sum(t+1)<=n?t+1:o;t=o}else return o}return t}}const In={top:"bottom",bottom:"top",left:"right",right:"left"},$o={start:"end",center:"center",end:"start"},_r={top:"height",bottom:"height",left:"width",right:"width"},Ls={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Us={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},js={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},No={top:!0,bottom:!1,left:!0,right:!1},Mo={top:"end",bottom:"start",left:"end",right:"start"};function Hs(e,n,t,s,o,i){if(!o||i)return{placement:e,top:0,left:0};const[a,r]=e.split("-");let l=r!=null?r:"center",c={top:0,left:0};const f=(d,b,p)=>{let y=0,g=0;const w=t[d]-n[b]-n[d];return w>0&&s&&(p?g=No[b]?w:-w:y=No[b]?w:-w),{left:y,top:g}},u=a==="left"||a==="right";if(l!=="center"){const d=js[e],b=In[d],p=_r[d];if(t[p]>n[p]){if(n[d]+n[p]<t[p]){const y=(t[p]-n[p])/2;n[d]<y||n[b]<y?n[d]<n[b]?(l=$o[r],c=f(p,b,u)):c=f(p,d,u):l="center"}}else t[p]<n[p]&&n[b]<0&&n[d]>n[b]&&(l=$o[r])}else{const d=a==="bottom"||a==="top"?"left":"top",b=In[d],p=_r[d],y=(t[p]-n[p])/2;(n[d]<y||n[b]<y)&&(n[d]>n[b]?(l=Mo[d],c=f(p,d,u)):(l=Mo[b],c=f(p,b,u)))}let m=a;return n[a]<t[_r[a]]&&n[a]<n[In[a]]&&(m=In[a]),{placement:l!=="center"?`${m}-${l}`:m,left:c.left,top:c.top}}function Ws(e,n){return n?Us[e]:Ls[e]}function Ks(e,n,t,s,o,i){if(i)switch(e){case"bottom-start":return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left)}px`,transform:""};case"top-end":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left)}px`,transform:""};case"left-end":return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(t.top-n.top)}px`,left:`${Math.round(t.left-n.left+t.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(t.top-n.top+t.height/2)}px`,left:`${Math.round(t.left-n.left+t.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(t.top-n.top+t.height/2)}px`,left:`${Math.round(t.left-n.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(t.top-n.top+t.height)}px`,left:`${Math.round(t.left-n.left+t.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(t.top-n.top+t.height+s)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(t.top-n.top+t.height+s)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(t.top-n.top+s)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(t.top-n.top+s)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(t.top-n.top+s)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(t.top-n.top+t.height+s)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(t.top-n.top+s)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(t.top-n.top+t.height+s)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(t.top-n.top+s)}px`,left:`${Math.round(t.left-n.left+t.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(t.top-n.top+t.height/2+s)}px`,left:`${Math.round(t.left-n.left+t.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(t.top-n.top+t.height/2+s)}px`,left:`${Math.round(t.left-n.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(t.top-n.top+t.height+s)}px`,left:`${Math.round(t.left-n.left+t.width/2+o)}px`,transform:"translateX(-50%)"}}}const Vs=Bt([Bt(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),Bt(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[Bt("> *",{pointerEvents:"all"})])]);var Br=Le({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const n=Qe("VBinder"),t=st(()=>e.enabled!==void 0?e.enabled:e.show),s=ve(null),o=ve(null),i=()=>{const{syncTrigger:m}=e;m.includes("scroll")&&n.addScrollListener(l),m.includes("resize")&&n.addResizeListener(l)},a=()=>{n.removeScrollListener(l),n.removeResizeListener(l)};Pt(()=>{t.value&&(l(),i())});const r=Vr();Vs.mount({id:"vueuc/binder",head:!0,anchorMetaName:eo,ssr:r}),Ut(()=>{a()}),Ps(()=>{t.value&&l()});const l=()=>{if(!t.value)return;const m=s.value;if(m===null)return;const d=n.targetRef,{x:b,y:p,overlap:y}=e,g=b!==void 0&&p!==void 0?$s(b,p):wr(d);m.style.setProperty("--v-target-width",`${Math.round(g.width)}px`),m.style.setProperty("--v-target-height",`${Math.round(g.height)}px`);const{width:w,minWidth:E,placement:A,internalShift:_,flip:O}=e;m.setAttribute("v-placement",A),y?m.setAttribute("v-overlap",""):m.removeAttribute("v-overlap");const{style:I}=m;w==="target"?I.width=`${g.width}px`:w!==void 0?I.width=w:I.width="",E==="target"?I.minWidth=`${g.width}px`:E!==void 0?I.minWidth=E:I.minWidth="";const P=wr(m),z=wr(o.value),{left:N,top:G,placement:C}=Hs(A,g,P,_,O,y),j=Ws(C,y),{left:h,top:V,transform:re}=Ks(C,z,g,G,N,y);m.setAttribute("v-placement",C),m.style.setProperty("--v-offset-left",`${Math.round(N)}px`),m.style.setProperty("--v-offset-top",`${Math.round(G)}px`),m.style.transform=`translateX(${h}) translateY(${V}) ${re}`,m.style.setProperty("--v-transform-origin",j),m.style.transformOrigin=j};xt(t,m=>{m?(i(),c()):a()});const c=()=>{Cn().then(l).catch(m=>console.error(m))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(m=>{xt(Fe(e,m),l)}),["teleportDisabled"].forEach(m=>{xt(Fe(e,m),c)}),xt(Fe(e,"syncTrigger"),m=>{m.includes("resize")?n.addResizeListener(l):n.removeResizeListener(l),m.includes("scroll")?n.addScrollListener(l):n.removeScrollListener(l)});const f=Gr(),u=st(()=>{const{to:m}=e;if(m!==void 0)return m;f.value});return{VBinder:n,mergedEnabled:t,offsetContainerRef:o,followerRef:s,mergedTo:u,syncPosition:l}},render(){return H(Ua,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,n;const t=H("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[H("div",{class:"v-binder-follower-content",ref:"followerRef"},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e))]);return this.zindexable?cn(t,[[xi,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):t}})}});let On;function Gs(){return On===void 0&&("matchMedia"in window?On=window.matchMedia("(pointer:coarse)").matches:On=!1),On}let xr;function Fo(){return xr===void 0&&(xr="chrome"in window?window.devicePixelRatio:1),xr}const Zs=Bt(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Bt("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Bt("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]);var Hi=Le({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const n=Vr();Zs.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:eo,ssr:n}),Pt(()=>{const{defaultScrollIndex:G,defaultScrollKey:C}=e;G!=null?b({index:G}):C!=null&&b({key:C})});let t=!1,s=!1;ja(()=>{if(t=!1,!s){s=!0;return}b({top:u.value,left:f})}),Ha(()=>{t=!0,s||(s=!0)});const o=me(()=>{const G=new Map,{keyField:C}=e;return e.items.forEach((j,h)=>{G.set(j[C],h)}),G}),i=ve(null),a=ve(void 0),r=new Map,l=me(()=>{const{items:G,itemSize:C,keyField:j}=e,h=new Ds(G.length,C);return G.forEach((V,re)=>{const Z=V[j],ue=r.get(Z);ue!==void 0&&h.add(re,ue)}),h}),c=ve(0);let f=0;const u=ve(0),m=st(()=>Math.max(l.value.getBound(u.value-Ft(e.paddingTop))-1,0)),d=me(()=>{const{value:G}=a;if(G===void 0)return[];const{items:C,itemSize:j}=e,h=m.value,V=Math.min(h+Math.ceil(G/j+1),C.length-1),re=[];for(let Z=h;Z<=V;++Z)re.push(C[Z]);return re}),b=(G,C)=>{if(typeof G=="number"){w(G,C,"auto");return}const{left:j,top:h,index:V,key:re,position:Z,behavior:ue,debounce:F=!0}=G;if(j!==void 0||h!==void 0)w(j,h,ue);else if(V!==void 0)g(V,ue,F);else if(re!==void 0){const J=o.value.get(re);J!==void 0&&g(J,ue,F)}else Z==="bottom"?w(0,Number.MAX_SAFE_INTEGER,ue):Z==="top"&&w(0,0,ue)};let p,y=null;function g(G,C,j){const{value:h}=l,V=h.sum(G)+Ft(e.paddingTop);if(!j)i.value.scrollTo({left:0,top:V,behavior:C});else{p=G,y!==null&&window.clearTimeout(y),y=window.setTimeout(()=>{p=void 0,y=null},16);const{scrollTop:re,offsetHeight:Z}=i.value;if(V>re){const ue=h.get(G);V+ue<=re+Z||i.value.scrollTo({left:0,top:V+ue-Z,behavior:C})}else i.value.scrollTo({left:0,top:V,behavior:C})}}function w(G,C,j){i.value.scrollTo({left:G,top:C,behavior:j})}function E(G,C){var j,h,V;if(t||e.ignoreItemResize||N(C.target))return;const{value:re}=l,Z=o.value.get(G),ue=re.get(Z),F=(V=(h=(j=C.borderBoxSize)===null||j===void 0?void 0:j[0])===null||h===void 0?void 0:h.blockSize)!==null&&V!==void 0?V:C.contentRect.height;if(F===ue)return;F-e.itemSize===0?r.delete(G):r.set(G,F-e.itemSize);const B=F-ue;if(B===0)return;re.add(Z,B);const W=i.value;if(W!=null){if(p===void 0){const pe=re.sum(Z);W.scrollTop>pe&&W.scrollBy(0,B)}else if(Z<p)W.scrollBy(0,B);else if(Z===p){const pe=re.sum(Z);F+pe>W.scrollTop+W.offsetHeight&&W.scrollBy(0,B)}z()}c.value++}const A=!Gs();let _=!1;function O(G){var C;(C=e.onScroll)===null||C===void 0||C.call(e,G),(!A||!_)&&z()}function I(G){var C;if((C=e.onWheel)===null||C===void 0||C.call(e,G),A){G.preventDefault();const j=i.value;j!=null&&(j.scrollTop+=G.deltaY/Fo(),j.scrollLeft+=G.deltaX/Fo(),z(),_=!0,Mi(()=>{_=!1}))}}function P(G){if(t||N(G.target)||G.contentRect.height===a.value)return;a.value=G.contentRect.height;const{onResize:C}=e;C!==void 0&&C(G)}function z(){const{value:G}=i;G!=null&&(u.value=G.scrollTop,f=G.scrollLeft)}function N(G){let C=G;for(;C!==null;){if(C.style.display==="none")return!0;C=C.parentElement}return!1}return{listHeight:a,listStyle:{overflow:"auto"},keyToIndex:o,itemsStyle:me(()=>{const{itemResizable:G}=e,C=An(l.value.sum());return c.value,[e.itemsStyle,{boxSizing:"content-box",height:G?"":C,minHeight:G?C:"",paddingTop:An(e.paddingTop),paddingBottom:An(e.paddingBottom)}]}),visibleItemsStyle:me(()=>(c.value,{transform:`translateY(${An(l.value.sum(m.value))})`})),viewportItems:d,listElRef:i,itemsElRef:ve(null),scrollTo:b,handleListResize:P,handleListScroll:O,handleListWheel:I,handleItemResize:E}},render(){const{itemResizable:e,keyField:n,keyToIndex:t,visibleItemsTag:s}=this;return H(wo,{onResize:this.handleListResize},{default:()=>{var o,i;return H("div",Ci(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?H("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[H(s,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(a=>{const r=a[n],l=t.get(r),c=this.$slots.default({item:a,index:l})[0];return e?H(wo,{key:r,onResize:f=>this.handleItemResize(r,f)},{default:()=>c}):(c.key=r,c)})})]):(i=(o=this.$slots).empty)===null||i===void 0?void 0:i.call(o)])}})}});const Wt="v-hidden",qs=Bt("[v-hidden]",{display:"none!important"});var Bo=Le({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(e,{slots:n}){const t=ve(null),s=ve(null);function o(){const{value:a}=t,{getCounter:r,getTail:l}=e;let c;if(r!==void 0?c=r():c=s.value,!a||!c)return;c.hasAttribute(Wt)&&c.removeAttribute(Wt);const{children:f}=a,u=a.offsetWidth,m=[],d=n.tail?l==null?void 0:l():null;let b=d?d.offsetWidth:0,p=!1;const y=a.children.length-(n.tail?1:0);for(let w=0;w<y-1;++w){if(w<0)continue;const E=f[w];if(p){E.hasAttribute(Wt)||E.setAttribute(Wt,"");continue}else E.hasAttribute(Wt)&&E.removeAttribute(Wt);const A=E.offsetWidth;if(b+=A,m[w]=A,b>u){const{updateCounter:_}=e;for(let O=w;O>=0;--O){const I=y-1-O;_!==void 0?_(I):c.textContent=`${I}`;const P=c.offsetWidth;if(b-=m[O],b+P<=u||O===0){p=!0,w=O-1,d&&(w===-1?(d.style.maxWidth=`${u-P}px`,d.style.boxSizing="border-box"):d.style.maxWidth="");break}}}}const{onUpdateOverflow:g}=e;p?g!==void 0&&g(!0):(g!==void 0&&g(!1),c.setAttribute(Wt,""))}const i=Vr();return qs.mount({id:"vueuc/overflow",head:!0,anchorMetaName:eo,ssr:i}),Pt(o),{selfRef:t,counterRef:s,sync:o}},render(){const{$slots:e}=this;return Cn(this.sync),H("div",{class:"v-overflow",ref:"selfRef"},[Wa(e,"default"),e.counter?e.counter():H("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function to(e,n){n&&(Pt(()=>{const{value:t}=e;t&&_o.registerHandler(t,n)}),Ut(()=>{const{value:t}=e;t&&_o.unregisterHandler(t)}))}var Ys=Kn(Vn,"WeakMap"),Dr=Ys,Xs=Ka(Object.keys,Object),Js=Xs,Qs=Object.prototype,el=Qs.hasOwnProperty;function tl(e){if(!Va(e))return Js(e);var n=[];for(var t in Object(e))el.call(e,t)&&t!="constructor"&&n.push(t);return n}function no(e){return Zr(e)?Ga(e):tl(e)}var nl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rl=/^\w*$/;function ro(e,n){if(Lt(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||ki(e)?!0:rl.test(e)||!nl.test(e)||n!=null&&e in Object(n)}var ol="Expected a function";function oo(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(ol);var t=function(){var s=arguments,o=n?n.apply(this,s):s[0],i=t.cache;if(i.has(o))return i.get(o);var a=e.apply(this,s);return t.cache=i.set(o,a)||i,a};return t.cache=new(oo.Cache||qr),t}oo.Cache=qr;var il=500;function al(e){var n=oo(e,function(s){return t.size===il&&t.clear(),s}),t=n.cache;return n}var sl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ll=/\\(\\)?/g,ul=al(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(sl,function(t,s,o,i){n.push(o?i.replace(ll,"$1"):s||t)}),n}),cl=ul;function Wi(e,n){return Lt(e)?e:ro(e,n)?[e]:cl(Za(e))}var dl=1/0;function Gn(e){if(typeof e=="string"||ki(e))return e;var n=e+"";return n=="0"&&1/e==-dl?"-0":n}function Ki(e,n){n=Wi(n,e);for(var t=0,s=n.length;e!=null&&t<s;)e=e[Gn(n[t++])];return t&&t==s?e:void 0}function fl(e,n,t){var s=e==null?void 0:Ki(e,n);return s===void 0?t:s}function hl(e,n){for(var t=-1,s=n.length,o=e.length;++t<s;)e[o+t]=n[t];return e}function pl(e,n){for(var t=-1,s=e==null?0:e.length,o=0,i=[];++t<s;){var a=e[t];n(a,t,e)&&(i[o++]=a)}return i}function vl(){return[]}var ml=Object.prototype,gl=ml.propertyIsEnumerable,Do=Object.getOwnPropertySymbols,bl=Do?function(e){return e==null?[]:(e=Object(e),pl(Do(e),function(n){return gl.call(e,n)}))}:vl,yl=bl;function wl(e,n,t){var s=n(e);return Lt(e)?s:hl(s,t(e))}function Lo(e){return wl(e,no,yl)}var _l=Kn(Vn,"DataView"),Lr=_l,xl=Kn(Vn,"Promise"),Ur=xl,Cl=Kn(Vn,"Set"),jr=Cl,Uo="[object Map]",kl="[object Object]",jo="[object Promise]",Ho="[object Set]",Wo="[object WeakMap]",Ko="[object DataView]",Sl=dn(Lr),El=dn(Mr),Al=dn(Ur),Rl=dn(jr),zl=dn(Dr),Kt=Si;(Lr&&Kt(new Lr(new ArrayBuffer(1)))!=Ko||Mr&&Kt(new Mr)!=Uo||Ur&&Kt(Ur.resolve())!=jo||jr&&Kt(new jr)!=Ho||Dr&&Kt(new Dr)!=Wo)&&(Kt=function(e){var n=Si(e),t=n==kl?e.constructor:void 0,s=t?dn(t):"";if(s)switch(s){case Sl:return Ko;case El:return Uo;case Al:return jo;case Rl:return Ho;case zl:return Wo}return n});var Vo=Kt,Il="__lodash_hash_undefined__";function Ol(e){return this.__data__.set(e,Il),this}function Pl(e){return this.__data__.has(e)}function Hn(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new qr;++n<t;)this.add(e[n])}Hn.prototype.add=Hn.prototype.push=Ol;Hn.prototype.has=Pl;function Tl(e,n){for(var t=-1,s=e==null?0:e.length;++t<s;)if(n(e[t],t,e))return!0;return!1}function $l(e,n){return e.has(n)}var Nl=1,Ml=2;function Vi(e,n,t,s,o,i){var a=t&Nl,r=e.length,l=n.length;if(r!=l&&!(a&&l>r))return!1;var c=i.get(e),f=i.get(n);if(c&&f)return c==n&&f==e;var u=-1,m=!0,d=t&Ml?new Hn:void 0;for(i.set(e,n),i.set(n,e);++u<r;){var b=e[u],p=n[u];if(s)var y=a?s(p,b,u,n,e,i):s(b,p,u,e,n,i);if(y!==void 0){if(y)continue;m=!1;break}if(d){if(!Tl(n,function(g,w){if(!$l(d,w)&&(b===g||o(b,g,t,s,i)))return d.push(w)})){m=!1;break}}else if(!(b===p||o(b,p,t,s,i))){m=!1;break}}return i.delete(e),i.delete(n),m}function Fl(e){var n=-1,t=Array(e.size);return e.forEach(function(s,o){t[++n]=[o,s]}),t}function Bl(e){var n=-1,t=Array(e.size);return e.forEach(function(s){t[++n]=s}),t}var Dl=1,Ll=2,Ul="[object Boolean]",jl="[object Date]",Hl="[object Error]",Wl="[object Map]",Kl="[object Number]",Vl="[object RegExp]",Gl="[object Set]",Zl="[object String]",ql="[object Symbol]",Yl="[object ArrayBuffer]",Xl="[object DataView]",Go=xo?xo.prototype:void 0,Cr=Go?Go.valueOf:void 0;function Jl(e,n,t,s,o,i,a){switch(t){case Xl:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case Yl:return!(e.byteLength!=n.byteLength||!i(new Co(e),new Co(n)));case Ul:case jl:case Kl:return qa(+e,+n);case Hl:return e.name==n.name&&e.message==n.message;case Vl:case Zl:return e==n+"";case Wl:var r=Fl;case Gl:var l=s&Dl;if(r||(r=Bl),e.size!=n.size&&!l)return!1;var c=a.get(e);if(c)return c==n;s|=Ll,a.set(e,n);var f=Vi(r(e),r(n),s,o,i,a);return a.delete(e),f;case ql:if(Cr)return Cr.call(e)==Cr.call(n)}return!1}var Ql=1,eu=Object.prototype,tu=eu.hasOwnProperty;function nu(e,n,t,s,o,i){var a=t&Ql,r=Lo(e),l=r.length,c=Lo(n),f=c.length;if(l!=f&&!a)return!1;for(var u=l;u--;){var m=r[u];if(!(a?m in n:tu.call(n,m)))return!1}var d=i.get(e),b=i.get(n);if(d&&b)return d==n&&b==e;var p=!0;i.set(e,n),i.set(n,e);for(var y=a;++u<l;){m=r[u];var g=e[m],w=n[m];if(s)var E=a?s(w,g,m,n,e,i):s(g,w,m,e,n,i);if(!(E===void 0?g===w||o(g,w,t,s,i):E)){p=!1;break}y||(y=m=="constructor")}if(p&&!y){var A=e.constructor,_=n.constructor;A!=_&&"constructor"in e&&"constructor"in n&&!(typeof A=="function"&&A instanceof A&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return i.delete(e),i.delete(n),p}var ru=1,Zo="[object Arguments]",qo="[object Array]",Pn="[object Object]",ou=Object.prototype,Yo=ou.hasOwnProperty;function iu(e,n,t,s,o,i){var a=Lt(e),r=Lt(n),l=a?qo:Vo(e),c=r?qo:Vo(n);l=l==Zo?Pn:l,c=c==Zo?Pn:c;var f=l==Pn,u=c==Pn,m=l==c;if(m&&ko(e)){if(!ko(n))return!1;a=!0,f=!1}if(m&&!f)return i||(i=new Mn),a||Ya(e)?Vi(e,n,t,s,o,i):Jl(e,n,l,t,s,o,i);if(!(t&ru)){var d=f&&Yo.call(e,"__wrapped__"),b=u&&Yo.call(n,"__wrapped__");if(d||b){var p=d?e.value():e,y=b?n.value():n;return i||(i=new Mn),o(p,y,t,s,i)}}return m?(i||(i=new Mn),nu(e,n,t,s,o,i)):!1}function io(e,n,t,s,o){return e===n?!0:e==null||n==null||!So(e)&&!So(n)?e!==e&&n!==n:iu(e,n,t,s,io,o)}var au=1,su=2;function lu(e,n,t,s){var o=t.length,i=o,a=!s;if(e==null)return!i;for(e=Object(e);o--;){var r=t[o];if(a&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1}for(;++o<i;){r=t[o];var l=r[0],c=e[l],f=r[1];if(a&&r[2]){if(c===void 0&&!(l in e))return!1}else{var u=new Mn;if(s)var m=s(c,f,l,e,n,u);if(!(m===void 0?io(f,c,au|su,s,u):m))return!1}}return!0}function Gi(e){return e===e&&!Xa(e)}function uu(e){for(var n=no(e),t=n.length;t--;){var s=n[t],o=e[s];n[t]=[s,o,Gi(o)]}return n}function Zi(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==void 0||e in Object(t))}}function cu(e){var n=uu(e);return n.length==1&&n[0][2]?Zi(n[0][0],n[0][1]):function(t){return t===e||lu(t,e,n)}}function du(e,n){return e!=null&&n in Object(e)}function fu(e,n,t){n=Wi(n,e);for(var s=-1,o=n.length,i=!1;++s<o;){var a=Gn(n[s]);if(!(i=e!=null&&t(e,a)))break;e=e[a]}return i||++s!=o?i:(o=e==null?0:e.length,!!o&&Ja(o)&&Qa(a,o)&&(Lt(e)||es(e)))}function hu(e,n){return e!=null&&fu(e,n,du)}var pu=1,vu=2;function mu(e,n){return ro(e)&&Gi(n)?Zi(Gn(e),n):function(t){var s=fl(t,e);return s===void 0&&s===n?hu(t,e):io(n,s,pu|vu)}}function gu(e){return function(n){return n==null?void 0:n[e]}}function bu(e){return function(n){return Ki(n,e)}}function yu(e){return ro(e)?gu(Gn(e)):bu(e)}function wu(e){return typeof e=="function"?e:e==null?ts:typeof e=="object"?Lt(e)?mu(e[0],e[1]):cu(e):yu(e)}function _u(e,n){return e&&ns(e,n,no)}function xu(e,n){return function(t,s){if(t==null)return t;if(!Zr(t))return e(t,s);for(var o=t.length,i=n?o:-1,a=Object(t);(n?i--:++i<o)&&s(a[i],i,a)!==!1;);return t}}var Cu=xu(_u),ku=Cu;function Su(e,n){var t=-1,s=Zr(e)?Array(e.length):[];return ku(e,function(o,i,a){s[++t]=n(o,i,a)}),s}function Eu(e,n){var t=Lt(e)?rs:Su;return t(e,wu(n))}var qi=Le({name:"Checkmark",render(){return H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},H("g",{fill:"none"},H("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),Au=Le({name:"ChevronRight",render(){return H("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},H("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}}),Ru=Le({name:"Empty",render(){return H("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},H("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),H("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),Yi=Le({props:{onFocus:Function,onBlur:Function},setup(e){return()=>H("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}});function Xo(e){return Array.isArray(e)?e:[e]}const Hr={STOP:"STOP"};function Xi(e,n){const t=n(e);e.children!==void 0&&t!==Hr.STOP&&e.children.forEach(s=>Xi(s,n))}function zu(e,n={}){const{preserveGroup:t=!1}=n,s=[],o=t?a=>{a.isLeaf||(s.push(a.key),i(a.children))}:a=>{a.isLeaf||(a.isGroup||s.push(a.key),i(a.children))};function i(a){a.forEach(o)}return i(e),s}function Iu(e,n){const{isLeaf:t}=e;return t!==void 0?t:!n(e)}function Ou(e){return e.children}function Pu(e){return e.key}function Tu(){return!1}function $u(e,n){const{isLeaf:t}=e;return!(t===!1&&!Array.isArray(n(e)))}function Nu(e){return e.disabled===!0}function Mu(e,n){return e.isLeaf===!1&&!Array.isArray(n(e))}function kr(e){var n;return e==null?[]:Array.isArray(e)?e:(n=e.checkedKeys)!==null&&n!==void 0?n:[]}function Sr(e){var n;return e==null||Array.isArray(e)?[]:(n=e.indeterminateKeys)!==null&&n!==void 0?n:[]}function Fu(e,n){const t=new Set(e);return n.forEach(s=>{t.has(s)||t.add(s)}),Array.from(t)}function Bu(e,n){const t=new Set(e);return n.forEach(s=>{t.has(s)&&t.delete(s)}),Array.from(t)}function Du(e){return(e==null?void 0:e.type)==="group"}function Lu(e){const n=new Map;return e.forEach((t,s)=>{n.set(t.key,s)}),t=>{var s;return(s=n.get(t))!==null&&s!==void 0?s:null}}class Ji extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function Uu(e,n,t,s){return Wn(n.concat(e),t,s,!1)}function ju(e,n){const t=new Set;return e.forEach(s=>{const o=n.treeNodeMap.get(s);if(o!==void 0){let i=o.parent;for(;i!==null&&!(i.disabled||t.has(i.key));)t.add(i.key),i=i.parent}}),t}function Hu(e,n,t,s){const o=Wn(n,t,s,!1),i=Wn(e,t,s,!0),a=ju(e,t),r=[];return o.forEach(l=>{(i.has(l)||a.has(l))&&r.push(l)}),r.forEach(l=>o.delete(l)),o}function Er(e,n){const{checkedKeys:t,keysToCheck:s,keysToUncheck:o,indeterminateKeys:i,cascade:a,leafOnly:r,checkStrategy:l,allowNotLoaded:c}=e;if(!a)return s!==void 0?{checkedKeys:Fu(t,s),indeterminateKeys:Array.from(i)}:o!==void 0?{checkedKeys:Bu(t,o),indeterminateKeys:Array.from(i)}:{checkedKeys:Array.from(t),indeterminateKeys:Array.from(i)};const{levelTreeNodeMap:f}=n;let u;o!==void 0?u=Hu(o,t,n,c):s!==void 0?u=Uu(s,t,n,c):u=Wn(t,n,c,!1);const m=l==="parent",d=l==="child"||r,b=u,p=new Set,y=Math.max.apply(null,Array.from(f.keys()));for(let g=y;g>=0;g-=1){const w=g===0,E=f.get(g);for(const A of E){if(A.isLeaf)continue;const{key:_,shallowLoaded:O}=A;if(d&&O&&A.children.forEach(N=>{!N.disabled&&!N.isLeaf&&N.shallowLoaded&&b.has(N.key)&&b.delete(N.key)}),A.disabled||!O)continue;let I=!0,P=!1,z=!0;for(const N of A.children){const G=N.key;if(!N.disabled){if(z&&(z=!1),b.has(G))P=!0;else if(p.has(G)){P=!0,I=!1;break}else if(I=!1,P)break}}I&&!z?(m&&A.children.forEach(N=>{!N.disabled&&b.has(N.key)&&b.delete(N.key)}),b.add(_)):P&&p.add(_),w&&d&&b.has(_)&&b.delete(_)}}return{checkedKeys:Array.from(b),indeterminateKeys:Array.from(p)}}function Wn(e,n,t,s){const{treeNodeMap:o,getChildren:i}=n,a=new Set,r=new Set(e);return e.forEach(l=>{const c=o.get(l);c!==void 0&&Xi(c,f=>{if(f.disabled)return Hr.STOP;const{key:u}=f;if(!a.has(u)&&(a.add(u),r.add(u),Mu(f.rawNode,i))){if(s)return Hr.STOP;if(!t)throw new Ji}})}),r}function Wu(e,{includeGroup:n=!1,includeSelf:t=!0},s){var o;const i=s.treeNodeMap;let a=e==null?null:(o=i.get(e))!==null&&o!==void 0?o:null;const r={keyPath:[],treeNodePath:[],treeNode:a};if(a!=null&&a.ignored)return r.treeNode=null,r;for(;a;)!a.ignored&&(n||!a.isGroup)&&r.treeNodePath.push(a),a=a.parent;return r.treeNodePath.reverse(),t||r.treeNodePath.pop(),r.keyPath=r.treeNodePath.map(l=>l.key),r}function Ku(e){if(e.length===0)return null;const n=e[0];return n.isGroup||n.ignored||n.disabled?n.getNext():n}function Vu(e,n){const t=e.siblings,s=t.length,{index:o}=e;return n?t[(o+1)%s]:o===t.length-1?null:t[o+1]}function Jo(e,n,{loop:t=!1,includeDisabled:s=!1}={}){const o=n==="prev"?Gu:Vu,i={reverse:n==="prev"};let a=!1,r=null;function l(c){if(c!==null){if(c===e){if(!a)a=!0;else if(!e.disabled&&!e.isGroup){r=e;return}}else if((!c.disabled||s)&&!c.ignored&&!c.isGroup){r=c;return}if(c.isGroup){const f=ao(c,i);f!==null?r=f:l(o(c,t))}else{const f=o(c,!1);if(f!==null)l(f);else{const u=Zu(c);u!=null&&u.isGroup?l(o(u,t)):t&&l(o(c,!0))}}}}return l(e),r}function Gu(e,n){const t=e.siblings,s=t.length,{index:o}=e;return n?t[(o-1+s)%s]:o===0?null:t[o-1]}function Zu(e){return e.parent}function ao(e,n={}){const{reverse:t=!1}=n,{children:s}=e;if(s){const{length:o}=s,i=t?o-1:0,a=t?-1:o,r=t?-1:1;for(let l=i;l!==a;l+=r){const c=s[l];if(!c.disabled&&!c.ignored)if(c.isGroup){const f=ao(c,n);if(f!==null)return f}else return c}}return null}const qu={getChild(){return this.ignored?null:ao(this)},getParent(){const{parent:e}=this;return e!=null&&e.isGroup?e.getParent():e},getNext(e={}){return Jo(this,"next",e)},getPrev(e={}){return Jo(this,"prev",e)}};function Yu(e,n){const t=n?new Set(n):void 0,s=[];function o(i){i.forEach(a=>{s.push(a),!(a.isLeaf||!a.children||a.ignored)&&(a.isGroup||t===void 0||t.has(a.key))&&o(a.children)})}return o(e),s}function Xu(e,n){const t=e.key;for(;n;){if(n.key===t)return!0;n=n.parent}return!1}function Qi(e,n,t,s,o,i=null,a=0){const r=[];return e.forEach((l,c)=>{var f;const u=Object.create(s);if(u.rawNode=l,u.siblings=r,u.level=a,u.index=c,u.isFirstChild=c===0,u.isLastChild=c+1===e.length,u.parent=i,!u.ignored){const m=o(l);Array.isArray(m)&&(u.children=Qi(m,n,t,s,o,u,a+1))}r.push(u),n.set(u.key,u),t.has(a)||t.set(a,[]),(f=t.get(a))===null||f===void 0||f.push(u)}),r}function ea(e,n={}){var t;const s=new Map,o=new Map,{getDisabled:i=Nu,getIgnored:a=Tu,getIsGroup:r=Du,getKey:l=Pu}=n,c=(t=n.getChildren)!==null&&t!==void 0?t:Ou,f=n.ignoreEmptyChildren?A=>{const _=c(A);return Array.isArray(_)?_.length?_:null:_}:c,u=Object.assign({get key(){return l(this.rawNode)},get disabled(){return i(this.rawNode)},get isGroup(){return r(this.rawNode)},get isLeaf(){return Iu(this.rawNode,f)},get shallowLoaded(){return $u(this.rawNode,f)},get ignored(){return a(this.rawNode)},contains(A){return Xu(this,A)}},qu),m=Qi(e,s,o,u,f);function d(A){if(A==null)return null;const _=s.get(A);return _&&!_.isGroup&&!_.ignored?_:null}function b(A){if(A==null)return null;const _=s.get(A);return _&&!_.ignored?_:null}function p(A,_){const O=b(A);return O?O.getPrev(_):null}function y(A,_){const O=b(A);return O?O.getNext(_):null}function g(A){const _=b(A);return _?_.getParent():null}function w(A){const _=b(A);return _?_.getChild():null}const E={treeNodes:m,treeNodeMap:s,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:f,getFlattenedNodes(A){return Yu(m,A)},getNode:d,getPrev:p,getNext:y,getParent:g,getChild:w,getFirstAvailableNode(){return Ku(m)},getPath(A,_={}){return Wu(A,_,E)},getCheckedKeys(A,_={}){const{cascade:O=!0,leafOnly:I=!1,checkStrategy:P="all",allowNotLoaded:z=!1}=_;return Er({checkedKeys:kr(A),indeterminateKeys:Sr(A),cascade:O,leafOnly:I,checkStrategy:P,allowNotLoaded:z},E)},check(A,_,O={}){const{cascade:I=!0,leafOnly:P=!1,checkStrategy:z="all",allowNotLoaded:N=!1}=O;return Er({checkedKeys:kr(_),indeterminateKeys:Sr(_),keysToCheck:A==null?[]:Xo(A),cascade:I,leafOnly:P,checkStrategy:z,allowNotLoaded:N},E)},uncheck(A,_,O={}){const{cascade:I=!0,leafOnly:P=!1,checkStrategy:z="all",allowNotLoaded:N=!1}=O;return Er({checkedKeys:kr(_),indeterminateKeys:Sr(_),keysToUncheck:A==null?[]:Xo(A),cascade:I,leafOnly:P,checkStrategy:z,allowNotLoaded:N},E)},getNonLeafKeys(A={}){return zu(m,A)}};return E}var Ju={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"};const Qu=e=>{const{textColorDisabled:n,iconColor:t,textColor2:s,fontSizeSmall:o,fontSizeMedium:i,fontSizeLarge:a,fontSizeHuge:r}=e;return Object.assign(Object.assign({},Ju),{fontSizeSmall:o,fontSizeMedium:i,fontSizeLarge:a,fontSizeHuge:r,textColor:n,iconColor:t,extraTextColor:s})},ec={name:"Empty",common:Tt,self:Qu};var so=ec,tc=le("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[ye("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[Ce("+",[ye("description",`
 margin-top: 8px;
 `)])]),ye("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),ye("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]);const nc=Object.assign(Object.assign({},et.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function});var ta=Le({name:"Empty",props:nc,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:t}=jt(e),s=et("Empty","-empty",tc,so,e,n),{localeRef:o}=$i("Empty"),i=Qe(os,null),a=me(()=>{var f,u,m;return(f=e.description)!==null&&f!==void 0?f:(m=(u=i==null?void 0:i.mergedComponentPropsRef.value)===null||u===void 0?void 0:u.Empty)===null||m===void 0?void 0:m.description}),r=me(()=>{var f,u;return((u=(f=i==null?void 0:i.mergedComponentPropsRef.value)===null||f===void 0?void 0:f.Empty)===null||u===void 0?void 0:u.renderIcon)||(()=>H(Ru,null))}),l=me(()=>{const{size:f}=e,{common:{cubicBezierEaseInOut:u},self:{[Ge("iconSize",f)]:m,[Ge("fontSize",f)]:d,textColor:b,iconColor:p,extraTextColor:y}}=s.value;return{"--n-icon-size":m,"--n-font-size":d,"--n-bezier":u,"--n-text-color":b,"--n-icon-color":p,"--n-extra-text-color":y}}),c=t?$t("empty",me(()=>{let f="";const{size:u}=e;return f+=u[0],f}),l,e):void 0;return{mergedClsPrefix:n,mergedRenderIcon:r,localizedDescription:me(()=>a.value||o.value.description),cssVars:t?void 0:l,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{$slots:e,mergedClsPrefix:n,onRender:t}=this;return t==null||t(),H("div",{class:[`${n}-empty`,this.themeClass],style:this.cssVars},this.showIcon?H("div",{class:`${n}-empty__icon`},e.icon?e.icon():H(Ln,{clsPrefix:n},{default:this.mergedRenderIcon})):null,this.showDescription?H("div",{class:`${n}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?H("div",{class:`${n}-empty__extra`},e.extra()):null)}}),rc={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"};const oc=e=>{const{borderRadius:n,popoverColor:t,textColor3:s,dividerColor:o,textColor2:i,primaryColorPressed:a,textColorDisabled:r,primaryColor:l,opacityDisabled:c,hoverColor:f,fontSizeSmall:u,fontSizeMedium:m,fontSizeLarge:d,fontSizeHuge:b,heightSmall:p,heightMedium:y,heightLarge:g,heightHuge:w}=e;return Object.assign(Object.assign({},rc),{optionFontSizeSmall:u,optionFontSizeMedium:m,optionFontSizeLarge:d,optionFontSizeHuge:b,optionHeightSmall:p,optionHeightMedium:y,optionHeightLarge:g,optionHeightHuge:w,borderRadius:n,color:t,groupHeaderTextColor:s,actionDividerColor:o,optionTextColor:i,optionTextColorPressed:a,optionTextColorDisabled:r,optionTextColorActive:l,optionOpacityDisabled:c,optionCheckColor:l,optionColorPending:f,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:f,actionTextColor:i,loadingColor:l})},ic=Yr({name:"InternalSelectMenu",common:Tt,peers:{Scrollbar:Ei,Empty:so},self:oc});var na=ic;const ac=H(qi);function sc(e,n){return H(fn,{name:"fade-in-scale-up-transition"},{default:()=>e?H(Ln,{clsPrefix:n,class:`${n}-base-select-option__check`},{default:()=>ac}):null})}var Qo=Le({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:n,pendingTmNodeRef:t,multipleRef:s,valueSetRef:o,renderLabelRef:i,renderOptionRef:a,labelFieldRef:r,valueFieldRef:l,showCheckmarkRef:c,nodePropsRef:f,handleOptionClick:u,handleOptionMouseEnter:m}=Qe(Qr),d=st(()=>{const{value:g}=t;return g?e.tmNode.key===g.key:!1});function b(g){const{tmNode:w}=e;w.disabled||u(g,w)}function p(g){const{tmNode:w}=e;w.disabled||m(g,w)}function y(g){const{tmNode:w}=e,{value:E}=d;w.disabled||E||m(g,w)}return{multiple:s,isGrouped:st(()=>{const{tmNode:g}=e,{parent:w}=g;return w&&w.rawNode.type==="group"}),showCheckmark:c,nodeProps:f,isPending:d,isSelected:st(()=>{const{value:g}=n,{value:w}=s;if(g===null)return!1;const E=e.tmNode.rawNode[l.value];if(w){const{value:A}=o;return A.has(E)}else return g===E}),labelField:r,renderLabel:i,renderOption:a,handleMouseMove:y,handleMouseEnter:p,handleClick:b}},render(){const{clsPrefix:e,tmNode:{rawNode:n},isSelected:t,isPending:s,isGrouped:o,showCheckmark:i,nodeProps:a,renderOption:r,renderLabel:l,handleClick:c,handleMouseEnter:f,handleMouseMove:u}=this,m=sc(t,e),d=l?[l(n,t),i&&m]:[rn(n[this.labelField],n,t),i&&m],b=a==null?void 0:a(n),p=H("div",Object.assign({},b,{class:[`${e}-base-select-option`,n.class,b==null?void 0:b.class,{[`${e}-base-select-option--disabled`]:n.disabled,[`${e}-base-select-option--selected`]:t,[`${e}-base-select-option--grouped`]:o,[`${e}-base-select-option--pending`]:s,[`${e}-base-select-option--show-checkmark`]:i}],style:[(b==null?void 0:b.style)||"",n.style||""],onClick:gr([c,b==null?void 0:b.onClick]),onMouseenter:gr([f,b==null?void 0:b.onMouseenter]),onMousemove:gr([u,b==null?void 0:b.onMousemove])}),H("div",{class:`${e}-base-select-option__content`},d));return n.render?n.render({node:p,option:n,selected:t}):r?r({node:p,option:n,selected:t}):p}}),ei=Le({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:n,labelFieldRef:t,nodePropsRef:s}=Qe(Qr);return{labelField:t,nodeProps:s,renderLabel:e,renderOption:n}},render(){const{clsPrefix:e,renderLabel:n,renderOption:t,nodeProps:s,tmNode:{rawNode:o}}=this,i=s==null?void 0:s(o),a=n?n(o,!1):rn(o[this.labelField],o,!1),r=H("div",Object.assign({},i,{class:[`${e}-base-select-group-header`,i==null?void 0:i.class]}),a);return o.render?o.render({node:r,option:o}):t?t({node:r,option:o,selected:!1}):r}}),lc=le("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[le("scrollbar",`
 max-height: var(--n-height);
 `),le("virtual-list",`
 max-height: var(--n-height);
 `),le("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[ye("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),le("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),le("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),ye("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),ye("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),ye("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),le("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),le("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[ze("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),Ce("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),Ce("&:active",`
 color: var(--n-option-text-color-pressed);
 `),ze("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),ze("pending",[Ce("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),ze("selected",`
 color: var(--n-option-text-color-active);
 `,[Ce("&::before",`
 background-color: var(--n-option-color-active);
 `),ze("pending",[Ce("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),ze("disabled",`
 cursor: not-allowed;
 `,[At("selected",`
 color: var(--n-option-text-color-disabled);
 `),ze("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),ye("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Fr({enterScale:"0.5"})])])]),uc=Le({name:"InternalSelectMenu",props:Object.assign(Object.assign({},et.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const n=et("InternalSelectMenu","-internal-select-menu",lc,na,e,Fe(e,"clsPrefix")),t=ve(null),s=ve(null),o=ve(null),i=me(()=>e.treeMate.getFlattenedNodes()),a=me(()=>Lu(i.value)),r=ve(null);function l(){const{treeMate:F}=e;let J=null;const{value:B}=e;B===null?J=F.getFirstAvailableNode():(e.multiple?J=F.getNode((B||[])[(B||[]).length-1]):J=F.getNode(B),(!J||J.disabled)&&(J=F.getFirstAvailableNode())),G(J||null)}function c(){const{value:F}=r;F&&!e.treeMate.getNode(F.key)&&(r.value=null)}let f;xt(()=>e.show,F=>{F?f=xt(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?l():c(),Cn(C)):c()},{immediate:!0}):f==null||f()},{immediate:!0}),Ut(()=>{f==null||f()});const u=me(()=>Ft(n.value.self[Ge("optionHeight",e.size)])),m=me(()=>pr(n.value.self[Ge("padding",e.size)])),d=me(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),b=me(()=>{const F=i.value;return F&&F.length===0});function p(F){const{onToggle:J}=e;J&&J(F)}function y(F){const{onScroll:J}=e;J&&J(F)}function g(F){var J;(J=o.value)===null||J===void 0||J.sync(),y(F)}function w(){var F;(F=o.value)===null||F===void 0||F.sync()}function E(){const{value:F}=r;return F||null}function A(F,J){J.disabled||G(J,!1)}function _(F,J){J.disabled||p(J)}function O(F){var J;xn(F,"action")||(J=e.onKeyup)===null||J===void 0||J.call(e,F)}function I(F){var J;xn(F,"action")||(J=e.onKeydown)===null||J===void 0||J.call(e,F)}function P(F){var J;(J=e.onMousedown)===null||J===void 0||J.call(e,F),!e.focusable&&F.preventDefault()}function z(){const{value:F}=r;F&&G(F.getNext({loop:!0}),!0)}function N(){const{value:F}=r;F&&G(F.getPrev({loop:!0}),!0)}function G(F,J=!1){r.value=F,J&&C()}function C(){var F,J;const B=r.value;if(!B)return;const W=a.value(B.key);W!==null&&(e.virtualScroll?(F=s.value)===null||F===void 0||F.scrollTo({index:W}):(J=o.value)===null||J===void 0||J.scrollTo({index:W,elSize:u.value}))}function j(F){var J,B;!((J=t.value)===null||J===void 0)&&J.contains(F.target)&&((B=e.onFocus)===null||B===void 0||B.call(e,F))}function h(F){var J,B;!((J=t.value)===null||J===void 0)&&J.contains(F.relatedTarget)||(B=e.onBlur)===null||B===void 0||B.call(e,F)}Ct(Qr,{handleOptionMouseEnter:A,handleOptionClick:_,valueSetRef:d,pendingTmNodeRef:r,nodePropsRef:Fe(e,"nodeProps"),showCheckmarkRef:Fe(e,"showCheckmark"),multipleRef:Fe(e,"multiple"),valueRef:Fe(e,"value"),renderLabelRef:Fe(e,"renderLabel"),renderOptionRef:Fe(e,"renderOption"),labelFieldRef:Fe(e,"labelField"),valueFieldRef:Fe(e,"valueField")}),Ct(Fi,t),Pt(()=>{const{value:F}=o;F&&F.sync()});const V=me(()=>{const{size:F}=e,{common:{cubicBezierEaseInOut:J},self:{height:B,borderRadius:W,color:pe,groupHeaderTextColor:de,actionDividerColor:oe,optionTextColorPressed:Pe,optionTextColor:ke,optionTextColorDisabled:_e,optionTextColorActive:we,optionOpacityDisabled:Te,optionCheckColor:Se,actionTextColor:Ze,optionColorPending:Ve,optionColorActive:v,loadingColor:X,loadingSize:q,optionColorActivePending:R,[Ge("optionFontSize",F)]:k,[Ge("optionHeight",F)]:D,[Ge("optionPadding",F)]:Q}}=n.value;return{"--n-height":B,"--n-action-divider-color":oe,"--n-action-text-color":Ze,"--n-bezier":J,"--n-border-radius":W,"--n-color":pe,"--n-option-font-size":k,"--n-group-header-text-color":de,"--n-option-check-color":Se,"--n-option-color-pending":Ve,"--n-option-color-active":v,"--n-option-color-active-pending":R,"--n-option-height":D,"--n-option-opacity-disabled":Te,"--n-option-text-color":ke,"--n-option-text-color-active":we,"--n-option-text-color-disabled":_e,"--n-option-text-color-pressed":Pe,"--n-option-padding":Q,"--n-option-padding-left":pr(Q,"left"),"--n-option-padding-right":pr(Q,"right"),"--n-loading-color":X,"--n-loading-size":q}}),{inlineThemeDisabled:re}=e,Z=re?$t("internal-select-menu",me(()=>e.size[0]),V,e):void 0,ue={selfRef:t,next:z,prev:N,getPendingTmNode:E};return to(t,e.onResize),Object.assign({mergedTheme:n,virtualListRef:s,scrollbarRef:o,itemSize:u,padding:m,flattenedNodes:i,empty:b,virtualListContainer(){const{value:F}=s;return F==null?void 0:F.listElRef},virtualListContent(){const{value:F}=s;return F==null?void 0:F.itemsElRef},doScroll:y,handleFocusin:j,handleFocusout:h,handleKeyUp:O,handleKeyDown:I,handleMouseDown:P,handleVirtualListResize:w,handleVirtualListScroll:g,cssVars:re?void 0:V,themeClass:Z==null?void 0:Z.themeClass,onRender:Z==null?void 0:Z.onRender},ue)},render(){const{$slots:e,virtualScroll:n,clsPrefix:t,mergedTheme:s,themeClass:o,onRender:i}=this;return i==null||i(),H("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${t}-base-select-menu`,o,this.multiple&&`${t}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?H("div",{class:`${t}-base-select-menu__loading`},H(Ai,{clsPrefix:t,strokeWidth:20})):this.empty?H("div",{class:`${t}-base-select-menu__empty`,"data-empty":!0},zi(e.empty,()=>[H(ta,{theme:s.peers.Empty,themeOverrides:s.peerOverrides.Empty})])):H(Ri,{ref:"scrollbarRef",theme:s.peers.Scrollbar,themeOverrides:s.peerOverrides.Scrollbar,scrollable:this.scrollable,container:n?this.virtualListContainer:void 0,content:n?this.virtualListContent:void 0,onScroll:n?void 0:this.doScroll},{default:()=>n?H(Hi,{ref:"virtualListRef",class:`${t}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:a})=>a.isGroup?H(ei,{key:a.key,clsPrefix:t,tmNode:a}):a.ignored?null:H(Qo,{clsPrefix:t,key:a.key,tmNode:a})}):H("div",{class:`${t}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(a=>a.isGroup?H(ei,{key:a.key,clsPrefix:t,tmNode:a}):H(Qo,{clsPrefix:t,key:a.key,tmNode:a})))}),wn(e.action,a=>a&&[H("div",{class:`${t}-base-select-menu__action`,"data-action":!0,key:"action"},a),H(Yi,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),cc=le("base-menu-mask",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 text-align: center;
 padding: 14px;
 overflow: hidden;
`,[is()]),dc=Le({name:"BaseMenuMask",props:{clsPrefix:{type:String,required:!0}},setup(e){as("-base-menu-mask",cc,Fe(e,"clsPrefix"));const n=ve(null);let t=null;const s=ve(!1);return Ut(()=>{t!==null&&window.clearTimeout(t)}),Object.assign({message:n,show:s},{showOnce(i,a=1500){t&&window.clearTimeout(t),s.value=!0,n.value=i,t=window.setTimeout(()=>{s.value=!1,n.value=null},a)}})},render(){return H(fn,{name:"fade-in-transition"},{default:()=>this.show?H("div",{class:`${this.clsPrefix}-base-menu-mask`},this.message):null})}}),fc={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"};const hc=e=>{const{boxShadow2:n,popoverColor:t,textColor2:s,borderRadius:o,fontSize:i,dividerColor:a}=e;return Object.assign(Object.assign({},fc),{fontSize:i,borderRadius:o,color:t,dividerColor:a,textColor:s,boxShadow:n})},pc={name:"Popover",common:Tt,self:hc};var ra=pc;const Ar={top:"bottom",bottom:"top",left:"right",right:"left"},Je="var(--n-arrow-height) * 1.414";var vc=Ce([le("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 `,[Ce(">",[le("scrollbar",`
 height: inherit;
 max-height: inherit;
 `)]),At("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[At("scrollable",[At("show-header","padding: var(--n-padding);")])]),ye("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),ze("scrollable, show-header",[ye("content",`
 padding: var(--n-padding);
 `)])]),le("popover-shared",`
 transform-origin: inherit;
 `,[le("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[le("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${Je});
 height: calc(${Je});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)]),Ce("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),Ce("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),Ce("&.popover-transition-enter-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),Ce("&.popover-transition-leave-active",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `)]),_t("top-start",`
 top: calc(${Je} / -2 + 1px);
 left: calc(${Ot("top-start")} - var(--v-offset-left));
 `),_t("top",`
 top: calc(${Je} / -2 + 1px);
 transform: translateX(calc(${Je} / -2)) rotate(45deg);
 left: 50%;
 `),_t("top-end",`
 top: calc(${Je} / -2 + 1px);
 right: calc(${Ot("top-end")} + var(--v-offset-left));
 `),_t("bottom-start",`
 bottom: calc(${Je} / -2 + 1px);
 left: calc(${Ot("bottom-start")} - var(--v-offset-left));
 `),_t("bottom",`
 bottom: calc(${Je} / -2 + 1px);
 transform: translateX(calc(${Je} / -2)) rotate(45deg);
 left: 50%;
 `),_t("bottom-end",`
 bottom: calc(${Je} / -2 + 1px);
 right: calc(${Ot("bottom-end")} + var(--v-offset-left));
 `),_t("left-start",`
 left: calc(${Je} / -2 + 1px);
 top: calc(${Ot("left-start")} - var(--v-offset-top));
 `),_t("left",`
 left: calc(${Je} / -2 + 1px);
 transform: translateY(calc(${Je} / -2)) rotate(45deg);
 top: 50%;
 `),_t("left-end",`
 left: calc(${Je} / -2 + 1px);
 bottom: calc(${Ot("left-end")} + var(--v-offset-top));
 `),_t("right-start",`
 right: calc(${Je} / -2 + 1px);
 top: calc(${Ot("right-start")} - var(--v-offset-top));
 `),_t("right",`
 right: calc(${Je} / -2 + 1px);
 transform: translateY(calc(${Je} / -2)) rotate(45deg);
 top: 50%;
 `),_t("right-end",`
 right: calc(${Je} / -2 + 1px);
 bottom: calc(${Ot("right-end")} + var(--v-offset-top));
 `),...Eu({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(e,n)=>{const t=["right","left"].includes(n),s=t?"width":"height";return e.map(o=>{const i=o.split("-")[1]==="end",r=`calc((${`var(--v-target-${s}, 0px)`} - ${Je}) / 2)`,l=Ot(o);return Ce(`[v-placement="${o}"] >`,[le("popover-shared",[ze("center-arrow",[le("popover-arrow",`${n}: calc(max(${r}, ${l}) ${i?"+":"-"} var(--v-offset-${t?"left":"top"}));`)])])])})})]);function Ot(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function _t(e,n){const t=e.split("-")[0],s=["top","bottom"].includes(t)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return Ce(`[v-placement="${e}"] >`,[le("popover-shared",`
 margin-${Ar[t]}: var(--n-space);
 `,[ze("show-arrow",`
 margin-${Ar[t]}: var(--n-space-arrow);
 `),ze("overlap",`
 margin: 0;
 `),ss("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${t}: calc(100% - 1px);
 ${Ar[t]}: auto;
 ${s}
 `,[le("popover-arrow",n)])])])}const oa=Object.assign(Object.assign({},et.props),{to:Rt.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,minWidth:Number,maxWidth:Number}),mc=({arrowStyle:e,clsPrefix:n})=>H("div",{key:"__popover-arrow__",class:`${n}-popover-arrow-wrapper`},H("div",{class:`${n}-popover-arrow`,style:e}));var gc=Le({name:"PopoverBody",inheritAttrs:!1,props:oa,setup(e,{slots:n,attrs:t}){const{namespaceRef:s,mergedClsPrefixRef:o,inlineThemeDisabled:i}=jt(e),a=et("Popover","-popover",vc,ra,e,o),r=ve(null),l=Qe("NPopover"),c=ve(null),f=ve(e.show),u=ve(!1);Ii(()=>{const{show:I}=e;I&&!Is()&&!e.internalDeactivateImmediately&&(u.value=!0)});const m=me(()=>{const{trigger:I,onClickoutside:P}=e,z=[],{positionManuallyRef:{value:N}}=l;return N||(I==="click"&&!P&&z.push([Un,A,void 0,{capture:!0}]),I==="hover"&&z.push([Bs,E])),P&&z.push([Un,A,void 0,{capture:!0}]),(e.displayDirective==="show"||e.animated&&u.value)&&z.push([ls,e.show]),z}),d=me(()=>{const I=e.width==="trigger"?void 0:br(e.width),P=[];I&&P.push({width:I});const{maxWidth:z,minWidth:N}=e;return z&&P.push({maxWidth:br(z)}),N&&P.push({maxWidth:br(N)}),i||P.push(b.value),P}),b=me(()=>{const{common:{cubicBezierEaseInOut:I,cubicBezierEaseIn:P,cubicBezierEaseOut:z},self:{space:N,spaceArrow:G,padding:C,fontSize:j,textColor:h,dividerColor:V,color:re,boxShadow:Z,borderRadius:ue,arrowHeight:F,arrowOffset:J,arrowOffsetVertical:B}}=a.value;return{"--n-box-shadow":Z,"--n-bezier":I,"--n-bezier-ease-in":P,"--n-bezier-ease-out":z,"--n-font-size":j,"--n-text-color":h,"--n-color":re,"--n-divider-color":V,"--n-border-radius":ue,"--n-arrow-height":F,"--n-arrow-offset":J,"--n-arrow-offset-vertical":B,"--n-padding":C,"--n-space":N,"--n-space-arrow":G}}),p=i?$t("popover",void 0,b,e):void 0;l.setBodyInstance({syncPosition:y}),Ut(()=>{l.setBodyInstance(null)}),xt(Fe(e,"show"),I=>{e.animated||(I?f.value=!0:f.value=!1)});function y(){var I;(I=r.value)===null||I===void 0||I.syncPosition()}function g(I){e.trigger==="hover"&&e.keepAliveOnHover&&e.show&&l.handleMouseEnter(I)}function w(I){e.trigger==="hover"&&e.keepAliveOnHover&&l.handleMouseLeave(I)}function E(I){e.trigger==="hover"&&!_().contains(I.target)&&l.handleMouseMoveOutside(I)}function A(I){(e.trigger==="click"&&!_().contains(I.target)||e.onClickoutside)&&l.handleClickOutside(I)}function _(){return l.getTriggerElement()}Ct(_i,c),Ct(wi,null),Ct(yi,null);function O(){if(p==null||p.onRender(),!(e.displayDirective==="show"||e.show||e.animated&&u.value))return null;let P;const z=l.internalRenderBodyRef.value,{value:N}=o;if(z)P=z([`${N}-popover-shared`,p==null?void 0:p.themeClass.value,e.overlap&&`${N}-popover-shared--overlap`,e.showArrow&&`${N}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${N}-popover-shared--center-arrow`],c,d.value,g,w);else{const{value:G}=l.extraClassRef,{internalTrapFocus:C}=e,j=()=>{const h=wn(n.header,re=>{var Z;const ue=re?H(on,null,H("div",{class:`${N}-popover__header`,style:e.headerStyle},re),H("div",{class:`${N}-popover__content`,style:e.contentStyle},n)):e.scrollable?(Z=n.default)===null||Z===void 0?void 0:Z.call(n):H("div",{class:`${N}-popover__content`,style:e.contentStyle},n);return e.scrollable?H(ds,{contentClass:re?void 0:`${N}-popover__content`,contentStyle:re?void 0:e.contentStyle},{default:()=>ue}):ue}),V=e.showArrow?mc({arrowStyle:e.arrowStyle,clsPrefix:N}):null;return[h,V]};P=H("div",Ci({class:[`${N}-popover`,`${N}-popover-shared`,p==null?void 0:p.themeClass.value,G.map(h=>`${N}-${h}`),{[`${N}-popover--scrollable`]:e.scrollable,[`${N}-popover--show-header`]:!cs(n.header),[`${N}-popover--raw`]:e.raw,[`${N}-popover-shared--overlap`]:e.overlap,[`${N}-popover-shared--show-arrow`]:e.showArrow,[`${N}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:c,style:d.value,onKeydown:l.handleKeydown,onMouseenter:g,onMouseleave:w},t),C?H(us,{active:e.show,autoFocus:!0},{default:j}):j())}return cn(P,m.value)}return{displayed:u,namespace:s,isMounted:l.isMountedRef,zIndex:l.zIndexRef,followerRef:r,adjustedTo:Rt(e),followerEnabled:f,renderContentNode:O}},render(){return H(Br,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===Rt.tdkey},{default:()=>this.animated?H(fn,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}});const bc=Object.keys(oa),yc={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function wc(e,n,t){yc[n].forEach(s=>{e.props?e.props=Object.assign({},e.props):e.props={};const o=e.props[s],i=t[s];o?e.props[s]=(...a)=>{o(...a),i(...a)}:e.props[s]=i})}const _c=Nt("").type,xc={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:Rt.propTo,scrollable:Boolean,contentStyle:[Object,String],headerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Cc=Object.assign(Object.assign(Object.assign({},et.props),xc),{internalRenderBody:Function});var kc=Le({name:"Popover",inheritAttrs:!1,props:Cc,__popover__:!0,setup(e){const n=Gr(),t=ve(null),s=me(()=>e.show),o=ve(e.defaultShow),i=_n(s,o),a=st(()=>e.disabled?!1:i.value),r=()=>{if(e.disabled)return!0;const{getDisabled:h}=e;return!!(h!=null&&h())},l=()=>r()?!1:i.value,c=Ts(e,["arrow","showArrow"]),f=me(()=>e.overlap?!1:c.value);let u=null;const m=ve(null),d=ve(null),b=st(()=>e.x!==void 0&&e.y!==void 0);function p(h){const{"onUpdate:show":V,onUpdateShow:re,onShow:Z,onHide:ue}=e;o.value=h,V&&Ke(V,h),re&&Ke(re,h),h&&Z&&Ke(Z,!0),h&&ue&&Ke(ue,!1)}function y(){u&&u.syncPosition()}function g(){const{value:h}=m;h&&(window.clearTimeout(h),m.value=null)}function w(){const{value:h}=d;h&&(window.clearTimeout(h),d.value=null)}function E(){const h=r();if(e.trigger==="focus"&&!h){if(l())return;p(!0)}}function A(){const h=r();if(e.trigger==="focus"&&!h){if(!l())return;p(!1)}}function _(){const h=r();if(e.trigger==="hover"&&!h){if(w(),m.value!==null||l())return;const V=()=>{p(!0),m.value=null},{delay:re}=e;re===0?V():m.value=window.setTimeout(V,re)}}function O(){const h=r();if(e.trigger==="hover"&&!h){if(g(),d.value!==null||!l())return;const V=()=>{p(!1),d.value=null},{duration:re}=e;re===0?V():d.value=window.setTimeout(V,re)}}function I(){O()}function P(h){var V;!l()||(e.trigger==="click"&&(g(),w(),p(!1)),(V=e.onClickoutside)===null||V===void 0||V.call(e,h))}function z(){if(e.trigger==="click"&&!r()){g(),w();const h=!l();p(h)}}function N(h){!e.internalTrapFocus||h.key==="Escape"&&(g(),w(),p(!1))}function G(h){o.value=h}function C(){var h;return(h=t.value)===null||h===void 0?void 0:h.targetRef}function j(h){u=h}return Ct("NPopover",{getTriggerElement:C,handleKeydown:N,handleMouseEnter:_,handleMouseLeave:O,handleClickOutside:P,handleMouseMoveOutside:I,setBodyInstance:j,positionManuallyRef:b,isMountedRef:n,zIndexRef:Fe(e,"zIndex"),extraClassRef:Fe(e,"internalExtraClass"),internalRenderBodyRef:Fe(e,"internalRenderBody")}),{binderInstRef:t,positionManually:b,mergedShowConsideringDisabledProp:a,uncontrolledShow:o,mergedShowArrow:f,getMergedShow:l,setShow:G,handleClick:z,handleMouseEnter:_,handleMouseLeave:O,handleFocus:E,handleBlur:A,syncPosition:y}},render(){var e;const{positionManually:n,$slots:t}=this;let s,o=!1;if(!n&&(t.activator?s=Eo(t,"activator"):s=Eo(t,"trigger"),s)){s=fs(s),s=s.type===_c?H("span",[s]):s;const i={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(!((e=s.type)===null||e===void 0)&&e.__popover__)o=!0,s.props||(s.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),s.props.internalSyncTargetWithParent=!0,s.props.internalInheritedEventHandlers?s.props.internalInheritedEventHandlers=[i,...s.props.internalInheritedEventHandlers]:s.props.internalInheritedEventHandlers=[i];else{const{internalInheritedEventHandlers:a}=this,r=[i,...a],l={onBlur:c=>{r.forEach(f=>{f.onBlur(c)})},onFocus:c=>{r.forEach(f=>{f.onFocus(c)})},onClick:c=>{r.forEach(f=>{f.onClick(c)})},onMouseenter:c=>{r.forEach(f=>{f.onMouseenter(c)})},onMouseleave:c=>{r.forEach(f=>{f.onMouseleave(c)})}};wc(s,a?"nested":n?"manual":this.trigger,l)}}return H(Ui,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const i=this.getMergedShow();return[this.internalTrapFocus&&i?cn(H("div",{style:{position:"fixed",inset:0}}),[[xi,{enabled:i,zIndex:this.zIndex}]]):null,n?null:H(ji,null,{default:()=>s}),H(gc,hs(this.$props,bc,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:i})),{default:()=>{var a,r;return(r=(a=this.$slots).default)===null||r===void 0?void 0:r.call(a)},header:()=>{var a,r;return(r=(a=this.$slots).header)===null||r===void 0?void 0:r.call(a)}})]}})}}),Sc={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"};const Ec=e=>{const{textColor2:n,primaryColorHover:t,primaryColorPressed:s,primaryColor:o,infoColor:i,successColor:a,warningColor:r,errorColor:l,baseColor:c,borderColor:f,opacityDisabled:u,tagColor:m,closeIconColor:d,closeIconColorHover:b,closeIconColorPressed:p,borderRadiusSmall:y,fontSizeMini:g,fontSizeTiny:w,fontSizeSmall:E,fontSizeMedium:A,heightMini:_,heightTiny:O,heightSmall:I,heightMedium:P,closeColorHover:z,closeColorPressed:N,buttonColor2Hover:G,buttonColor2Pressed:C,fontWeightStrong:j}=e;return Object.assign(Object.assign({},Sc),{closeBorderRadius:y,heightTiny:_,heightSmall:O,heightMedium:I,heightLarge:P,borderRadius:y,opacityDisabled:u,fontSizeTiny:g,fontSizeSmall:w,fontSizeMedium:E,fontSizeLarge:A,fontWeightStrong:j,textColorCheckable:n,textColorHoverCheckable:n,textColorPressedCheckable:n,textColorChecked:c,colorCheckable:"#0000",colorHoverCheckable:G,colorPressedCheckable:C,colorChecked:o,colorCheckedHover:t,colorCheckedPressed:s,border:`1px solid ${f}`,textColor:n,color:m,colorBordered:"rgb(250, 250, 252)",closeIconColor:d,closeIconColorHover:b,closeIconColorPressed:p,closeColorHover:z,closeColorPressed:N,borderPrimary:`1px solid ${Me(o,{alpha:.3})}`,textColorPrimary:o,colorPrimary:Me(o,{alpha:.12}),colorBorderedPrimary:Me(o,{alpha:.1}),closeIconColorPrimary:o,closeIconColorHoverPrimary:o,closeIconColorPressedPrimary:o,closeColorHoverPrimary:Me(o,{alpha:.12}),closeColorPressedPrimary:Me(o,{alpha:.18}),borderInfo:`1px solid ${Me(i,{alpha:.3})}`,textColorInfo:i,colorInfo:Me(i,{alpha:.12}),colorBorderedInfo:Me(i,{alpha:.1}),closeIconColorInfo:i,closeIconColorHoverInfo:i,closeIconColorPressedInfo:i,closeColorHoverInfo:Me(i,{alpha:.12}),closeColorPressedInfo:Me(i,{alpha:.18}),borderSuccess:`1px solid ${Me(a,{alpha:.3})}`,textColorSuccess:a,colorSuccess:Me(a,{alpha:.12}),colorBorderedSuccess:Me(a,{alpha:.1}),closeIconColorSuccess:a,closeIconColorHoverSuccess:a,closeIconColorPressedSuccess:a,closeColorHoverSuccess:Me(a,{alpha:.12}),closeColorPressedSuccess:Me(a,{alpha:.18}),borderWarning:`1px solid ${Me(r,{alpha:.35})}`,textColorWarning:r,colorWarning:Me(r,{alpha:.15}),colorBorderedWarning:Me(r,{alpha:.12}),closeIconColorWarning:r,closeIconColorHoverWarning:r,closeIconColorPressedWarning:r,closeColorHoverWarning:Me(r,{alpha:.12}),closeColorPressedWarning:Me(r,{alpha:.18}),borderError:`1px solid ${Me(l,{alpha:.23})}`,textColorError:l,colorError:Me(l,{alpha:.1}),colorBorderedError:Me(l,{alpha:.08}),closeIconColorError:l,closeIconColorHoverError:l,closeIconColorPressedError:l,closeColorHoverError:Me(l,{alpha:.12}),closeColorPressedError:Me(l,{alpha:.18})})},Ac={name:"Tag",common:Tt,self:Ec};var Rc=Ac,zc={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},Ic=le("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[ze("strong",`
 font-weight: var(--n-font-weight-strong);
 `),ye("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),ye("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),ye("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),ye("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 cursor: pointer;
 `),ze("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[ye("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),ye("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),ze("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),ze("icon, avatar",[ze("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),ze("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),ze("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[At("disabled",[Ce("&:hover","background-color: var(--n-color-hover-checkable);",[At("checked","color: var(--n-text-color-hover-checkable);")]),Ce("&:active","background-color: var(--n-color-pressed-checkable);",[At("checked","color: var(--n-text-color-pressed-checkable);")])]),ze("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[At("disabled",[Ce("&:hover","background-color: var(--n-color-checked-hover);"),Ce("&:active","background-color: var(--n-color-checked-pressed);")])])])]);const Oc=Object.assign(Object.assign(Object.assign({},et.props),zc),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalStopClickPropagation:Boolean,onCheckedChange:{type:Function,validator:()=>!0,default:void 0}}),Pc=un("n-tag");var Rr=Le({name:"Tag",props:Oc,setup(e){const n=ve(null),{mergedBorderedRef:t,mergedClsPrefixRef:s,inlineThemeDisabled:o,mergedRtlRef:i}=jt(e),a=et("Tag","-tag",Ic,Rc,e,s);Ct(Pc,{roundRef:Fe(e,"round")});function r(d){if(!e.disabled&&e.checkable){const{checked:b,onCheckedChange:p,onUpdateChecked:y,"onUpdate:checked":g}=e;y&&y(!b),g&&g(!b),p&&p(!b)}}function l(d){if(e.internalStopClickPropagation&&d.stopPropagation(),!e.disabled){const{onClose:b}=e;b&&Ke(b,d)}}const c={setTextContent(d){const{value:b}=n;b&&(b.textContent=d)}},f=Oi("Tag",i,s),u=me(()=>{const{type:d,size:b,color:{color:p,textColor:y}={}}=e,{common:{cubicBezierEaseInOut:g},self:{padding:w,closeMargin:E,closeMarginRtl:A,borderRadius:_,opacityDisabled:O,textColorCheckable:I,textColorHoverCheckable:P,textColorPressedCheckable:z,textColorChecked:N,colorCheckable:G,colorHoverCheckable:C,colorPressedCheckable:j,colorChecked:h,colorCheckedHover:V,colorCheckedPressed:re,closeBorderRadius:Z,fontWeightStrong:ue,[Ge("colorBordered",d)]:F,[Ge("closeSize",b)]:J,[Ge("closeIconSize",b)]:B,[Ge("fontSize",b)]:W,[Ge("height",b)]:pe,[Ge("color",d)]:de,[Ge("textColor",d)]:oe,[Ge("border",d)]:Pe,[Ge("closeIconColor",d)]:ke,[Ge("closeIconColorHover",d)]:_e,[Ge("closeIconColorPressed",d)]:we,[Ge("closeColorHover",d)]:Te,[Ge("closeColorPressed",d)]:Se}}=a.value;return{"--n-font-weight-strong":ue,"--n-avatar-size-override":`calc(${pe} - 8px)`,"--n-bezier":g,"--n-border-radius":_,"--n-border":Pe,"--n-close-icon-size":B,"--n-close-color-pressed":Se,"--n-close-color-hover":Te,"--n-close-border-radius":Z,"--n-close-icon-color":ke,"--n-close-icon-color-hover":_e,"--n-close-icon-color-pressed":we,"--n-close-icon-color-disabled":ke,"--n-close-margin":E,"--n-close-margin-rtl":A,"--n-close-size":J,"--n-color":p||(t.value?F:de),"--n-color-checkable":G,"--n-color-checked":h,"--n-color-checked-hover":V,"--n-color-checked-pressed":re,"--n-color-hover-checkable":C,"--n-color-pressed-checkable":j,"--n-font-size":W,"--n-height":pe,"--n-opacity-disabled":O,"--n-padding":w,"--n-text-color":y||oe,"--n-text-color-checkable":I,"--n-text-color-checked":N,"--n-text-color-hover-checkable":P,"--n-text-color-pressed-checkable":z}}),m=o?$t("tag",me(()=>{let d="";const{type:b,size:p,color:{color:y,textColor:g}={}}=e;return d+=b[0],d+=p[0],y&&(d+=`a${Ao(y)}`),g&&(d+=`b${Ao(g)}`),t.value&&(d+="c"),d}),u,e):void 0;return Object.assign(Object.assign({},c),{rtlEnabled:f,mergedClsPrefix:s,contentRef:n,mergedBordered:t,handleClick:r,handleCloseClick:l,cssVars:o?void 0:u,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender})},render(){var e,n;const{mergedClsPrefix:t,rtlEnabled:s,closable:o,color:{borderColor:i}={},round:a,onRender:r,$slots:l}=this;r==null||r();const c=wn(l.avatar,u=>u&&H("div",{class:`${t}-tag__avatar`},u)),f=wn(l.icon,u=>u&&H("div",{class:`${t}-tag__icon`},u));return H("div",{class:[`${t}-tag`,this.themeClass,{[`${t}-tag--rtl`]:s,[`${t}-tag--strong`]:this.strong,[`${t}-tag--disabled`]:this.disabled,[`${t}-tag--checkable`]:this.checkable,[`${t}-tag--checked`]:this.checkable&&this.checked,[`${t}-tag--round`]:a,[`${t}-tag--avatar`]:c,[`${t}-tag--icon`]:f,[`${t}-tag--closable`]:o}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},f||c,H("span",{class:`${t}-tag__content`,ref:"contentRef"},(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e)),!this.checkable&&o?H(ps,{clsPrefix:t,class:`${t}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:a,absolute:!0}):null,!this.checkable&&this.mergedBordered?H("div",{class:`${t}-tag__border`,style:{borderColor:i}}):null)}}),Tc={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"};const $c=e=>{const{borderRadius:n,textColor2:t,textColorDisabled:s,inputColor:o,inputColorDisabled:i,primaryColor:a,primaryColorHover:r,warningColor:l,warningColorHover:c,errorColor:f,errorColorHover:u,borderColor:m,iconColor:d,iconColorDisabled:b,clearColor:p,clearColorHover:y,clearColorPressed:g,placeholderColor:w,placeholderColorDisabled:E,fontSizeTiny:A,fontSizeSmall:_,fontSizeMedium:O,fontSizeLarge:I,heightTiny:P,heightSmall:z,heightMedium:N,heightLarge:G}=e;return Object.assign(Object.assign({},Tc),{fontSizeTiny:A,fontSizeSmall:_,fontSizeMedium:O,fontSizeLarge:I,heightTiny:P,heightSmall:z,heightMedium:N,heightLarge:G,borderRadius:n,textColor:t,textColorDisabled:s,placeholderColor:w,placeholderColorDisabled:E,color:o,colorDisabled:i,colorActive:o,border:`1px solid ${m}`,borderHover:`1px solid ${r}`,borderActive:`1px solid ${a}`,borderFocus:`1px solid ${r}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${Me(a,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${Me(a,{alpha:.2})}`,caretColor:a,arrowColor:d,arrowColorDisabled:b,loadingColor:a,borderWarning:`1px solid ${l}`,borderHoverWarning:`1px solid ${c}`,borderActiveWarning:`1px solid ${l}`,borderFocusWarning:`1px solid ${c}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${Me(l,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${Me(l,{alpha:.2})}`,colorActiveWarning:o,caretColorWarning:l,borderError:`1px solid ${f}`,borderHoverError:`1px solid ${u}`,borderActiveError:`1px solid ${f}`,borderFocusError:`1px solid ${u}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${Me(f,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${Me(f,{alpha:.2})}`,colorActiveError:o,caretColorError:f,clearColor:p,clearColorHover:y,clearColorPressed:g})},Nc=Yr({name:"InternalSelection",common:Tt,peers:{Popover:ra},self:$c});var ia=Nc,Mc=Ce([le("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[le("base-loading",`
 color: var(--n-loading-color);
 `),le("base-selection-tags","min-height: var(--n-height);"),ye("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),ye("state-border",`
 z-index: 1;
 border-color: #0000;
 `),le("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[ye("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),le("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[ye("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),le("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `),le("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),le("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[le("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[ye("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),ye("render-label",`
 color: var(--n-text-color);
 `)]),At("disabled",[Ce("&:hover",[ye("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),ze("focus",[ye("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),ze("active",[ye("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),le("base-selection-label","background-color: var(--n-color-active);"),le("base-selection-tags","background-color: var(--n-color-active);")])]),ze("disabled","cursor: not-allowed;",[ye("arrow",`
 color: var(--n-arrow-color-disabled);
 `),le("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[le("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),ye("render-label",`
 color: var(--n-text-color-disabled);
 `)]),le("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),le("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),le("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[ye("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),ye("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>ze(`${e}-status`,[ye("state-border",`border: var(--n-border-${e});`),At("disabled",[Ce("&:hover",[ye("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),ze("active",[ye("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),le("base-selection-label",`background-color: var(--n-color-active-${e});`),le("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),ze("focus",[ye("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),le("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),le("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[Ce("&:last-child","padding-right: 0;"),le("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[ye("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),Fc=Le({name:"InternalSelection",props:Object.assign(Object.assign({},et.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,onResize:Function}),setup(e){const n=ve(null),t=ve(null),s=ve(null),o=ve(null),i=ve(null),a=ve(null),r=ve(null),l=ve(null),c=ve(null),f=ve(null),u=ve(!1),m=ve(!1),d=ve(!1),b=et("InternalSelection","-internal-selection",Mc,ia,e,Fe(e,"clsPrefix")),p=me(()=>e.clearable&&!e.disabled&&(d.value||e.active)),y=me(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):rn(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),g=me(()=>{const U=e.selectedOption;if(!!U)return U[e.labelField]}),w=me(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function E(){var U;const{value:T}=n;if(T){const{value:te}=t;te&&(te.style.width=`${T.offsetWidth}px`,e.maxTagCount!=="responsive"&&((U=c.value)===null||U===void 0||U.sync()))}}function A(){const{value:U}=f;U&&(U.style.display="none")}function _(){const{value:U}=f;U&&(U.style.display="inline-block")}xt(Fe(e,"active"),U=>{U||A()}),xt(Fe(e,"pattern"),()=>{e.multiple&&Cn(E)});function O(U){const{onFocus:T}=e;T&&T(U)}function I(U){const{onBlur:T}=e;T&&T(U)}function P(U){const{onDeleteOption:T}=e;T&&T(U)}function z(U){const{onClear:T}=e;T&&T(U)}function N(U){const{onPatternInput:T}=e;T&&T(U)}function G(U){var T;(!U.relatedTarget||!(!((T=s.value)===null||T===void 0)&&T.contains(U.relatedTarget)))&&O(U)}function C(U){var T;!((T=s.value)===null||T===void 0)&&T.contains(U.relatedTarget)||I(U)}function j(U){z(U)}function h(){d.value=!0}function V(){d.value=!1}function re(U){!e.active||!e.filterable||U.target!==t.value&&U.preventDefault()}function Z(U){P(U)}function ue(U){if(U.key==="Backspace"&&!F.value&&!e.pattern.length){const{selectedOptions:T}=e;T!=null&&T.length&&Z(T[T.length-1])}}const F=ve(!1);let J=null;function B(U){const{value:T}=n;if(T){const te=U.target.value;T.textContent=te,E()}F.value?J=U:N(U)}function W(){F.value=!0}function pe(){F.value=!1,N(J),J=null}function de(U){var T;m.value=!0,(T=e.onPatternFocus)===null||T===void 0||T.call(e,U)}function oe(U){var T;m.value=!1,(T=e.onPatternBlur)===null||T===void 0||T.call(e,U)}function Pe(){var U,T;if(e.filterable)m.value=!1,(U=a.value)===null||U===void 0||U.blur(),(T=t.value)===null||T===void 0||T.blur();else if(e.multiple){const{value:te}=o;te==null||te.blur()}else{const{value:te}=i;te==null||te.blur()}}function ke(){var U,T,te;e.filterable?(m.value=!1,(U=a.value)===null||U===void 0||U.focus()):e.multiple?(T=o.value)===null||T===void 0||T.focus():(te=i.value)===null||te===void 0||te.focus()}function _e(){const{value:U}=t;U&&(_(),U.focus())}function we(){const{value:U}=t;U&&U.blur()}function Te(U){const{value:T}=r;T&&T.setTextContent(`+${U}`)}function Se(){const{value:U}=l;return U}function Ze(){return t.value}let Ve=null;function v(){Ve!==null&&window.clearTimeout(Ve)}function X(){e.disabled||e.active||(v(),Ve=window.setTimeout(()=>{u.value=!0},100))}function q(){v()}function R(U){U||(v(),u.value=!1)}Pt(()=>{Ii(()=>{const U=a.value;!U||(U.tabIndex=e.disabled||m.value?-1:0)})}),to(s,e.onResize);const{inlineThemeDisabled:k}=e,D=me(()=>{const{size:U}=e,{common:{cubicBezierEaseInOut:T},self:{borderRadius:te,color:he,placeholderColor:ie,textColor:be,paddingSingle:$e,paddingMultiple:Re,caretColor:Xe,colorDisabled:mt,textColorDisabled:nt,placeholderColorDisabled:gt,colorActive:Ue,boxShadowFocus:ut,boxShadowActive:kt,boxShadowHover:at,border:St,borderFocus:It,borderHover:bt,borderActive:Y,arrowColor:fe,arrowColorDisabled:xe,loadingColor:Ne,colorActiveWarning:Ee,boxShadowFocusWarning:He,boxShadowActiveWarning:Ae,boxShadowHoverWarning:We,borderWarning:Oe,borderFocusWarning:yt,borderHoverWarning:ct,borderActiveWarning:hn,colorActiveError:pn,boxShadowFocusError:vn,boxShadowActiveError:Yt,boxShadowHoverError:mn,borderError:Qn,borderFocusError:er,borderHoverError:tr,borderActiveError:nr,clearColor:rr,clearColorHover:or,clearColorPressed:ir,clearSize:ar,arrowSize:sr,[Ge("height",U)]:lr,[Ge("fontSize",U)]:ur}}=b.value;return{"--n-bezier":T,"--n-border":St,"--n-border-active":Y,"--n-border-focus":It,"--n-border-hover":bt,"--n-border-radius":te,"--n-box-shadow-active":kt,"--n-box-shadow-focus":ut,"--n-box-shadow-hover":at,"--n-caret-color":Xe,"--n-color":he,"--n-color-active":Ue,"--n-color-disabled":mt,"--n-font-size":ur,"--n-height":lr,"--n-padding-single":$e,"--n-padding-multiple":Re,"--n-placeholder-color":ie,"--n-placeholder-color-disabled":gt,"--n-text-color":be,"--n-text-color-disabled":nt,"--n-arrow-color":fe,"--n-arrow-color-disabled":xe,"--n-loading-color":Ne,"--n-color-active-warning":Ee,"--n-box-shadow-focus-warning":He,"--n-box-shadow-active-warning":Ae,"--n-box-shadow-hover-warning":We,"--n-border-warning":Oe,"--n-border-focus-warning":yt,"--n-border-hover-warning":ct,"--n-border-active-warning":hn,"--n-color-active-error":pn,"--n-box-shadow-focus-error":vn,"--n-box-shadow-active-error":Yt,"--n-box-shadow-hover-error":mn,"--n-border-error":Qn,"--n-border-focus-error":er,"--n-border-hover-error":tr,"--n-border-active-error":nr,"--n-clear-size":ar,"--n-clear-color":rr,"--n-clear-color-hover":or,"--n-clear-color-pressed":ir,"--n-arrow-size":sr}}),Q=k?$t("internal-selection",me(()=>e.size[0]),D,e):void 0;return{mergedTheme:b,mergedClearable:p,patternInputFocused:m,filterablePlaceholder:y,label:g,selected:w,showTagsPanel:u,isCompositing:F,counterRef:r,counterWrapperRef:l,patternInputMirrorRef:n,patternInputRef:t,selfRef:s,multipleElRef:o,singleElRef:i,patternInputWrapperRef:a,overflowRef:c,inputTagElRef:f,handleMouseDown:re,handleFocusin:G,handleClear:j,handleMouseEnter:h,handleMouseLeave:V,handleDeleteOption:Z,handlePatternKeyDown:ue,handlePatternInputInput:B,handlePatternInputBlur:oe,handlePatternInputFocus:de,handleMouseEnterCounter:X,handleMouseLeaveCounter:q,handleFocusout:C,handleCompositionEnd:pe,handleCompositionStart:W,onPopoverUpdateShow:R,focus:ke,focusInput:_e,blur:Pe,blurInput:we,updateCounter:Te,getCounter:Se,getTail:Ze,renderLabel:e.renderLabel,cssVars:k?void 0:D,themeClass:Q==null?void 0:Q.themeClass,onRender:Q==null?void 0:Q.onRender}},render(){const{status:e,multiple:n,size:t,disabled:s,filterable:o,maxTagCount:i,bordered:a,clsPrefix:r,onRender:l,renderTag:c,renderLabel:f}=this;l==null||l();const u=i==="responsive",m=typeof i=="number",d=u||m,b=H(vs,null,{default:()=>H(Es,{clsPrefix:r,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var y,g;return(g=(y=this.$slots).arrow)===null||g===void 0?void 0:g.call(y)}})});let p;if(n){const{labelField:y}=this,g=C=>H("div",{class:`${r}-base-selection-tag-wrapper`,key:C.value},c?c({option:C,handleClose:()=>this.handleDeleteOption(C)}):H(Rr,{size:t,closable:!C.disabled,disabled:s,onClose:()=>this.handleDeleteOption(C),internalCloseFocusable:!1,internalStopClickPropagation:!0},{default:()=>f?f(C,!0):rn(C[y],C,!0)})),w=(m?this.selectedOptions.slice(0,i):this.selectedOptions).map(g),E=o?H("div",{class:`${r}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},H("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:s,value:this.pattern,autofocus:this.autofocus,class:`${r}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),H("span",{ref:"patternInputMirrorRef",class:`${r}-base-selection-input-tag__mirror`},this.pattern)):null,A=u?()=>H("div",{class:`${r}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},H(Rr,{size:t,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:s})):void 0;let _;if(m){const C=this.selectedOptions.length-i;C>0&&(_=H("div",{class:`${r}-base-selection-tag-wrapper`,key:"__counter__"},H(Rr,{size:t,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:s},{default:()=>`+${C}`})))}const O=u?o?H(Bo,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>w,counter:A,tail:()=>E}):H(Bo,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>w,counter:A}):m?w.concat(_):w,I=d?()=>H("div",{class:`${r}-base-selection-popover`},u?w:this.selectedOptions.map(g)):void 0,P=d?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,N=(this.selected?!1:this.active?!this.pattern&&!this.isCompositing:!0)?H("div",{class:`${r}-base-selection-placeholder ${r}-base-selection-overlay`},this.placeholder):null,G=o?H("div",{ref:"patternInputWrapperRef",class:`${r}-base-selection-tags`},O,u?null:E,b):H("div",{ref:"multipleElRef",class:`${r}-base-selection-tags`,tabindex:s?void 0:0},O,b);p=H(on,null,d?H(kc,Object.assign({},P,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>G,default:I}):G,N)}else if(o){const y=this.pattern||this.isCompositing,g=this.active?!y:!this.selected,w=this.active?!1:this.selected;p=H("div",{ref:"patternInputWrapperRef",class:`${r}-base-selection-label`},H("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${r}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:s,disabled:s,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),w?H("div",{class:`${r}-base-selection-label__render-label ${r}-base-selection-overlay`,key:"input"},H("div",{class:`${r}-base-selection-overlay__wrapper`},c?c({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):rn(this.label,this.selectedOption,!0))):null,g?H("div",{class:`${r}-base-selection-placeholder ${r}-base-selection-overlay`,key:"placeholder"},H("div",{class:`${r}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,b)}else p=H("div",{ref:"singleElRef",class:`${r}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?H("div",{class:`${r}-base-selection-input`,title:Rs(this.label),key:"input"},H("div",{class:`${r}-base-selection-input__content`},c?c({option:this.selectedOption,handleClose:()=>{}}):f?f(this.selectedOption,!0):rn(this.label,this.selectedOption,!0))):H("div",{class:`${r}-base-selection-placeholder ${r}-base-selection-overlay`,key:"placeholder"},this.placeholder),b);return H("div",{ref:"selfRef",class:[`${r}-base-selection`,this.themeClass,e&&`${r}-base-selection--${e}-status`,{[`${r}-base-selection--active`]:this.active,[`${r}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${r}-base-selection--disabled`]:this.disabled,[`${r}-base-selection--multiple`]:this.multiple,[`${r}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},p,a?H("div",{class:`${r}-base-selection__border`}):null,a?H("div",{class:`${r}-base-selection__state-border`}):null)}});function ti(e){return e.type==="group"}function Bc(e){return e.type==="ignored"}function Dc(e,n){return{getIsGroup:ti,getIgnored:Bc,getKey(s){return ti(s)?s.name||s.key||"key-required":s[e]},getChildren(s){return s[n]}}}var Lc={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"};const Uc=e=>{const{baseColor:n,inputColorDisabled:t,cardColor:s,modalColor:o,popoverColor:i,textColorDisabled:a,borderColor:r,primaryColor:l,textColor2:c,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:m,borderRadiusSmall:d,lineHeight:b}=e;return Object.assign(Object.assign({},Lc),{labelLineHeight:b,fontSizeSmall:f,fontSizeMedium:u,fontSizeLarge:m,borderRadius:d,color:n,colorChecked:l,colorDisabled:t,colorDisabledChecked:t,colorTableHeader:s,colorTableHeaderModal:o,colorTableHeaderPopover:i,checkMarkColor:n,checkMarkColorDisabled:a,checkMarkColorDisabledChecked:a,border:`1px solid ${r}`,borderDisabled:`1px solid ${r}`,borderDisabledChecked:`1px solid ${r}`,borderChecked:`1px solid ${l}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${Me(l,{alpha:.3})}`,textColor:c,textColorDisabled:a})},jc={name:"Checkbox",common:Tt,self:Uc};var aa=jc;const Hc=e=>{const{borderRadius:n,boxShadow2:t,popoverColor:s,textColor2:o,textColor3:i,primaryColor:a,textColorDisabled:r,dividerColor:l,hoverColor:c,fontSizeMedium:f,heightMedium:u}=e;return{menuBorderRadius:n,menuColor:s,menuBoxShadow:t,menuDividerColor:l,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:i,optionHeight:u,optionFontSize:f,optionColorHover:c,optionTextColor:o,optionTextColorActive:a,optionTextColorDisabled:r,optionCheckMarkColor:a,loadingColor:a,columnWidth:"180px"}},Wc=Yr({name:"Cascader",common:Tt,peers:{InternalSelectMenu:na,InternalSelection:ia,Scrollbar:Ei,Checkbox:aa,Empty:so},self:Hc});var Kc=Wc;function Tn(e){return e?e.map(n=>n.rawNode):null}function sa(e,n,t){if(Array.isArray(e))for(const s of e)n&&n(s),s.children&&sa(s.children,n,t),t&&t(s)}function Vc(e,n,t,s){const o=[],i=[];return sa(e,a=>{if(a.isLeaf||!n){if(a.disabled)return;const{rawNode:r}=a;i.push(r),o.push({label:i.map(l=>l[t]).join(s),value:a.key,rawNode:a.rawNode,path:Array.from(i)})}},()=>{i.pop()}),o}function ni(e,n,t){const s=[];for(;e;)s.push(e.rawNode[t]),e=e.parent;return s.reverse().join(n)}var Gc=H("svg",{viewBox:"0 0 64 64",class:"check-icon"},H("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),Zc=H("svg",{viewBox:"0 0 100 100",class:"line-icon"},H("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"}));const la=un("n-checkbox-group"),qc={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:{type:[Function,Array],validator:()=>!0,default:void 0}};Le({name:"CheckboxGroup",props:qc,setup(e){const{mergedClsPrefixRef:n}=jt(e),t=Xr(e),{mergedSizeRef:s,mergedDisabledRef:o}=t,i=ve(e.defaultValue),a=me(()=>e.value),r=_n(a,i),l=me(()=>{var u;return((u=r.value)===null||u===void 0?void 0:u.length)||0}),c=me(()=>Array.isArray(r.value)?new Set(r.value):new Set);function f(u,m){const{nTriggerFormInput:d,nTriggerFormChange:b}=t,{onChange:p,"onUpdate:value":y,onUpdateValue:g}=e;if(Array.isArray(r.value)){const w=Array.from(r.value),E=w.findIndex(A=>A===m);u?~E||(w.push(m),g&&Ke(g,w),y&&Ke(y,w),d(),b(),i.value=w,p&&Ke(p,w)):~E&&(w.splice(E,1),g&&Ke(g,w),y&&Ke(y,w),p&&Ke(p,w),i.value=w,d(),b())}else u?(g&&Ke(g,[m]),y&&Ke(y,[m]),p&&Ke(p,[m]),i.value=[m],d(),b()):(g&&Ke(g,[]),y&&Ke(y,[]),p&&Ke(p,[]),i.value=[],d(),b())}return Ct(la,{checkedCountRef:l,maxRef:Fe(e,"max"),minRef:Fe(e,"min"),valueSetRef:c,disabledRef:o,mergedSizeRef:s,toggleCheckbox:f}),{mergedClsPrefix:n}},render(){return H("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}});var Yc=Ce([le("checkbox",`
 line-height: var(--n-label-line-height);
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 --n-merged-color-table: var(--n-color-table);
 `,[Ce("&:hover",[le("checkbox-box",[ye("border",{border:"var(--n-border-checked)"})])]),Ce("&:focus:not(:active)",[le("checkbox-box",[ye("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),ze("inside-table",[le("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),ze("checked",[le("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[le("checkbox-icon",[Ce(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),ze("indeterminate",[le("checkbox-box",[le("checkbox-icon",[Ce(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),Ce(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),ze("checked, indeterminate",[Ce("&:focus:not(:active)",[le("checkbox-box",[ye("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),le("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[ye("border",{border:"var(--n-border-checked)"})])]),ze("disabled",{cursor:"not-allowed"},[ze("checked",[le("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[ye("border",{border:"var(--n-border-disabled-checked)"}),le("checkbox-icon",[Ce(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),le("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[ye("border",{border:"var(--n-border-disabled)"}),le("checkbox-icon",[Ce(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled)"})])]),ye("label",{color:"var(--n-text-color-disabled)"})]),le("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 user-select: none;
 `),le("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[ye("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),le("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[Ce(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),ms({left:"1px",top:"1px"})])]),ye("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 padding: var(--n-label-padding);
 `,[Ce("&:empty",{display:"none"})])]),Pi(le("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),Ti(le("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]);const Xc=Object.assign(Object.assign({},et.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]});var Jc=Le({name:"Checkbox",props:Xc,setup(e){const n=ve(null),{mergedClsPrefixRef:t,inlineThemeDisabled:s,mergedRtlRef:o}=jt(e),i=Xr(e,{mergedSize(O){const{size:I}=e;if(I!==void 0)return I;if(l){const{value:P}=l.mergedSizeRef;if(P!==void 0)return P}if(O){const{mergedSize:P}=O;if(P!==void 0)return P.value}return"medium"},mergedDisabled(O){const{disabled:I}=e;if(I!==void 0)return I;if(l){if(l.disabledRef.value)return!0;const{maxRef:{value:P},checkedCountRef:z}=l;if(P!==void 0&&z.value>=P&&!m.value)return!0;const{minRef:{value:N}}=l;if(N!==void 0&&z.value<=N&&m.value)return!0}return O?O.disabled.value:!1}}),{mergedDisabledRef:a,mergedSizeRef:r}=i,l=Qe(la,null),c=ve(e.defaultChecked),f=Fe(e,"checked"),u=_n(f,c),m=st(()=>{if(l){const O=l.valueSetRef.value;return O&&e.value!==void 0?O.has(e.value):!1}else return u.value===e.checkedValue}),d=et("Checkbox","-checkbox",Yc,aa,e,t);function b(O){if(l&&e.value!==void 0)l.toggleCheckbox(!m.value,e.value);else{const{onChange:I,"onUpdate:checked":P,onUpdateChecked:z}=e,{nTriggerFormInput:N,nTriggerFormChange:G}=i,C=m.value?e.uncheckedValue:e.checkedValue;P&&Ke(P,C,O),z&&Ke(z,C,O),I&&Ke(I,C,O),N(),G(),c.value=C}}function p(O){a.value||b(O)}function y(O){if(!a.value)switch(O.key){case" ":case"Enter":b(O)}}function g(O){switch(O.key){case" ":O.preventDefault()}}const w={focus:()=>{var O;(O=n.value)===null||O===void 0||O.focus()},blur:()=>{var O;(O=n.value)===null||O===void 0||O.blur()}},E=Oi("Checkbox",o,t),A=me(()=>{const{value:O}=r,{common:{cubicBezierEaseInOut:I},self:{borderRadius:P,color:z,colorChecked:N,colorDisabled:G,colorTableHeader:C,colorTableHeaderModal:j,colorTableHeaderPopover:h,checkMarkColor:V,checkMarkColorDisabled:re,border:Z,borderFocus:ue,borderDisabled:F,borderChecked:J,boxShadowFocus:B,textColor:W,textColorDisabled:pe,checkMarkColorDisabledChecked:de,colorDisabledChecked:oe,borderDisabledChecked:Pe,labelPadding:ke,labelLineHeight:_e,[Ge("fontSize",O)]:we,[Ge("size",O)]:Te}}=d.value;return{"--n-label-line-height":_e,"--n-size":Te,"--n-bezier":I,"--n-border-radius":P,"--n-border":Z,"--n-border-checked":J,"--n-border-focus":ue,"--n-border-disabled":F,"--n-border-disabled-checked":Pe,"--n-box-shadow-focus":B,"--n-color":z,"--n-color-checked":N,"--n-color-table":C,"--n-color-table-modal":j,"--n-color-table-popover":h,"--n-color-disabled":G,"--n-color-disabled-checked":oe,"--n-text-color":W,"--n-text-color-disabled":pe,"--n-check-mark-color":V,"--n-check-mark-color-disabled":re,"--n-check-mark-color-disabled-checked":de,"--n-font-size":we,"--n-label-padding":ke}}),_=s?$t("checkbox",me(()=>r.value[0]),A,e):void 0;return Object.assign(i,w,{rtlEnabled:E,selfRef:n,mergedClsPrefix:t,mergedDisabled:a,renderedChecked:m,mergedTheme:d,labelId:gs(),handleClick:p,handleKeyUp:y,handleKeyDown:g,cssVars:s?void 0:A,themeClass:_==null?void 0:_.themeClass,onRender:_==null?void 0:_.onRender})},render(){var e;const{$slots:n,renderedChecked:t,mergedDisabled:s,indeterminate:o,privateInsideTable:i,cssVars:a,labelId:r,label:l,mergedClsPrefix:c,focusable:f,handleKeyUp:u,handleKeyDown:m,handleClick:d}=this;return(e=this.onRender)===null||e===void 0||e.call(this),H("div",{ref:"selfRef",class:[`${c}-checkbox`,this.themeClass,this.rtlEnabled&&`${c}-checkbox--rtl`,t&&`${c}-checkbox--checked`,s&&`${c}-checkbox--disabled`,o&&`${c}-checkbox--indeterminate`,i&&`${c}-checkbox--inside-table`],tabindex:s||!f?void 0:0,role:"checkbox","aria-checked":o?"mixed":t,"aria-labelledby":r,style:a,onKeyup:u,onKeydown:m,onClick:d,onMousedown:()=>{Gt("selectstart",window,b=>{b.preventDefault()},{once:!0})}},H("div",{class:`${c}-checkbox-box-wrapper`},"\xA0",H("div",{class:`${c}-checkbox-box`},H(bs,null,{default:()=>this.indeterminate?H("div",{key:"indeterminate",class:`${c}-checkbox-icon`},Zc):H("div",{key:"check",class:`${c}-checkbox-icon`},Gc)}),H("div",{class:`${c}-checkbox-box__border`}))),l!==null||n.default?H("span",{class:`${c}-checkbox__label`,id:r},n.default?n.default():l):null)}});const kn=un("n-cascader");var ri=Le({name:"NCascaderOption",props:{tmNode:{type:Object,required:!0}},setup(e){const{expandTriggerRef:n,remoteRef:t,multipleRef:s,mergedValueRef:o,checkedKeysRef:i,indeterminateKeysRef:a,hoverKeyPathRef:r,keyboardKeyRef:l,loadingKeySetRef:c,cascadeRef:f,mergedCheckStrategyRef:u,onLoadRef:m,mergedClsPrefixRef:d,mergedThemeRef:b,labelFieldRef:p,updateHoverKey:y,updateKeyboardKey:g,addLoadingKey:w,deleteLoadingKey:E,closeMenu:A,doCheck:_,doUncheck:O,renderLabelRef:I}=Qe(kn),P=me(()=>e.tmNode.key),z=me(()=>{const{value:ke}=n,{value:_e}=t;return!_e&&ke==="hover"}),N=me(()=>{if(z.value)return pe}),G=me(()=>{if(z.value)return de}),C=st(()=>{const{value:ke}=s;return ke?i.value.includes(P.value):o.value===P.value}),j=st(()=>s.value?a.value.includes(P.value):!1),h=st(()=>r.value.includes(P.value)),V=st(()=>{const{value:ke}=l;return ke===null?!1:ke===P.value}),re=st(()=>t.value?c.value.has(P.value):!1),Z=me(()=>{if(s.value&&f.value||u.value!=="child")return!0}),ue=me(()=>e.tmNode.isLeaf),F=me(()=>e.tmNode.disabled),J=me(()=>e.tmNode.rawNode[p.value]),B=me(()=>e.tmNode.shallowLoaded);function W(ke){if(F.value)return;const{value:_e}=t,{value:we}=c,{value:Te}=m,{value:Se}=P,{value:Ze}=ue,{value:Ve}=B;xn(ke,"checkbox")||(_e&&!Ve&&!we.has(Se)&&Te&&(w(Se),Te(e.tmNode.rawNode).then(()=>{E(Se)}).catch(()=>{E(Se)})),y(Se),g(Se)),Ze&&Pe()}function pe(){if(!z.value||F.value)return;const{value:ke}=P;y(ke),g(ke)}function de(){!z.value||pe()}function oe(){const{value:ke}=ue;ke||Pe()}function Pe(){const{value:ke}=s,{value:_e}=P;ke?j.value||C.value?O(_e):_(_e):(_(_e),A(!0))}return{checkStrategy:u,multiple:s,cascade:f,checked:C,indeterminate:j,hoverPending:h,keyboardPending:V,isLoading:re,showCheckbox:Z,isLeaf:ue,disabled:F,label:J,mergedClsPrefix:d,mergedTheme:b,handleClick:W,handleCheckboxUpdateValue:oe,mergedHandleMouseEnter:N,mergedHandleMouseMove:G,renderLabel:I}},render(){const{mergedClsPrefix:e,renderLabel:n}=this;return H("div",{class:[`${e}-cascader-option`,{[`${e}-cascader-option--pending`]:this.keyboardPending||this.hoverPending,[`${e}-cascader-option--disabled`]:this.disabled,[`${e}-cascader-option--show-prefix`]:this.showCheckbox}],onMouseenter:this.mergedHandleMouseEnter,onMousemove:this.mergedHandleMouseMove,onClick:this.handleClick},this.showCheckbox?H("div",{class:`${e}-cascader-option__prefix`},H(Jc,{focusable:!1,"data-checkbox":!0,disabled:this.disabled,checked:this.checked,indeterminate:this.indeterminate,theme:this.mergedTheme.peers.Checkbox,themeOverrides:this.mergedTheme.peerOverrides.Checkbox,onUpdateChecked:this.handleCheckboxUpdateValue})):null,H("span",{class:`${e}-cascader-option__label`},n?n(this.tmNode.rawNode,this.checked):this.label),H("div",{class:`${e}-cascader-option__suffix`},H("div",{class:`${e}-cascader-option-icon-placeholder`},this.isLeaf?this.checkStrategy==="child"&&!(this.multiple&&this.cascade)?H(fn,{name:"fade-in-scale-up-transition"},{default:()=>this.checked?H(Ln,{clsPrefix:e,class:`${e}-cascader-option-icon ${e}-cascader-option-icon--checkmark`},{default:()=>H(qi,null)}):null}):null:H(Ai,{clsPrefix:e,scale:.85,strokeWidth:24,show:this.isLoading,class:`${e}-cascader-option-icon`},{default:()=>H(Ln,{clsPrefix:e,key:"arrow",class:`${e}-cascader-option-icon ${e}-cascader-option-icon--arrow`},{default:()=>H(Au,null)})}))))}}),Qc=Le({name:"CascaderSubmenu",props:{depth:{type:Number,required:!0},tmNodes:{type:Array,required:!0}},setup(){const{virtualScrollRef:e,mergedClsPrefixRef:n,mergedThemeRef:t,optionHeightRef:s}=Qe(kn),o=ve(null),i=ve(null),a={scroll(r,l){var c,f;e.value?(c=i.value)===null||c===void 0||c.scrollTo({index:r}):(f=o.value)===null||f===void 0||f.scrollTo({index:r,elSize:l})}};return Object.assign({mergedClsPrefix:n,mergedTheme:t,scrollbarInstRef:o,vlInstRef:i,virtualScroll:e,itemSize:me(()=>Ft(s.value)),handleVlScroll:()=>{var r;(r=o.value)===null||r===void 0||r.sync()},getVlContainer:()=>{var r;return(r=i.value)===null||r===void 0?void 0:r.listElRef},getVlContent:()=>{var r;return(r=i.value)===null||r===void 0?void 0:r.itemsElRef}},a)},render(){const{mergedClsPrefix:e,mergedTheme:n,virtualScroll:t}=this;return H("div",{class:[t&&`${e}-cascader-submenu--virtual`,`${e}-cascader-submenu`]},H(Ri,{ref:"scrollbarInstRef",theme:n.peers.Scrollbar,themeOverrides:n.peerOverrides.Scrollbar,container:t?this.getVlContainer:void 0,content:t?this.getVlContent:void 0},{default:()=>t?H(Hi,{items:this.tmNodes,itemSize:this.itemSize,onScroll:this.handleVlScroll,showScrollbar:!1,ref:"vlInstRef"},{default:({item:s})=>H(ri,{key:s.key,tmNode:s})}):this.tmNodes.map(s=>H(ri,{key:s.key,tmNode:s}))}))}}),ed=Le({name:"NCascaderMenu",props:{value:[String,Number,Array],placement:{type:String,default:"bottom-start"},show:Boolean,menuModel:{type:Array,required:!0},loading:Boolean,onFocus:{type:Function,required:!0},onBlur:{type:Function,required:!0},onKeydown:{type:Function,required:!0},onMousedown:{type:Function,required:!0},onTabout:{type:Function,required:!0}},setup(e){const{localeRef:n,isMountedRef:t,mergedClsPrefixRef:s,syncCascaderMenuPosition:o,handleCascaderMenuClickOutside:i,mergedThemeRef:a}=Qe(kn),r=[],l=ve(null),c=ve(null);function f(){o()}to(c,f);function u(y){var g;const{value:{loadingRequiredMessage:w}}=n;(g=l.value)===null||g===void 0||g.showOnce(w(y))}function m(y){i(y)}function d(y){const{value:g}=c;!g||g.contains(y.relatedTarget)||e.onFocus(y)}function b(y){const{value:g}=c;!g||g.contains(y.relatedTarget)||e.onBlur(y)}return Object.assign({isMounted:t,mergedClsPrefix:s,selfElRef:c,submenuInstRefs:r,maskInstRef:l,mergedTheme:a,handleFocusin:d,handleFocusout:b,handleClickOutside:m},{scroll(y,g,w){const E=r[y];E&&E.scroll(g,w)},showErrorMessage:u})},render(){const{submenuInstRefs:e,mergedClsPrefix:n,mergedTheme:t}=this;return H(fn,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.show?cn(H("div",{tabindex:"0",ref:"selfElRef",class:`${n}-cascader-menu`,onMousedown:this.onMousedown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeydown:this.onKeydown},this.menuModel[0].length?H("div",{class:`${n}-cascader-submenu-wrapper`},this.menuModel.map((s,o)=>H(Qc,{ref:i=>{i&&(e[o]=i)},key:o,tmNodes:s,depth:o+1})),H(dc,{clsPrefix:n,ref:"maskInstRef"})):H("div",{class:`${n}-cascader-menu__empty`},zi(this.$slots.empty,()=>[H(ta,{theme:t.peers.Empty,themeOverrides:t.peerOverrides.Empty})])),wn(this.$slots.action,s=>s&&H("div",{class:`${n}-cascader-menu-action`,"data-action":!0},s)),H(Yi,{onFocus:this.onTabout})),[[Un,this.handleClickOutside,void 0,{capture:!0}]]):null})}}),td=Le({name:"NCascaderSelectMenu",props:{value:{type:[String,Number,Array],default:null},show:Boolean,pattern:{type:String,default:""},multiple:Boolean,tmNodes:{type:Array,default:()=>[]},filter:Function,labelField:{type:String,required:!0},separator:{type:String,required:!0}},setup(e){const{isMountedRef:n,mergedValueRef:t,mergedClsPrefixRef:s,mergedThemeRef:o,mergedCheckStrategyRef:i,syncSelectMenuPosition:a,closeMenu:r,handleSelectMenuClickOutside:l,doUncheck:c,doCheck:f,clearPattern:u}=Qe(kn),m=ve(null),d=me(()=>Vc(e.tmNodes,i.value==="child",e.labelField,e.separator)),b=me(()=>{const{filter:z}=e;if(z)return z;const{labelField:N}=e;return(G,C,j)=>j.some(h=>h[N]&&~h[N].indexOf(G))}),p=me(()=>{const{pattern:z}=e,{value:N}=b;return(z?d.value.filter(G=>N(z,G.rawNode,G.path)):d.value).map(G=>({value:G.value,label:G.label}))}),y=me(()=>ea(p.value,Dc("value","children")));function g(){a()}function w(z){E(z)}function E(z){if(e.multiple){const{value:N}=t;Array.isArray(N)?N.includes(z.key)?c(z.key):f(z.key):N===null&&f(z.key),u()}else f(z.key),r(!0)}function A(){var z;(z=m.value)===null||z===void 0||z.prev()}function _(){var z;(z=m.value)===null||z===void 0||z.next()}function O(){var z;if(m){const N=(z=m.value)===null||z===void 0?void 0:z.getPendingTmNode();return N&&E(N),!0}return!1}function I(z){l(z)}return Object.assign({isMounted:n,mergedTheme:o,mergedClsPrefix:s,menuInstRef:m,selectTreeMate:y,handleResize:g,handleToggle:w,handleClickOutside:I},{prev:A,next:_,enter:O})},render(){const{mergedClsPrefix:e,isMounted:n,mergedTheme:t}=this;return H(fn,{name:"fade-in-scale-up-transition",appear:n},{default:()=>this.show?cn(H(uc,{ref:"menuInstRef",onResize:this.handleResize,clsPrefix:e,class:`${e}-cascader-menu`,autoPending:!0,themeOverrides:t.peerOverrides.InternalSelectMenu,theme:t.peers.InternalSelectMenu,treeMate:this.selectTreeMate,multiple:this.multiple,value:this.value,onToggle:this.handleToggle}),[[Un,this.handleClickOutside,void 0,{capture:!0}]]):null})}}),nd=Ce([le("cascader-menu",`
 outline: none;
 position: relative;
 margin: 4px 0;
 display: flex;
 flex-flow: column nowrap;
 border-radius: var(--n-menu-border-radius);
 overflow: hidden;
 box-shadow: var(--n-menu-box-shadow);
 color: var(--n-option-text-color);
 background-color: var(--n-menu-color);
 `,[Fr({transformOrigin:"inherit",duration:"0.2s"}),ye("empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),le("scrollbar",{width:"100%"}),le("base-menu-mask",{backgroundColor:"var(--n-menu-mask-color)"}),le("base-loading",{color:"var(--n-loading-color)"}),le("cascader-submenu-wrapper",`
 position: relative;
 display: flex;
 flex-wrap: nowrap;
 `),le("cascader-submenu",`
 height: var(--n-menu-height);
 min-width: var(--n-column-width);
 position: relative;
 `,[ze("virtual",`
 width: var(--n-column-width);
 `),le("scrollbar-content",{position:"relative"}),Ce("&:first-child",`
 border-top-left-radius: var(--n-menu-border-radius);
 border-bottom-left-radius: var(--n-menu-border-radius);
 `),Ce("&:last-child",`
 border-top-right-radius: var(--n-menu-border-radius);
 border-bottom-right-radius: var(--n-menu-border-radius);
 `),Ce("&:not(:first-child)",`
 border-left: 1px solid var(--n-menu-divider-color);
 `)]),le("cascader-menu-action",`
 box-sizing: border-box;
 padding: 8px;
 border-top: 1px solid var(--n-menu-divider-color);
 `),le("cascader-option",`
 height: var(--n-option-height);
 line-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 padding: 0 0 0 18px;
 box-sizing: border-box;
 min-width: 182px;
 background-color: #0000;
 display: flex;
 align-items: center;
 white-space: nowrap;
 position: relative;
 cursor: pointer;
 transition:
 background-color .2s var(--n-bezier),
 color 0.2s var(--n-bezier);
 `,[ze("show-prefix",{paddingLeft:0}),ye("label",`
 flex: 1 0 0;
 overflow: hidden;
 text-overflow: ellipsis;
 `),ye("prefix",{width:"32px",display:"flex",alignItems:"center",justifyContent:"center"}),ye("suffix",{width:"32px",display:"flex",alignItems:"center",justifyContent:"center"}),le("cascader-option-icon-placeholder",{lineHeight:0,position:"relative",width:"16px",height:"16px",fontSize:"16px"},[le("cascader-option-icon",[ze("checkmark",{color:"var(--n-option-check-mark-color)"},[Fr({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})]),ze("arrow",{color:"var(--n-option-arrow-color)"})])]),ze("selected",{color:"var(--n-option-text-color-active)"}),ze("active",{color:"var(--n-option-text-color-active)",backgroundColor:"var(--n-option-color-hover)"}),ze("pending",{backgroundColor:"var(--n-option-color-hover)"}),Ce("&:hover",{backgroundColor:"var(--n-option-color-hover)"}),ze("disabled",`
 color: var(--n-option-text-color-disabled);
 background-color: #0000;
 cursor: not-allowed;
 `,[le("cascader-option-icon",[ze("arrow",{color:"var(--n-option-text-color-disabled)"})])])])]),le("cascader",`
 z-index: auto;
 position: relative;
 width: 100%;
 `)]);const rd=Object.assign(Object.assign({},et.props),{allowCheckingNotLoaded:Boolean,to:Rt.propTo,bordered:{type:Boolean,default:void 0},options:{type:Array,default:()=>[]},value:[String,Number,Array],defaultValue:{type:[String,Number,Array],default:null},placeholder:String,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},expandTrigger:{type:String,default:"click"},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},remote:Boolean,onLoad:Function,separator:{type:String,default:" / "},filter:Function,placement:{type:String,default:"bottom-start"},cascade:{type:Boolean,default:!0},leafOnly:Boolean,showPath:{type:Boolean,default:!0},show:{type:Boolean,default:void 0},maxTagCount:[String,Number],menuProps:Object,filterMenuProps:Object,virtualScroll:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},valueField:{type:String,default:"value"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},renderLabel:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onBlur:Function,onFocus:Function,onChange:[Function,Array]});var od=Le({name:"Cascader",props:rd,setup(e){const{mergedBorderedRef:n,mergedClsPrefixRef:t,namespaceRef:s,inlineThemeDisabled:o}=jt(e),i=et("Cascader","-cascader",nd,Kc,e,t),{localeRef:a}=$i("Cascader"),r=ve(e.defaultValue),l=me(()=>e.value),c=_n(l,r),f=me(()=>e.leafOnly?"child":e.checkStrategy),u=ve(""),m=Xr(e),{mergedSizeRef:d,mergedDisabledRef:b,mergedStatusRef:p}=m,y=ve(null),g=ve(null),w=ve(null),E=ve(null),A=ve(null),_=ve(new Set),O=ve(null),I=ve(null),P=Rt(e),z=ve(!1),N=Y=>{_.value.add(Y)},G=Y=>{_.value.delete(Y)},C=me(()=>{const{valueField:Y,childrenField:fe}=e;return ea(e.options,{getKey(xe){return xe[Y]},getChildren(xe){return xe[fe]}})}),j=me(()=>{const{cascade:Y,multiple:fe}=e;return fe&&Array.isArray(c.value)?C.value.getCheckedKeys(c.value,{cascade:Y,allowNotLoaded:e.allowCheckingNotLoaded}):{checkedKeys:[],indeterminateKeys:[]}}),h=me(()=>j.value.checkedKeys),V=me(()=>j.value.indeterminateKeys),re=me(()=>{const{treeNodePath:Y,treeNode:fe}=C.value.getPath(A.value);let xe;return fe===null?xe=[C.value.treeNodes]:(xe=Y.map(Ne=>Ne.siblings),!fe.isLeaf&&!_.value.has(fe.key)&&fe.children&&xe.push(fe.children)),xe}),Z=me(()=>{const{keyPath:Y}=C.value.getPath(A.value);return Y}),ue=me(()=>i.value.self.optionHeight);ys(e.options)&&xt(e.options,(Y,fe)=>{Y!==fe&&(A.value=null,E.value=null)});function F(Y){const{onUpdateShow:fe,"onUpdate:show":xe}=e;fe&&Ke(fe,Y),xe&&Ke(xe,Y),ke.value=Y}function J(Y,fe,xe){const{onUpdateValue:Ne,"onUpdate:value":Ee,onChange:He}=e,{nTriggerFormInput:Ae,nTriggerFormChange:We}=m;Ne&&Ke(Ne,Y,fe,xe),Ee&&Ke(Ee,Y,fe,xe),He&&Ke(He,Y,fe,xe),r.value=Y,Ae(),We()}function B(Y){E.value=Y}function W(Y){A.value=Y}function pe(Y){var fe;const{cascade:xe,multiple:Ne,filterable:Ee}=e,{value:{check:He,getNode:Ae,getPath:We}}=C;if(Ne)try{const{checkedKeys:Oe}=He(Y,j.value.checkedKeys,{cascade:xe,checkStrategy:f.value,allowNotLoaded:e.allowCheckingNotLoaded});J(Oe,Oe.map(yt=>{var ct;return((ct=Ae(yt))===null||ct===void 0?void 0:ct.rawNode)||null}),Oe.map(yt=>{var ct;return Tn((ct=We(yt))===null||ct===void 0?void 0:ct.treeNodePath)})),Ee&&v(),E.value=Y,A.value=Y}catch(Oe){if(Oe instanceof Ji){if(y.value){const yt=Ae(Y);yt!==null&&y.value.showErrorMessage(yt.rawNode[e.labelField])}}else throw Oe}else if(f.value==="child"){const Oe=Ae(Y);if(Oe!=null&&Oe.isLeaf)J(Y,Oe.rawNode,Tn(We(Y).treeNodePath));else return!1}else{const Oe=Ae(Y);J(Y,(Oe==null?void 0:Oe.rawNode)||null,Tn((fe=We(Y))===null||fe===void 0?void 0:fe.treeNodePath))}return!0}function de(Y){const{cascade:fe,multiple:xe}=e;if(xe){const{value:{uncheck:Ne,getNode:Ee,getPath:He}}=C,{checkedKeys:Ae}=Ne(Y,j.value.checkedKeys,{cascade:fe,checkStrategy:f.value,allowNotLoaded:e.allowCheckingNotLoaded});J(Ae,Ae.map(We=>{var Oe;return((Oe=Ee(We))===null||Oe===void 0?void 0:Oe.rawNode)||null}),Ae.map(We=>{var Oe;return Tn((Oe=He(We))===null||Oe===void 0?void 0:Oe.treeNodePath)})),E.value=Y,A.value=Y}}const oe=me(()=>{if(e.multiple){const{showPath:Y,separator:fe,labelField:xe,cascade:Ne}=e,{getCheckedKeys:Ee,getNode:He}=C.value;return Ee(h.value,{cascade:Ne,checkStrategy:f.value,allowNotLoaded:e.allowCheckingNotLoaded}).checkedKeys.map(We=>{const Oe=He(We);return Oe===null?{label:String(We),value:We}:{label:Y?ni(Oe,fe,xe):Oe.rawNode[xe],value:Oe.key}})}else return[]}),Pe=me(()=>{const{multiple:Y,showPath:fe,separator:xe,labelField:Ne}=e,{value:Ee}=c;if(!Y&&!Array.isArray(Ee)){const{getNode:He}=C.value;if(Ee===null)return null;const Ae=He(Ee);return Ae===null?{label:String(Ee),value:Ee}:{label:fe?ni(Ae,xe,Ne):Ae.rawNode[Ne],value:Ae.key}}else return null}),ke=ve(!1),_e=Fe(e,"show"),we=_n(_e,ke),Te=me(()=>{const{placeholder:Y}=e;return Y!==void 0?Y:a.value.placeholder}),Se=me(()=>!!(e.filterable&&u.value));xt(we,Y=>{if(!Y||e.multiple)return;const{value:fe}=c;!Array.isArray(fe)&&fe!==null?(E.value=fe,A.value=fe,Cn(()=>{var xe;if(!we.value)return;const{value:Ne}=A;if(c.value!==null){const Ee=C.value.getNode(Ne);Ee&&((xe=y.value)===null||xe===void 0||xe.scroll(Ee.level,Ee.index,Ft(ue.value)))}})):(E.value=null,A.value=null)},{immediate:!0});function Ze(Y){const{onBlur:fe}=e,{nTriggerFormBlur:xe}=m;fe&&Ke(fe,Y),xe()}function Ve(Y){const{onFocus:fe}=e,{nTriggerFormFocus:xe}=m;fe&&Ke(fe,Y),xe()}function v(){var Y;(Y=w.value)===null||Y===void 0||Y.focusInput()}function X(){var Y;(Y=w.value)===null||Y===void 0||Y.focus()}function q(){b.value||(u.value="",F(!0),e.filterable&&v())}function R(Y=!1){Y&&X(),F(!1),u.value=""}function k(Y){var fe;Se.value||we.value&&(!((fe=w.value)===null||fe===void 0)&&fe.$el.contains(Y.target)||R())}function D(Y){!Se.value||k(Y)}function Q(){e.clearFilterAfterSelect&&(u.value="")}function U(Y){var fe,xe,Ne;const{value:Ee}=E,{value:He}=C;switch(Y){case"prev":if(Ee!==null){const Ae=He.getPrev(Ee,{loop:!0});Ae!==null&&(B(Ae.key),(fe=y.value)===null||fe===void 0||fe.scroll(Ae.level,Ae.index,Ft(ue.value)))}break;case"next":if(Ee===null){const Ae=He.getFirstAvailableNode();Ae!==null&&(B(Ae.key),(xe=y.value)===null||xe===void 0||xe.scroll(Ae.level,Ae.index,Ft(ue.value)))}else{const Ae=He.getNext(Ee,{loop:!0});Ae!==null&&(B(Ae.key),(Ne=y.value)===null||Ne===void 0||Ne.scroll(Ae.level,Ae.index,Ft(ue.value)))}break;case"child":if(Ee!==null){const Ae=He.getNode(Ee);if(Ae!==null)if(Ae.shallowLoaded){const We=He.getChild(Ee);We!==null&&(W(Ee),B(We.key))}else{const{value:We}=_;if(!We.has(Ee)){N(Ee),W(Ee);const{onLoad:Oe}=e;Oe&&Oe(Ae.rawNode).then(()=>{G(Ee)}).catch(()=>{G(Ee)})}}}break;case"parent":if(Ee!==null){const Ae=He.getParent(Ee);if(Ae!==null){B(Ae.key);const We=Ae.getParent();W(We===null?null:We.key)}}break}}function T(Y){var fe,xe;switch(Y.key){case" ":case"ArrowDown":case"ArrowUp":if(e.filterable&&we.value)break;Y.preventDefault();break}if(!xn(Y,"action"))switch(Y.key){case" ":if(e.filterable)return;case"Enter":if(!we.value)q();else{const{value:Ne}=Se,{value:Ee}=E;if(Ne)g.value&&g.value.enter()&&Q();else if(Ee!==null)if(h.value.includes(Ee)||V.value.includes(Ee))de(Ee);else{const He=pe(Ee);!e.multiple&&He&&R(!0)}}break;case"ArrowUp":Y.preventDefault(),we.value&&(Se.value?(fe=g.value)===null||fe===void 0||fe.prev():U("prev"));break;case"ArrowDown":Y.preventDefault(),we.value?Se.value?(xe=g.value)===null||xe===void 0||xe.next():U("next"):q();break;case"ArrowLeft":Y.preventDefault(),we.value&&!Se.value&&U("parent");break;case"ArrowRight":Y.preventDefault(),we.value&&!Se.value&&U("child");break;case"Escape":we.value&&(ws(Y),R(!0))}}function te(Y){T(Y)}function he(Y){Y.stopPropagation(),e.multiple?J([],[],[]):J(null,null,null)}function ie(Y){var fe;!((fe=y.value)===null||fe===void 0)&&fe.$el.contains(Y.relatedTarget)||(z.value=!0,Ve(Y))}function be(Y){var fe;!((fe=y.value)===null||fe===void 0)&&fe.$el.contains(Y.relatedTarget)||(z.value=!1,Ze(Y),R())}function $e(Y){var fe;!((fe=w.value)===null||fe===void 0)&&fe.$el.contains(Y.relatedTarget)||(z.value=!0,Ve(Y))}function Re(Y){var fe;!((fe=w.value)===null||fe===void 0)&&fe.$el.contains(Y.relatedTarget)||(z.value=!1,Ze(Y))}function Xe(Y){xn(Y,"action")||e.multiple&&e.filter&&(Y.preventDefault(),v())}function mt(){R(!0)}function nt(){e.filterable?q():we.value?R(!0):q()}function gt(Y){u.value=Y.target.value}function Ue(Y){const{multiple:fe}=e,{value:xe}=c;fe&&Array.isArray(xe)&&Y.value!==void 0?de(Y.value):J(null,null,null)}function ut(){var Y;(Y=O.value)===null||Y===void 0||Y.syncPosition()}function kt(){var Y;(Y=I.value)===null||Y===void 0||Y.syncPosition()}function at(){we.value&&(Se.value?ut():kt())}Ct(kn,{mergedClsPrefixRef:t,mergedThemeRef:i,mergedValueRef:c,checkedKeysRef:h,indeterminateKeysRef:V,hoverKeyPathRef:Z,mergedCheckStrategyRef:f,cascadeRef:Fe(e,"cascade"),multipleRef:Fe(e,"multiple"),keyboardKeyRef:E,hoverKeyRef:A,remoteRef:Fe(e,"remote"),loadingKeySetRef:_,expandTriggerRef:Fe(e,"expandTrigger"),isMountedRef:Gr(),onLoadRef:Fe(e,"onLoad"),virtualScrollRef:Fe(e,"virtualScroll"),optionHeightRef:ue,localeRef:a,labelFieldRef:Fe(e,"labelField"),renderLabelRef:Fe(e,"renderLabel"),syncCascaderMenuPosition:kt,syncSelectMenuPosition:ut,updateKeyboardKey:B,updateHoverKey:W,addLoadingKey:N,deleteLoadingKey:G,doCheck:pe,doUncheck:de,closeMenu:R,handleSelectMenuClickOutside:D,handleCascaderMenuClickOutside:k,clearPattern:Q});const St={focus:()=>{var Y;(Y=w.value)===null||Y===void 0||Y.focus()},blur:()=>{var Y;(Y=w.value)===null||Y===void 0||Y.blur()}},It=me(()=>{const{self:{optionArrowColor:Y,optionTextColor:fe,optionTextColorActive:xe,optionTextColorDisabled:Ne,optionCheckMarkColor:Ee,menuColor:He,menuBoxShadow:Ae,menuDividerColor:We,menuBorderRadius:Oe,menuHeight:yt,optionColorHover:ct,optionHeight:hn,optionFontSize:pn,loadingColor:vn,columnWidth:Yt},common:{cubicBezierEaseInOut:mn}}=i.value;return{"--n-bezier":mn,"--n-menu-border-radius":Oe,"--n-menu-box-shadow":Ae,"--n-menu-height":yt,"--n-column-width":Yt,"--n-menu-color":He,"--n-menu-divider-color":We,"--n-option-height":hn,"--n-option-font-size":pn,"--n-option-text-color":fe,"--n-option-text-color-disabled":Ne,"--n-option-text-color-active":xe,"--n-option-color-hover":ct,"--n-option-check-mark-color":Ee,"--n-option-arrow-color":Y,"--n-menu-mask-color":Me(He,{alpha:.75}),"--n-loading-color":vn}}),bt=o?$t("cascader",void 0,It,e):void 0;return Object.assign(Object.assign({},St),{handleTriggerResize:at,mergedStatus:p,selectMenuFollowerRef:O,cascaderMenuFollowerRef:I,triggerInstRef:w,selectMenuInstRef:g,cascaderMenuInstRef:y,mergedBordered:n,mergedClsPrefix:t,namespace:s,mergedValue:c,mergedShow:we,showSelectMenu:Se,pattern:u,treeMate:C,mergedSize:d,mergedDisabled:b,localizedPlaceholder:Te,selectedOption:Pe,selectedOptions:oe,adjustedTo:P,menuModel:re,handleMenuTabout:mt,handleMenuFocus:$e,handleMenuBlur:Re,handleMenuKeydown:te,handleMenuMousedown:Xe,handleTriggerFocus:ie,handleTriggerBlur:be,handleTriggerClick:nt,handleClear:he,handleDeleteOption:Ue,handlePatternInput:gt,handleKeydown:T,focused:z,optionHeight:ue,mergedTheme:i,cssVars:o?void 0:It,themeClass:bt==null?void 0:bt.themeClass,onRender:bt==null?void 0:bt.onRender})},render(){const{mergedClsPrefix:e}=this;return H("div",{class:`${e}-cascader`},H(Ui,null,{default:()=>[H(ji,null,{default:()=>H(Fc,{onResize:this.handleTriggerResize,ref:"triggerInstRef",status:this.mergedStatus,clsPrefix:e,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,active:this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,focused:this.focused,onFocus:this.handleTriggerFocus,onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onClear:this.handleClear,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onKeydown:this.handleKeydown})}),H(Br,{key:"cascaderMenu",ref:"cascaderMenuFollowerRef",show:this.mergedShow&&!this.showSelectMenu,containerClass:this.namespace,placement:this.placement,width:this.options.length?void 0:"target",teleportDisabled:this.adjustedTo===Rt.tdkey,to:this.adjustedTo},{default:()=>{var n;(n=this.onRender)===null||n===void 0||n.call(this);const{menuProps:t}=this;return H(ed,Object.assign({},t,{ref:"cascaderMenuInstRef",class:[this.themeClass,t==null?void 0:t.class],value:this.mergedValue,show:this.mergedShow&&!this.showSelectMenu,menuModel:this.menuModel,style:[this.cssVars,t==null?void 0:t.style],onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onMousedown:this.handleMenuMousedown,onTabout:this.handleMenuTabout}),{action:()=>{var s,o;return(o=(s=this.$slots).action)===null||o===void 0?void 0:o.call(s)},empty:()=>{var s,o;return(o=(s=this.$slots).empty)===null||o===void 0?void 0:o.call(s)}})}}),H(Br,{key:"selectMenu",ref:"selectMenuFollowerRef",show:this.mergedShow&&this.showSelectMenu,containerClass:this.namespace,width:"target",placement:this.placement,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Rt.tdkey},{default:()=>{var n;(n=this.onRender)===null||n===void 0||n.call(this);const{filterMenuProps:t}=this;return H(td,Object.assign({},t,{ref:"selectMenuInstRef",class:[this.themeClass,t==null?void 0:t.class],value:this.mergedValue,show:this.mergedShow&&this.showSelectMenu,pattern:this.pattern,multiple:this.multiple,tmNodes:this.treeMate.treeNodes,filter:this.filter,labelField:this.labelField,separator:this.separator,style:[this.cssVars,t==null?void 0:t.style]}))}})]}))}}),pt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Dt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function id(){const e=Qe(_s,null);return e===null&&Jr("use-dialog","No outer <n-dialog-provider /> founded."),e}const ad=e=>{const{textColor2:n,cardColor:t,modalColor:s,popoverColor:o,dividerColor:i,borderRadius:a,fontSize:r}=e;return{textColor:n,color:t,colorModal:s,colorPopover:o,borderColor:i,borderColorModal:Ro(s,i),borderColorPopover:Ro(o,i),borderRadius:a,fontSize:r}},sd={name:"List",common:Tt,self:ad};var ld=sd;const ud=e=>{const{textColor1:n,textColor2:t,fontWeightStrong:s,fontSize:o}=e;return{fontSize:o,titleTextColor:n,textColor:t,titleFontWeight:s}},cd={name:"Thing",common:Tt,self:ud};var dd=cd,fd=Ce([le("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[ze("bordered",`
 border-radius: var(--n-border-radius);
 border: 1px solid var(--n-merged-border-color);
 `,[le("list-item",`
 padding: 12px 20px;
 `,[Ce("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),ye("header, footer",`
 padding: 12px 20px;
 `,[Ce("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)])]),ye("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[Ce("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),le("list-item",`
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition: border-color .3s var(--n-bezier);
 `,[ye("prefix",`
 margin-right: 20px;
 flex: 0;
 `),ye("suffix",`
 margin-left: 20px;
 flex: 0;
 `),ye("main",`
 flex: 1;
 `),Ce("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)])]),Pi(le("list",`
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Ti(le("list",`
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]);const hd=Object.assign(Object.assign({},et.props),{size:{type:String,default:"medium"},bordered:{type:Boolean,default:!1}}),ua=un("n-list");var pd=Le({name:"List",props:hd,setup(e){const{mergedClsPrefixRef:n,inlineThemeDisabled:t}=jt(e),s=et("List","-list",fd,ld,e,n);Ct(ua,{mergedClsPrefixRef:n});const o=me(()=>{const{common:{cubicBezierEaseInOut:a},self:{fontSize:r,textColor:l,color:c,colorModal:f,colorPopover:u,borderColor:m,borderColorModal:d,borderColorPopover:b,borderRadius:p}}=s.value;return{"--n-font-size":r,"--n-bezier":a,"--n-text-color":l,"--n-color":c,"--n-border-radius":p,"--n-border-color":m,"--n-border-color-modal":d,"--n-border-color-popover":b,"--n-color-modal":f,"--n-color-popover":u}}),i=t?$t("list",void 0,o,e):void 0;return{mergedClsPrefix:n,cssVars:t?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$slots:n,mergedClsPrefix:t,onRender:s}=this;return s==null||s(),H("ul",{class:[`${t}-list`,this.bordered&&`${t}-list--bordered`,this.themeClass],style:this.cssVars},n.header?H("div",{class:`${t}-list__header`},n.header()):null,(e=n.default)===null||e===void 0?void 0:e.call(n),n.footer?H("div",{class:`${t}-list__footer`},n.footer()):null)}}),vd=Le({name:"ListItem",setup(){const e=Qe(ua,null);return e||Jr("list-item","`n-list-item` must be placed in `n-list`."),{mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:n}=this;return H("li",{class:`${n}-list-item`},e.prefix?H("div",{class:`${n}-list-item__prefix`},e.prefix()):null,e.default?H("div",{class:`${n}-list-item__main`},e):null,e.suffix?H("div",{class:`${n}-list-item__suffix`},e.suffix()):null)}});function md(){const e=Qe(xs,null);return e===null&&Jr("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}var gd=le("thing",`
 display: flex;
 transition: color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 color: var(--n-text-color);
`,[le("thing-avatar",`
 margin-right: 12px;
 margin-top: 2px;
 `),le("thing-avatar-header-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 `,[le("thing-header-wrapper",`
 flex: 1;
 `)]),le("thing-main",`
 flex-grow: 1;
 `,[le("thing-header",`
 display: flex;
 margin-bottom: 4px;
 justify-content: space-between;
 align-items: center;
 `,[ye("title",`
 font-size: 16px;
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 color: var(--n-title-text-color);
 `)]),ye("description",[Ce("&:not(:last-child)",`
 margin-bottom: 4px;
 `)]),ye("content",[Ce("&:not(:first-child)",`
 margin-top: 12px;
 `)]),ye("footer",[Ce("&:not(:first-child)",`
 margin-top: 12px;
 `)]),ye("action",[Ce("&:not(:first-child)",`
 margin-top: 12px;
 `)])])]);const bd=Object.assign(Object.assign({},et.props),{title:String,titleExtra:String,description:String,content:String,contentIndented:{type:Boolean,default:!1}});var yd=Le({name:"Thing",props:bd,setup(e,{slots:n}){const{mergedClsPrefixRef:t,inlineThemeDisabled:s}=jt(e),o=et("Thing","-thing",gd,dd,e,t),i=me(()=>{const{self:{titleTextColor:r,textColor:l,titleFontWeight:c,fontSize:f},common:{cubicBezierEaseInOut:u}}=o.value;return{"--n-bezier":u,"--n-font-size":f,"--n-text-color":l,"--n-title-font-weight":c,"--n-title-text-color":r}}),a=s?$t("thing",void 0,i,e):void 0;return()=>{var r;const{value:l}=t;return(r=a==null?void 0:a.onRender)===null||r===void 0||r.call(a),H("div",{class:[`${l}-thing`,a==null?void 0:a.themeClass],style:s?void 0:i.value},n.avatar&&e.contentIndented?H("div",{class:`${l}-thing-avatar`},n.avatar()):null,H("div",{class:`${l}-thing-main`},!e.contentIndented&&(n.header||e.title||n["header-extra"]||e.titleExtra||n.avatar)?H("div",{class:`${l}-thing-avatar-header-wrapper`},n.avatar?H("div",{class:`${l}-thing-avatar`},n.avatar()):null,n.header||e.title||n["header-extra"]||e.titleExtra?H("div",{class:`${l}-thing-header-wrapper`},H("div",{class:`${l}-thing-header`},n.header||e.title?H("div",{class:`${l}-thing-header__title`},n.header?n.header():e.title):null,n["header-extra"]||e.titleExtra?H("div",{class:`${l}-thing-header__extra`},n["header-extra"]?n["header-extra"]():e.titleExtra):null),n.description||e.description?H("div",{class:`${l}-thing-main__description`},n.description?n.description():e.description):null):null):H(on,null,n.header||e.title||n["header-extra"]||e.titleExtra?H("div",{class:`${l}-thing-header`},n.header||e.title?H("div",{class:`${l}-thing-header__title`},n.header?n.header():e.title):null,n["header-extra"]||e.titleExtra?H("div",{class:`${l}-thing-header__extra`},n["header-extra"]?n["header-extra"]():e.titleExtra):null):null,n.description||e.description?H("div",{class:`${l}-thing-main__description`},n.description?n.description():e.description):null),n.default||e.content?H("div",{class:`${l}-thing-main__content`},n.default?n.default():e.content):null,n.footer?H("div",{class:`${l}-thing-main__footer`},n.footer()):null,n.action?H("div",{class:`${l}-thing-main__action`},n.action()):null))}}}),lo={exports:{}},ca=function(n,t){return function(){for(var o=new Array(arguments.length),i=0;i<o.length;i++)o[i]=arguments[i];return n.apply(t,o)}},wd=ca,qt=Object.prototype.toString;function uo(e){return qt.call(e)==="[object Array]"}function Wr(e){return typeof e=="undefined"}function _d(e){return e!==null&&!Wr(e)&&e.constructor!==null&&!Wr(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function xd(e){return qt.call(e)==="[object ArrayBuffer]"}function Cd(e){return typeof FormData!="undefined"&&e instanceof FormData}function kd(e){var n;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&e.buffer instanceof ArrayBuffer,n}function Sd(e){return typeof e=="string"}function Ed(e){return typeof e=="number"}function da(e){return e!==null&&typeof e=="object"}function Fn(e){if(qt.call(e)!=="[object Object]")return!1;var n=Object.getPrototypeOf(e);return n===null||n===Object.prototype}function Ad(e){return qt.call(e)==="[object Date]"}function Rd(e){return qt.call(e)==="[object File]"}function zd(e){return qt.call(e)==="[object Blob]"}function fa(e){return qt.call(e)==="[object Function]"}function Id(e){return da(e)&&fa(e.pipe)}function Od(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function Pd(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Td(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function co(e,n){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),uo(e))for(var t=0,s=e.length;t<s;t++)n.call(null,e[t],t,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.call(null,e[o],o,e)}function Kr(){var e={};function n(o,i){Fn(e[i])&&Fn(o)?e[i]=Kr(e[i],o):Fn(o)?e[i]=Kr({},o):uo(o)?e[i]=o.slice():e[i]=o}for(var t=0,s=arguments.length;t<s;t++)co(arguments[t],n);return e}function $d(e,n,t){return co(n,function(o,i){t&&typeof o=="function"?e[i]=wd(o,t):e[i]=o}),e}function Nd(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var vt={isArray:uo,isArrayBuffer:xd,isBuffer:_d,isFormData:Cd,isArrayBufferView:kd,isString:Sd,isNumber:Ed,isObject:da,isPlainObject:Fn,isUndefined:Wr,isDate:Ad,isFile:Rd,isBlob:zd,isFunction:fa,isStream:Id,isURLSearchParams:Od,isStandardBrowserEnv:Td,forEach:co,merge:Kr,extend:$d,trim:Pd,stripBOM:Nd},tn=vt;function oi(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ha=function(n,t,s){if(!t)return n;var o;if(s)o=s(t);else if(tn.isURLSearchParams(t))o=t.toString();else{var i=[];tn.forEach(t,function(l,c){l===null||typeof l=="undefined"||(tn.isArray(l)?c=c+"[]":l=[l],tn.forEach(l,function(u){tn.isDate(u)?u=u.toISOString():tn.isObject(u)&&(u=JSON.stringify(u)),i.push(oi(c)+"="+oi(u))}))}),o=i.join("&")}if(o){var a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n},Md=vt;function Zn(){this.handlers=[]}Zn.prototype.use=function(n,t,s){return this.handlers.push({fulfilled:n,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};Zn.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)};Zn.prototype.forEach=function(n){Md.forEach(this.handlers,function(s){s!==null&&n(s)})};var Fd=Zn,Bd=vt,Dd=function(n,t){Bd.forEach(n,function(o,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(n[t]=o,delete n[i])})},pa=function(n,t,s,o,i){return n.config=t,s&&(n.code=s),n.request=o,n.response=i,n.isAxiosError=!0,n.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},n},Ld=pa,va=function(n,t,s,o,i){var a=new Error(n);return Ld(a,t,s,o,i)},Ud=va,jd=function(n,t,s){var o=s.config.validateStatus;!s.status||!o||o(s.status)?n(s):t(Ud("Request failed with status code "+s.status,s.config,null,s.request,s))},$n=vt,Hd=$n.isStandardBrowserEnv()?function(){return{write:function(t,s,o,i,a,r){var l=[];l.push(t+"="+encodeURIComponent(s)),$n.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),$n.isString(i)&&l.push("path="+i),$n.isString(a)&&l.push("domain="+a),r===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){var s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Wd=function(n){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n)},Kd=function(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n},Vd=Wd,Gd=Kd,Zd=function(n,t){return n&&!Vd(t)?Gd(n,t):t},zr=vt,qd=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Yd=function(n){var t={},s,o,i;return n&&zr.forEach(n.split(`
`),function(r){if(i=r.indexOf(":"),s=zr.trim(r.substr(0,i)).toLowerCase(),o=zr.trim(r.substr(i+1)),s){if(t[s]&&qd.indexOf(s)>=0)return;s==="set-cookie"?t[s]=(t[s]?t[s]:[]).concat([o]):t[s]=t[s]?t[s]+", "+o:o}}),t},ii=vt,Xd=ii.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),s;function o(i){var a=i;return n&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return s=o(window.location.href),function(a){var r=ii.isString(a)?o(a):a;return r.protocol===s.protocol&&r.host===s.host}}():function(){return function(){return!0}}();function fo(e){this.message=e}fo.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};fo.prototype.__CANCEL__=!0;var qn=fo,Nn=vt,Jd=jd,Qd=Hd,ef=ha,tf=Zd,nf=Yd,rf=Xd,Ir=va,of=Xn,af=qn,ai=function(n){return new Promise(function(s,o){var i=n.data,a=n.headers,r=n.responseType,l;function c(){n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}Nn.isFormData(i)&&delete a["Content-Type"];var f=new XMLHttpRequest;if(n.auth){var u=n.auth.username||"",m=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";a.Authorization="Basic "+btoa(u+":"+m)}var d=tf(n.baseURL,n.url);f.open(n.method.toUpperCase(),ef(d,n.params,n.paramsSerializer),!0),f.timeout=n.timeout;function b(){if(!!f){var y="getAllResponseHeaders"in f?nf(f.getAllResponseHeaders()):null,g=!r||r==="text"||r==="json"?f.responseText:f.response,w={data:g,status:f.status,statusText:f.statusText,headers:y,config:n,request:f};Jd(function(A){s(A),c()},function(A){o(A),c()},w),f=null}}if("onloadend"in f?f.onloadend=b:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(b)},f.onabort=function(){!f||(o(Ir("Request aborted",n,"ECONNABORTED",f)),f=null)},f.onerror=function(){o(Ir("Network Error",n,null,f)),f=null},f.ontimeout=function(){var g=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded",w=n.transitional||of.transitional;n.timeoutErrorMessage&&(g=n.timeoutErrorMessage),o(Ir(g,n,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},Nn.isStandardBrowserEnv()){var p=(n.withCredentials||rf(d))&&n.xsrfCookieName?Qd.read(n.xsrfCookieName):void 0;p&&(a[n.xsrfHeaderName]=p)}"setRequestHeader"in f&&Nn.forEach(a,function(g,w){typeof i=="undefined"&&w.toLowerCase()==="content-type"?delete a[w]:f.setRequestHeader(w,g)}),Nn.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),r&&r!=="json"&&(f.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&f.addEventListener("progress",n.onDownloadProgress),typeof n.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",n.onUploadProgress),(n.cancelToken||n.signal)&&(l=function(y){!f||(o(!y||y&&y.type?new af("canceled"):y),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l))),i||(i=null),f.send(i)})},rt=vt,si=Dd,sf=pa,lf={"Content-Type":"application/x-www-form-urlencoded"};function li(e,n){!rt.isUndefined(e)&&rt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}function uf(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=ai),e}function cf(e,n,t){if(rt.isString(e))try{return(n||JSON.parse)(e),rt.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(e)}var Yn={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:uf(),transformRequest:[function(n,t){return si(t,"Accept"),si(t,"Content-Type"),rt.isFormData(n)||rt.isArrayBuffer(n)||rt.isBuffer(n)||rt.isStream(n)||rt.isFile(n)||rt.isBlob(n)?n:rt.isArrayBufferView(n)?n.buffer:rt.isURLSearchParams(n)?(li(t,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):rt.isObject(n)||t&&t["Content-Type"]==="application/json"?(li(t,"application/json"),cf(n)):n}],transformResponse:[function(n){var t=this.transitional||Yn.transitional,s=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,i=!s&&this.responseType==="json";if(i||o&&rt.isString(n)&&n.length)try{return JSON.parse(n)}catch(a){if(i)throw a.name==="SyntaxError"?sf(a,this,"E_JSON_PARSE"):a}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};rt.forEach(["delete","get","head"],function(n){Yn.headers[n]={}});rt.forEach(["post","put","patch"],function(n){Yn.headers[n]=rt.merge(lf)});var Xn=Yn,df=vt,ff=Xn,hf=function(n,t,s){var o=this||ff;return df.forEach(s,function(a){n=a.call(o,n,t)}),n},ma=function(n){return!!(n&&n.__CANCEL__)},ui=vt,Or=hf,pf=ma,vf=Xn,mf=qn;function Pr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mf("canceled")}var gf=function(n){Pr(n),n.headers=n.headers||{},n.data=Or.call(n,n.data,n.headers,n.transformRequest),n.headers=ui.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),ui.forEach(["delete","get","head","post","put","patch","common"],function(o){delete n.headers[o]});var t=n.adapter||vf.adapter;return t(n).then(function(o){return Pr(n),o.data=Or.call(n,o.data,o.headers,n.transformResponse),o},function(o){return pf(o)||(Pr(n),o&&o.response&&(o.response.data=Or.call(n,o.response.data,o.response.headers,n.transformResponse))),Promise.reject(o)})},ft=vt,ga=function(n,t){t=t||{};var s={};function o(f,u){return ft.isPlainObject(f)&&ft.isPlainObject(u)?ft.merge(f,u):ft.isPlainObject(u)?ft.merge({},u):ft.isArray(u)?u.slice():u}function i(f){if(ft.isUndefined(t[f])){if(!ft.isUndefined(n[f]))return o(void 0,n[f])}else return o(n[f],t[f])}function a(f){if(!ft.isUndefined(t[f]))return o(void 0,t[f])}function r(f){if(ft.isUndefined(t[f])){if(!ft.isUndefined(n[f]))return o(void 0,n[f])}else return o(void 0,t[f])}function l(f){if(f in t)return o(n[f],t[f]);if(f in n)return o(void 0,n[f])}var c={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l};return ft.forEach(Object.keys(n).concat(Object.keys(t)),function(u){var m=c[u]||i,d=m(u);ft.isUndefined(d)&&m!==l||(s[u]=d)}),s},ba={version:"0.24.0"},bf=ba.version,ho={};["object","boolean","number","function","string","symbol"].forEach(function(e,n){ho[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});var ci={};ho.transitional=function(n,t,s){function o(i,a){return"[Axios v"+bf+"] Transitional option '"+i+"'"+a+(s?". "+s:"")}return function(i,a,r){if(n===!1)throw new Error(o(a," has been removed"+(t?" in "+t:"")));return t&&!ci[a]&&(ci[a]=!0,console.warn(o(a," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(i,a,r):!0}};function yf(e,n,t){if(typeof e!="object")throw new TypeError("options must be an object");for(var s=Object.keys(e),o=s.length;o-- >0;){var i=s[o],a=n[i];if(a){var r=e[i],l=r===void 0||a(r,i,e);if(l!==!0)throw new TypeError("option "+i+" must be "+l);continue}if(t!==!0)throw Error("Unknown option "+i)}}var wf={assertOptions:yf,validators:ho},ya=vt,_f=ha,di=Fd,fi=gf,Jn=ga,wa=wf,nn=wa.validators;function Sn(e){this.defaults=e,this.interceptors={request:new di,response:new di}}Sn.prototype.request=function(n){typeof n=="string"?(n=arguments[1]||{},n.url=arguments[0]):n=n||{},n=Jn(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var t=n.transitional;t!==void 0&&wa.assertOptions(t,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1);var s=[],o=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(o=o&&m.synchronous,s.unshift(m.fulfilled,m.rejected))});var i=[];this.interceptors.response.forEach(function(m){i.push(m.fulfilled,m.rejected)});var a;if(!o){var r=[fi,void 0];for(Array.prototype.unshift.apply(r,s),r=r.concat(i),a=Promise.resolve(n);r.length;)a=a.then(r.shift(),r.shift());return a}for(var l=n;s.length;){var c=s.shift(),f=s.shift();try{l=c(l)}catch(u){f(u);break}}try{a=fi(l)}catch(u){return Promise.reject(u)}for(;i.length;)a=a.then(i.shift(),i.shift());return a};Sn.prototype.getUri=function(n){return n=Jn(this.defaults,n),_f(n.url,n.params,n.paramsSerializer).replace(/^\?/,"")};ya.forEach(["delete","get","head","options"],function(n){Sn.prototype[n]=function(t,s){return this.request(Jn(s||{},{method:n,url:t,data:(s||{}).data}))}});ya.forEach(["post","put","patch"],function(n){Sn.prototype[n]=function(t,s,o){return this.request(Jn(o||{},{method:n,url:t,data:s}))}});var xf=Sn,Cf=qn;function ln(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var t=this;this.promise.then(function(s){if(!!t._listeners){var o,i=t._listeners.length;for(o=0;o<i;o++)t._listeners[o](s);t._listeners=null}}),this.promise.then=function(s){var o,i=new Promise(function(a){t.subscribe(a),o=a}).then(s);return i.cancel=function(){t.unsubscribe(o)},i},e(function(o){t.reason||(t.reason=new Cf(o),n(t.reason))})}ln.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ln.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]};ln.prototype.unsubscribe=function(n){if(!!this._listeners){var t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}};ln.source=function(){var n,t=new ln(function(o){n=o});return{token:t,cancel:n}};var kf=ln,Sf=function(n){return function(s){return n.apply(null,s)}},Ef=function(n){return typeof n=="object"&&n.isAxiosError===!0},hi=vt,Af=ca,Bn=xf,Rf=ga,zf=Xn;function _a(e){var n=new Bn(e),t=Af(Bn.prototype.request,n);return hi.extend(t,Bn.prototype,n),hi.extend(t,n),t.create=function(o){return _a(Rf(e,o))},t}var zt=_a(zf);zt.Axios=Bn;zt.Cancel=qn;zt.CancelToken=kf;zt.isCancel=ma;zt.VERSION=ba.version;zt.all=function(n){return Promise.all(n)};zt.spread=Sf;zt.isAxiosError=Ef;lo.exports=zt;lo.exports.default=zt;var lt=lo.exports,xa={exports:{}};/*!

JSZip v3.10.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,n){(function(t){e.exports=t()})(function(){return function t(s,o,i){function a(c,f){if(!o[c]){if(!s[c]){var u=typeof Dt=="function"&&Dt;if(!f&&u)return u(c,!0);if(r)return r(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var d=o[c]={exports:{}};s[c][0].call(d.exports,function(b){var p=s[c][1][b];return a(p||b)},d,d.exports,t,s,o,i)}return o[c].exports}for(var r=typeof Dt=="function"&&Dt,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(t,s,o){var i=t("./utils"),a=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(l){for(var c,f,u,m,d,b,p,y=[],g=0,w=l.length,E=w,A=i.getTypeOf(l)!=="string";g<l.length;)E=w-g,u=A?(c=l[g++],f=g<w?l[g++]:0,g<w?l[g++]:0):(c=l.charCodeAt(g++),f=g<w?l.charCodeAt(g++):0,g<w?l.charCodeAt(g++):0),m=c>>2,d=(3&c)<<4|f>>4,b=1<E?(15&f)<<2|u>>6:64,p=2<E?63&u:64,y.push(r.charAt(m)+r.charAt(d)+r.charAt(b)+r.charAt(p));return y.join("")},o.decode=function(l){var c,f,u,m,d,b,p=0,y=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var w,E=3*(l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(l.charAt(l.length-1)===r.charAt(64)&&E--,l.charAt(l.length-2)===r.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=a.uint8array?new Uint8Array(0|E):new Array(0|E);p<l.length;)c=r.indexOf(l.charAt(p++))<<2|(m=r.indexOf(l.charAt(p++)))>>4,f=(15&m)<<4|(d=r.indexOf(l.charAt(p++)))>>2,u=(3&d)<<6|(b=r.indexOf(l.charAt(p++))),w[y++]=c,d!==64&&(w[y++]=f),b!==64&&(w[y++]=u);return w}},{"./support":30,"./utils":32}],2:[function(t,s,o){var i=t("./external"),a=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function c(f,u,m,d,b){this.compressedSize=f,this.uncompressedSize=u,this.crc32=m,this.compression=d,this.compressedContent=b}c.prototype={getContentWorker:function(){var f=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),u=this;return f.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(f,u,m){return f.pipe(new r).pipe(new l("uncompressedSize")).pipe(u.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",u)},s.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,s,o){var i=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(a){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,s,o){var i=t("./utils"),a=function(){for(var r,l=[],c=0;c<256;c++){r=c;for(var f=0;f<8;f++)r=1&r?3988292384^r>>>1:r>>>1;l[c]=r}return l}();s.exports=function(r,l){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(c,f,u,m){var d=a,b=m+u;c^=-1;for(var p=m;p<b;p++)c=c>>>8^d[255&(c^f[p])];return-1^c}(0|l,r,r.length,0):function(c,f,u,m){var d=a,b=m+u;c^=-1;for(var p=m;p<b;p++)c=c>>>8^d[255&(c^f.charCodeAt(p))];return-1^c}(0|l,r,r.length,0):0}},{"./utils":32}],5:[function(t,s,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,s,o){var i=null;i=typeof Promise!="undefined"?Promise:t("lie"),s.exports={Promise:i}},{lie:37}],7:[function(t,s,o){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",a=t("pako"),r=t("./utils"),l=t("./stream/GenericWorker"),c=i?"uint8array":"array";function f(u,m){l.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=m,this.meta={}}o.magic="\b\0",r.inherits(f,l),f.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(c,u.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(m){u.push({data:m,meta:u.meta})}},o.compressWorker=function(u){return new f("Deflate",u)},o.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,s,o){function i(d,b){var p,y="";for(p=0;p<b;p++)y+=String.fromCharCode(255&d),d>>>=8;return y}function a(d,b,p,y,g,w){var E,A,_=d.file,O=d.compression,I=w!==c.utf8encode,P=r.transformTo("string",w(_.name)),z=r.transformTo("string",c.utf8encode(_.name)),N=_.comment,G=r.transformTo("string",w(N)),C=r.transformTo("string",c.utf8encode(N)),j=z.length!==_.name.length,h=C.length!==N.length,V="",re="",Z="",ue=_.dir,F=_.date,J={crc32:0,compressedSize:0,uncompressedSize:0};b&&!p||(J.crc32=d.crc32,J.compressedSize=d.compressedSize,J.uncompressedSize=d.uncompressedSize);var B=0;b&&(B|=8),I||!j&&!h||(B|=2048);var W=0,pe=0;ue&&(W|=16),g==="UNIX"?(pe=798,W|=function(oe,Pe){var ke=oe;return oe||(ke=Pe?16893:33204),(65535&ke)<<16}(_.unixPermissions,ue)):(pe=20,W|=function(oe){return 63&(oe||0)}(_.dosPermissions)),E=F.getUTCHours(),E<<=6,E|=F.getUTCMinutes(),E<<=5,E|=F.getUTCSeconds()/2,A=F.getUTCFullYear()-1980,A<<=4,A|=F.getUTCMonth()+1,A<<=5,A|=F.getUTCDate(),j&&(re=i(1,1)+i(f(P),4)+z,V+="up"+i(re.length,2)+re),h&&(Z=i(1,1)+i(f(G),4)+C,V+="uc"+i(Z.length,2)+Z);var de="";return de+=`
\0`,de+=i(B,2),de+=O.magic,de+=i(E,2),de+=i(A,2),de+=i(J.crc32,4),de+=i(J.compressedSize,4),de+=i(J.uncompressedSize,4),de+=i(P.length,2),de+=i(V.length,2),{fileRecord:u.LOCAL_FILE_HEADER+de+P+V,dirRecord:u.CENTRAL_FILE_HEADER+i(pe,2)+de+i(G.length,2)+"\0\0\0\0"+i(W,4)+i(y,4)+P+V+G}}var r=t("../utils"),l=t("../stream/GenericWorker"),c=t("../utf8"),f=t("../crc32"),u=t("../signature");function m(d,b,p,y){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=p,this.encodeFileName=y,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(m,l),m.prototype.push=function(d){var b=d.meta.percent||0,p=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:p?(b+100*(p-y-1))/p:100}}))},m.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var b=this.streamFiles&&!d.file.dir;if(b){var p=a(d,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:p.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(d){this.accumulate=!1;var b=this.streamFiles&&!d.file.dir,p=a(d,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(p.dirRecord),b)this.push({data:function(y){return u.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:p.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var d=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var p=this.bytesWritten-d,y=function(g,w,E,A,_){var O=r.transformTo("string",_(A));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(w,4)+i(E,4)+i(O.length,2)+O}(this.dirRecords.length,p,d,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(d){this._sources.push(d);var b=this;return d.on("data",function(p){b.processChunk(p)}),d.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),d.on("error",function(p){b.error(p)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(d){var b=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var p=0;p<b.length;p++)try{b[p].error(d)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,b=0;b<d.length;b++)d[b].lock()},s.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,s,o){var i=t("../compressions"),a=t("./ZipFileWorker");o.generateWorker=function(r,l,c){var f=new a(l.streamFiles,c,l.platform,l.encodeFileName),u=0;try{r.forEach(function(m,d){u++;var b=function(w,E){var A=w||E,_=i[A];if(!_)throw new Error(A+" is not a valid compression method !");return _}(d.options.compression,l.compression),p=d.options.compressionOptions||l.compressionOptions||{},y=d.dir,g=d.date;d._compressWorker(b,p).withStreamInfo("file",{name:m,dir:y,date:g,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(f)}),f.entriesCount=u}catch(m){f.error(m)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,s,o){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var r in this)typeof this[r]!="function"&&(a[r]=this[r]);return a}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.0",i.loadAsync=function(a,r){return new i().loadAsync(a,r)},i.external=t("./external"),s.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,s,o){var i=t("./utils"),a=t("./external"),r=t("./utf8"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function u(m){return new a.Promise(function(d,b){var p=m.decompressed.getContentWorker().pipe(new c);p.on("error",function(y){b(y)}).on("end",function(){p.streamInfo.crc32!==m.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}s.exports=function(m,d){var b=this;return d=i.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),f.isNode&&f.isStream(m)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",m,!0,d.optimizedBinaryString,d.base64).then(function(p){var y=new l(d);return y.load(p),y}).then(function(p){var y=[a.Promise.resolve(p)],g=p.files;if(d.checkCRC32)for(var w=0;w<g.length;w++)y.push(u(g[w]));return a.Promise.all(y)}).then(function(p){for(var y=p.shift(),g=y.files,w=0;w<g.length;w++){var E=g[w],A=E.fileNameStr,_=i.resolve(E.fileNameStr);b.file(_,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:d.createFolders}),E.dir||(b.file(_).unsafeOriginalName=A)}return y.zipComment.length&&(b.comment=y.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,s,o){var i=t("../utils"),a=t("../stream/GenericWorker");function r(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}i.inherits(r,a),r.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(f){c.push({data:f,meta:{percent:0}})}).on("error",function(f){c.isPaused?this.generatedError=f:c.error(f)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},r.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,s,o){var i=t("readable-stream").Readable;function a(r,l,c){i.call(this,l),this._helper=r;var f=this;r.on("data",function(u,m){f.push(u)||f._helper.pause(),c&&c(m)}).on("error",function(u){f.emit("error",u)}).on("end",function(){f.push(null)})}t("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},s.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,s,o){s.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,s,o){function i(_,O,I){var P,z=r.getTypeOf(O),N=r.extend(I||{},f);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(_=g(_)),N.createFolders&&(P=y(_))&&w.call(this,P,!0);var G=z==="string"&&N.binary===!1&&N.base64===!1;I&&I.binary!==void 0||(N.binary=!G),(O instanceof u&&O.uncompressedSize===0||N.dir||!O||O.length===0)&&(N.base64=!1,N.binary=!0,O="",N.compression="STORE",z="string");var C=null;C=O instanceof u||O instanceof l?O:b.isNode&&b.isStream(O)?new p(_,O):r.prepareContent(_,O,N.binary,N.optimizedBinaryString,N.base64);var j=new m(_,C,N);this.files[_]=j}var a=t("./utf8"),r=t("./utils"),l=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),f=t("./defaults"),u=t("./compressedObject"),m=t("./zipObject"),d=t("./generate"),b=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),y=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var O=_.lastIndexOf("/");return 0<O?_.substring(0,O):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},w=function(_,O){return O=O!==void 0?O:f.createFolders,_=g(_),this.files[_]||i.call(this,_,null,{dir:!0,createFolders:O}),this.files[_]};function E(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var O,I,P;for(O in this.files)P=this.files[O],(I=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&_(I,P)},filter:function(_){var O=[];return this.forEach(function(I,P){_(I,P)&&O.push(P)}),O},file:function(_,O,I){if(arguments.length!==1)return _=this.root+_,i.call(this,_,O,I),this;if(E(_)){var P=_;return this.filter(function(N,G){return!G.dir&&P.test(N)})}var z=this.files[this.root+_];return z&&!z.dir?z:null},folder:function(_){if(!_)return this;if(E(_))return this.filter(function(z,N){return N.dir&&_.test(z)});var O=this.root+_,I=w.call(this,O),P=this.clone();return P.root=I.name,P},remove:function(_){_=this.root+_;var O=this.files[_];if(O||(_.slice(-1)!=="/"&&(_+="/"),O=this.files[_]),O&&!O.dir)delete this.files[_];else for(var I=this.filter(function(z,N){return N.name.slice(0,_.length)===_}),P=0;P<I.length;P++)delete this.files[I[P].name];return this},generate:function(_){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var O,I={};try{if((I=r.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");r.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var P=I.comment||this.comment||"";O=d.generateWorker(this,I,P)}catch(z){(O=new l("error")).error(z)}return new c(O,I.type||"string",I.mimeType)},generateAsync:function(_,O){return this.generateInternalStream(_).accumulate(O)},generateNodeStream:function(_,O){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(O)}};s.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,s,o){s.exports=t("stream")},{stream:void 0}],17:[function(t,s,o){var i=t("./DataReader");function a(r){i.call(this,r);for(var l=0;l<this.data.length;l++)r[l]=255&r[l]}t("../utils").inherits(a,i),a.prototype.byteAt=function(r){return this.data[this.zero+r]},a.prototype.lastIndexOfSignature=function(r){for(var l=r.charCodeAt(0),c=r.charCodeAt(1),f=r.charCodeAt(2),u=r.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===c&&this.data[m+2]===f&&this.data[m+3]===u)return m-this.zero;return-1},a.prototype.readAndCheckSignature=function(r){var l=r.charCodeAt(0),c=r.charCodeAt(1),f=r.charCodeAt(2),u=r.charCodeAt(3),m=this.readData(4);return l===m[0]&&c===m[1]&&f===m[2]&&u===m[3]},a.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},s.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,s,o){var i=t("../utils");function a(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(r){},readInt:function(r){var l,c=0;for(this.checkOffset(r),l=this.index+r-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=r,c},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(r){},lastIndexOfSignature:function(r){},readAndCheckSignature:function(r){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},s.exports=a},{"../utils":32}],19:[function(t,s,o){var i=t("./Uint8ArrayReader");function a(r){i.call(this,r)}t("../utils").inherits(a,i),a.prototype.readData=function(r){this.checkOffset(r);var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},s.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,s,o){var i=t("./DataReader");function a(r){i.call(this,r)}t("../utils").inherits(a,i),a.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},a.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},a.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},a.prototype.readData=function(r){this.checkOffset(r);var l=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},s.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,s,o){var i=t("./ArrayReader");function a(r){i.call(this,r)}t("../utils").inherits(a,i),a.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,l},s.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,s,o){var i=t("../utils"),a=t("../support"),r=t("./ArrayReader"),l=t("./StringReader"),c=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");s.exports=function(u){var m=i.getTypeOf(u);return i.checkSupport(m),m!=="string"||a.uint8array?m==="nodebuffer"?new c(u):a.uint8array?new f(i.transformTo("uint8array",u)):new r(i.transformTo("array",u)):new l(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,s,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,s,o){var i=t("./GenericWorker"),a=t("../utils");function r(l){i.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(r,i),r.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},s.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,s,o){var i=t("./GenericWorker"),a=t("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,i),r.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},s.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,s,o){var i=t("../utils"),a=t("./GenericWorker");function r(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}i.inherits(r,a),r.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},s.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,s,o){var i=t("../utils"),a=t("./GenericWorker");function r(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){c.dataIsReady=!0,c.data=f,c.max=f&&f.length||0,c.type=i.getTypeOf(f),c.isPaused||c._tickAndRepeat()},function(f){c.error(f)})}i.inherits(r,a),r.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,s,o){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,r){return this._listeners[a].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,r){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,r)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var r=this;return a.on("data",function(l){r.processChunk(l)}),a.on("end",function(){r.end()}),a.on("error",function(l){r.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,r){return this.extraStreamInfo[a]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},s.exports=i},{}],29:[function(t,s,o){var i=t("../utils"),a=t("./ConvertWorker"),r=t("./GenericWorker"),l=t("../base64"),c=t("../support"),f=t("../external"),u=null;if(c.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(b,p){return new f.Promise(function(y,g){var w=[],E=b._internalType,A=b._outputType,_=b._mimeType;b.on("data",function(O,I){w.push(O),p&&p(I)}).on("error",function(O){w=[],g(O)}).on("end",function(){try{var O=function(I,P,z){switch(I){case"blob":return i.newBlob(i.transformTo("arraybuffer",P),z);case"base64":return l.encode(P);default:return i.transformTo(I,P)}}(A,function(I,P){var z,N=0,G=null,C=0;for(z=0;z<P.length;z++)C+=P[z].length;switch(I){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(G=new Uint8Array(C),z=0;z<P.length;z++)G.set(P[z],N),N+=P[z].length;return G;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+I+"'")}}(E,w),_);y(O)}catch(I){g(I)}w=[]}).resume()})}function d(b,p,y){var g=p;switch(p){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=p,this._mimeType=y,i.checkSupport(g),this._worker=b.pipe(new a(g)),b.lock()}catch(w){this._worker=new r("error"),this._worker.error(w)}}d.prototype={accumulate:function(b){return m(this,b)},on:function(b,p){var y=this;return b==="data"?this._worker.on(b,function(g){p.call(y,g.data,g.meta)}):this._worker.on(b,function(){i.delay(p,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},b)}},s.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,s,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",o.nodebuffer=typeof Buffer!="undefined",o.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),o.blob=a.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(t,s,o){for(var i=t("./utils"),a=t("./support"),r=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;c[254]=c[254]=1;function u(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}o.utf8encode=function(d){return a.nodebuffer?r.newBufferFrom(d,"utf-8"):function(b){var p,y,g,w,E,A=b.length,_=0;for(w=0;w<A;w++)(64512&(y=b.charCodeAt(w)))==55296&&w+1<A&&(64512&(g=b.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),w++),_+=y<128?1:y<2048?2:y<65536?3:4;for(p=a.uint8array?new Uint8Array(_):new Array(_),w=E=0;E<_;w++)(64512&(y=b.charCodeAt(w)))==55296&&w+1<A&&(64512&(g=b.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(g-56320),w++),y<128?p[E++]=y:(y<2048?p[E++]=192|y>>>6:(y<65536?p[E++]=224|y>>>12:(p[E++]=240|y>>>18,p[E++]=128|y>>>12&63),p[E++]=128|y>>>6&63),p[E++]=128|63&y);return p}(d)},o.utf8decode=function(d){return a.nodebuffer?i.transformTo("nodebuffer",d).toString("utf-8"):function(b){var p,y,g,w,E=b.length,A=new Array(2*E);for(p=y=0;p<E;)if((g=b[p++])<128)A[y++]=g;else if(4<(w=c[g]))A[y++]=65533,p+=w-1;else{for(g&=w===2?31:w===3?15:7;1<w&&p<E;)g=g<<6|63&b[p++],w--;1<w?A[y++]=65533:g<65536?A[y++]=g:(g-=65536,A[y++]=55296|g>>10&1023,A[y++]=56320|1023&g)}return A.length!==y&&(A.subarray?A=A.subarray(0,y):A.length=y),i.applyFromCharCode(A)}(d=i.transformTo(a.uint8array?"uint8array":"array",d))},i.inherits(u,l),u.prototype.processChunk=function(d){var b=i.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var p=b;(b=new Uint8Array(p.length+this.leftOver.length)).set(this.leftOver,0),b.set(p,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var y=function(w,E){var A;for((E=E||w.length)>w.length&&(E=w.length),A=E-1;0<=A&&(192&w[A])==128;)A--;return A<0||A===0?E:A+c[w[A]]>E?A:E}(b),g=b;y!==b.length&&(a.uint8array?(g=b.subarray(0,y),this.leftOver=b.subarray(y,b.length)):(g=b.slice(0,y),this.leftOver=b.slice(y,b.length))),this.push({data:o.utf8decode(g),meta:d.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=u,i.inherits(m,l),m.prototype.processChunk=function(d){this.push({data:o.utf8encode(d.data),meta:d.meta})},o.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,s,o){var i=t("./support"),a=t("./base64"),r=t("./nodejsUtils"),l=t("./external");function c(p){return p}function f(p,y){for(var g=0;g<p.length;++g)y[g]=255&p.charCodeAt(g);return y}t("setimmediate"),o.newBlob=function(p,y){o.checkSupport("blob");try{return new Blob([p],{type:y})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(p),g.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(p,y,g){var w=[],E=0,A=p.length;if(A<=g)return String.fromCharCode.apply(null,p);for(;E<A;)y==="array"||y==="nodebuffer"?w.push(String.fromCharCode.apply(null,p.slice(E,Math.min(E+g,A)))):w.push(String.fromCharCode.apply(null,p.subarray(E,Math.min(E+g,A)))),E+=g;return w.join("")},stringifyByChar:function(p){for(var y="",g=0;g<p.length;g++)y+=String.fromCharCode(p[g]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function m(p){var y=65536,g=o.getTypeOf(p),w=!0;if(g==="uint8array"?w=u.applyCanBeUsed.uint8array:g==="nodebuffer"&&(w=u.applyCanBeUsed.nodebuffer),w)for(;1<y;)try{return u.stringifyByChunk(p,g,y)}catch{y=Math.floor(y/2)}return u.stringifyByChar(p)}function d(p,y){for(var g=0;g<p.length;g++)y[g]=p[g];return y}o.applyFromCharCode=m;var b={};b.string={string:c,array:function(p){return f(p,new Array(p.length))},arraybuffer:function(p){return b.string.uint8array(p).buffer},uint8array:function(p){return f(p,new Uint8Array(p.length))},nodebuffer:function(p){return f(p,r.allocBuffer(p.length))}},b.array={string:m,array:c,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return r.newBufferFrom(p)}},b.arraybuffer={string:function(p){return m(new Uint8Array(p))},array:function(p){return d(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:c,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return r.newBufferFrom(new Uint8Array(p))}},b.uint8array={string:m,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:c,nodebuffer:function(p){return r.newBufferFrom(p)}},b.nodebuffer={string:m,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return b.nodebuffer.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:c},o.transformTo=function(p,y){if(y=y||"",!p)return y;o.checkSupport(p);var g=o.getTypeOf(y);return b[g][p](y)},o.resolve=function(p){for(var y=p.split("/"),g=[],w=0;w<y.length;w++){var E=y[w];E==="."||E===""&&w!==0&&w!==y.length-1||(E===".."?g.pop():g.push(E))}return g.join("/")},o.getTypeOf=function(p){return typeof p=="string"?"string":Object.prototype.toString.call(p)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(p)?"nodebuffer":i.uint8array&&p instanceof Uint8Array?"uint8array":i.arraybuffer&&p instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(p){if(!i[p.toLowerCase()])throw new Error(p+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(p){var y,g,w="";for(g=0;g<(p||"").length;g++)w+="\\x"+((y=p.charCodeAt(g))<16?"0":"")+y.toString(16).toUpperCase();return w},o.delay=function(p,y,g){setImmediate(function(){p.apply(g||null,y||[])})},o.inherits=function(p,y){function g(){}g.prototype=y.prototype,p.prototype=new g},o.extend=function(){var p,y,g={};for(p=0;p<arguments.length;p++)for(y in arguments[p])arguments[p].hasOwnProperty(y)&&g[y]===void 0&&(g[y]=arguments[p][y]);return g},o.prepareContent=function(p,y,g,w,E){return l.Promise.resolve(y).then(function(A){return i.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader!="undefined"?new l.Promise(function(_,O){var I=new FileReader;I.onload=function(P){_(P.target.result)},I.onerror=function(P){O(P.target.error)},I.readAsArrayBuffer(A)}):A}).then(function(A){var _=o.getTypeOf(A);return _?(_==="arraybuffer"?A=o.transformTo("uint8array",A):_==="string"&&(E?A=a.decode(A):g&&w!==!0&&(A=function(O){return f(O,i.uint8array?new Uint8Array(O.length):new Array(O.length))}(A))),A):l.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,s,o){var i=t("./reader/readerFor"),a=t("./utils"),r=t("./signature"),l=t("./zipEntry"),c=(t("./utf8"),t("./support"));function f(u){this.files=[],this.loadOptions=u}f.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(m)+", expected "+a.pretty(u)+")")}},isSignature:function(u,m){var d=this.reader.index;this.reader.setIndex(u);var b=this.reader.readString(4)===m;return this.reader.setIndex(d),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),m=c.uint8array?"uint8array":"array",d=a.transformTo(m,u);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,m,d,b=this.zip64EndOfCentralSize-44;0<b;)u=this.reader.readInt(2),m=this.reader.readInt(4),d=this.reader.readData(m),this.zip64ExtensibleData[u]={id:u,length:m,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,m;for(u=0;u<this.files.length;u++)m=this.files[u],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(u=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var m=u;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var b=m-d;if(0<b)this.isSignature(m,r.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(u){this.reader=i(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,s,o){var i=t("./reader/readerFor"),a=t("./utils"),r=t("./compressedObject"),l=t("./crc32"),c=t("./utf8"),f=t("./compressions"),u=t("./support");function m(d,b){this.options=d,this.loadOptions=b}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var b,p;if(d.skip(22),this.fileNameLength=d.readInt(2),p=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(y){for(var g in f)if(f.hasOwnProperty(g)&&f[g].magic===y)return f[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,b,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var b=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(b),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(d){if(this.extraFields[1]){var b=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(d){var b,p,y,g=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<g;)b=d.readInt(2),p=d.readInt(2),y=d.readData(p),this.extraFields[b]={id:b,length:p,value:y};d.setIndex(g)},handleUTF8:function(){var d=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var p=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var g=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var b=i(d.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:c.utf8decode(b.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var b=i(d.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:c.utf8decode(b.readData(d.length-5))}return null}},s.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,s,o){function i(b,p,y){this.name=b,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=p,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),l=t("./utf8"),c=t("./compressedObject"),f=t("./stream/GenericWorker");i.prototype={internalStream:function(b){var p=null,y="string";try{if(!b)throw new Error("No output type specified.");var g=(y=b.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),p=this._decompressWorker();var w=!this._dataBinary;w&&!g&&(p=p.pipe(new l.Utf8EncodeWorker)),!w&&g&&(p=p.pipe(new l.Utf8DecodeWorker))}catch(E){(p=new f("error")).error(E)}return new a(p,y,"")},async:function(b,p){return this.internalStream(b).accumulate(p)},nodeStream:function(b,p){return this.internalStream(b||"nodebuffer").toNodejsStream(p)},_compressWorker:function(b,p){if(this._data instanceof c&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(y,b,p)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof f?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)i.prototype[u[d]]=m;s.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,s,o){(function(i){var a,r,l=i.MutationObserver||i.WebKitMutationObserver;if(l){var c=0,f=new l(b),u=i.document.createTextNode("");f.observe(u,{characterData:!0}),a=function(){u.data=c=++c%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var p=i.document.createElement("script");p.onreadystatechange=function(){b(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},i.document.documentElement.appendChild(p)}:function(){setTimeout(b,0)};else{var m=new i.MessageChannel;m.port1.onmessage=b,a=function(){m.port2.postMessage(0)}}var d=[];function b(){var p,y;r=!0;for(var g=d.length;g;){for(y=d,d=[],p=-1;++p<g;)y[p]();g=d.length}r=!1}s.exports=function(p){d.push(p)!==1||r||a()}}).call(this,typeof pt!="undefined"?pt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(t,s,o){var i=t("immediate");function a(){}var r={},l=["REJECTED"],c=["FULFILLED"],f=["PENDING"];function u(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,g!==a&&p(this,g)}function m(g,w,E){this.promise=g,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function d(g,w,E){i(function(){var A;try{A=w(E)}catch(_){return r.reject(g,_)}A===g?r.reject(g,new TypeError("Cannot resolve promise with itself")):r.resolve(g,A)})}function b(g){var w=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof w=="function")return function(){w.apply(g,arguments)}}function p(g,w){var E=!1;function A(I){E||(E=!0,r.reject(g,I))}function _(I){E||(E=!0,r.resolve(g,I))}var O=y(function(){w(_,A)});O.status==="error"&&A(O.value)}function y(g,w){var E={};try{E.value=g(w),E.status="success"}catch(A){E.status="error",E.value=A}return E}(s.exports=u).prototype.finally=function(g){if(typeof g!="function")return this;var w=this.constructor;return this.then(function(E){return w.resolve(g()).then(function(){return E})},function(E){return w.resolve(g()).then(function(){throw E})})},u.prototype.catch=function(g){return this.then(null,g)},u.prototype.then=function(g,w){if(typeof g!="function"&&this.state===c||typeof w!="function"&&this.state===l)return this;var E=new this.constructor(a);return this.state!==f?d(E,this.state===c?g:w,this.outcome):this.queue.push(new m(E,g,w)),E},m.prototype.callFulfilled=function(g){r.resolve(this.promise,g)},m.prototype.otherCallFulfilled=function(g){d(this.promise,this.onFulfilled,g)},m.prototype.callRejected=function(g){r.reject(this.promise,g)},m.prototype.otherCallRejected=function(g){d(this.promise,this.onRejected,g)},r.resolve=function(g,w){var E=y(b,w);if(E.status==="error")return r.reject(g,E.value);var A=E.value;if(A)p(g,A);else{g.state=c,g.outcome=w;for(var _=-1,O=g.queue.length;++_<O;)g.queue[_].callFulfilled(w)}return g},r.reject=function(g,w){g.state=l,g.outcome=w;for(var E=-1,A=g.queue.length;++E<A;)g.queue[E].callRejected(w);return g},u.resolve=function(g){return g instanceof this?g:r.resolve(new this(a),g)},u.reject=function(g){var w=new this(a);return r.reject(w,g)},u.all=function(g){var w=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=g.length,A=!1;if(!E)return this.resolve([]);for(var _=new Array(E),O=0,I=-1,P=new this(a);++I<E;)z(g[I],I);return P;function z(N,G){w.resolve(N).then(function(C){_[G]=C,++O!==E||A||(A=!0,r.resolve(P,_))},function(C){A||(A=!0,r.reject(P,C))})}},u.race=function(g){var w=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=g.length,A=!1;if(!E)return this.resolve([]);for(var _=-1,O=new this(a);++_<E;)I=g[_],w.resolve(I).then(function(P){A||(A=!0,r.resolve(O,P))},function(P){A||(A=!0,r.reject(O,P))});var I;return O}},{immediate:36}],38:[function(t,s,o){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),s.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,s,o){var i=t("./zlib/deflate"),a=t("./utils/common"),r=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),f=Object.prototype.toString,u=0,m=-1,d=0,b=8;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},g||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var E=i.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(E!==u)throw new Error(l[E]);if(w.header&&i.deflateSetHeader(this.strm,w.header),w.dictionary){var A;if(A=typeof w.dictionary=="string"?r.string2buf(w.dictionary):f.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(E=i.deflateSetDictionary(this.strm,A))!==u)throw new Error(l[E]);this._dict_set=!0}}function y(g,w){var E=new p(w);if(E.push(g,!0),E.err)throw E.msg||l[E.err];return E.result}p.prototype.push=function(g,w){var E,A,_=this.strm,O=this.options.chunkSize;if(this.ended)return!1;A=w===~~w?w:w===!0?4:0,typeof g=="string"?_.input=r.string2buf(g):f.call(g)==="[object ArrayBuffer]"?_.input=new Uint8Array(g):_.input=g,_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0&&(_.output=new a.Buf8(O),_.next_out=0,_.avail_out=O),(E=i.deflate(_,A))!==1&&E!==u)return this.onEnd(E),!(this.ended=!0);_.avail_out!==0&&(_.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(a.shrinkBuf(_.output,_.next_out))):this.onData(a.shrinkBuf(_.output,_.next_out)))}while((0<_.avail_in||_.avail_out===0)&&E!==1);return A===4?(E=i.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===u):A!==2||(this.onEnd(u),!(_.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},o.Deflate=p,o.deflate=y,o.deflateRaw=function(g,w){return(w=w||{}).raw=!0,y(g,w)},o.gzip=function(g,w){return(w=w||{}).gzip=!0,y(g,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,s,o){var i=t("./zlib/inflate"),a=t("./utils/common"),r=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),f=t("./zlib/zstream"),u=t("./zlib/gzheader"),m=Object.prototype.toString;function d(p){if(!(this instanceof d))return new d(p);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},p||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||p&&p.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&(15&y.windowBits)==0&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,y.windowBits);if(g!==l.Z_OK)throw new Error(c[g]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function b(p,y){var g=new d(y);if(g.push(p,!0),g.err)throw g.msg||c[g.err];return g.result}d.prototype.push=function(p,y){var g,w,E,A,_,O,I=this.strm,P=this.options.chunkSize,z=this.options.dictionary,N=!1;if(this.ended)return!1;w=y===~~y?y:y===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof p=="string"?I.input=r.binstring2buf(p):m.call(p)==="[object ArrayBuffer]"?I.input=new Uint8Array(p):I.input=p,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(P),I.next_out=0,I.avail_out=P),(g=i.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&z&&(O=typeof z=="string"?r.string2buf(z):m.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,g=i.inflateSetDictionary(this.strm,O)),g===l.Z_BUF_ERROR&&N===!0&&(g=l.Z_OK,N=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&g!==l.Z_STREAM_END&&(I.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=r.utf8border(I.output,I.next_out),A=I.next_out-E,_=r.buf2string(I.output,E),I.next_out=A,I.avail_out=P-A,A&&a.arraySet(I.output,I.output,E,A,0),this.onData(_)):this.onData(a.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(N=!0)}while((0<I.avail_in||I.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},d.prototype.onData=function(p){this.chunks.push(p)},d.prototype.onEnd=function(p){p===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},o.Inflate=d,o.inflate=b,o.inflateRaw=function(p,y){return(y=y||{}).raw=!0,b(p,y)},o.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,s,o){var i=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";o.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var u in f)f.hasOwnProperty(u)&&(l[u]=f[u])}}return l},o.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,f,u,m){if(c.subarray&&l.subarray)l.set(c.subarray(f,f+u),m);else for(var d=0;d<u;d++)l[m+d]=c[f+d]},flattenChunks:function(l){var c,f,u,m,d,b;for(c=u=0,f=l.length;c<f;c++)u+=l[c].length;for(b=new Uint8Array(u),c=m=0,f=l.length;c<f;c++)d=l[c],b.set(d,m),m+=d.length;return b}},r={arraySet:function(l,c,f,u,m){for(var d=0;d<u;d++)l[m+d]=c[f+d]},flattenChunks:function(l){return[].concat.apply([],l)}};o.setTyped=function(l){l?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,a)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,r))},o.setTyped(i)},{}],42:[function(t,s,o){var i=t("./common"),a=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var l=new i.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function f(u,m){if(m<65537&&(u.subarray&&r||!u.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(u,m));for(var d="",b=0;b<m;b++)d+=String.fromCharCode(u[b]);return d}l[254]=l[254]=1,o.string2buf=function(u){var m,d,b,p,y,g=u.length,w=0;for(p=0;p<g;p++)(64512&(d=u.charCodeAt(p)))==55296&&p+1<g&&(64512&(b=u.charCodeAt(p+1)))==56320&&(d=65536+(d-55296<<10)+(b-56320),p++),w+=d<128?1:d<2048?2:d<65536?3:4;for(m=new i.Buf8(w),p=y=0;y<w;p++)(64512&(d=u.charCodeAt(p)))==55296&&p+1<g&&(64512&(b=u.charCodeAt(p+1)))==56320&&(d=65536+(d-55296<<10)+(b-56320),p++),d<128?m[y++]=d:(d<2048?m[y++]=192|d>>>6:(d<65536?m[y++]=224|d>>>12:(m[y++]=240|d>>>18,m[y++]=128|d>>>12&63),m[y++]=128|d>>>6&63),m[y++]=128|63&d);return m},o.buf2binstring=function(u){return f(u,u.length)},o.binstring2buf=function(u){for(var m=new i.Buf8(u.length),d=0,b=m.length;d<b;d++)m[d]=u.charCodeAt(d);return m},o.buf2string=function(u,m){var d,b,p,y,g=m||u.length,w=new Array(2*g);for(d=b=0;d<g;)if((p=u[d++])<128)w[b++]=p;else if(4<(y=l[p]))w[b++]=65533,d+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&d<g;)p=p<<6|63&u[d++],y--;1<y?w[b++]=65533:p<65536?w[b++]=p:(p-=65536,w[b++]=55296|p>>10&1023,w[b++]=56320|1023&p)}return f(w,b)},o.utf8border=function(u,m){var d;for((m=m||u.length)>u.length&&(m=u.length),d=m-1;0<=d&&(192&u[d])==128;)d--;return d<0||d===0?m:d+l[u[d]]>m?d:m}},{"./common":41}],43:[function(t,s,o){s.exports=function(i,a,r,l){for(var c=65535&i|0,f=i>>>16&65535|0,u=0;r!==0;){for(r-=u=2e3<r?2e3:r;f=f+(c=c+a[l++]|0)|0,--u;);c%=65521,f%=65521}return c|f<<16|0}},{}],44:[function(t,s,o){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,s,o){var i=function(){for(var a,r=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;r[l]=a}return r}();s.exports=function(a,r,l,c){var f=i,u=c+l;a^=-1;for(var m=c;m<u;m++)a=a>>>8^f[255&(a^r[m])];return-1^a}},{}],46:[function(t,s,o){var i,a=t("../utils/common"),r=t("./trees"),l=t("./adler32"),c=t("./crc32"),f=t("./messages"),u=0,m=4,d=0,b=-2,p=-1,y=4,g=2,w=8,E=9,A=286,_=30,O=19,I=2*A+1,P=15,z=3,N=258,G=N+z+1,C=42,j=113,h=1,V=2,re=3,Z=4;function ue(v,X){return v.msg=f[X],X}function F(v){return(v<<1)-(4<v?9:0)}function J(v){for(var X=v.length;0<=--X;)v[X]=0}function B(v){var X=v.state,q=X.pending;q>v.avail_out&&(q=v.avail_out),q!==0&&(a.arraySet(v.output,X.pending_buf,X.pending_out,q,v.next_out),v.next_out+=q,X.pending_out+=q,v.total_out+=q,v.avail_out-=q,X.pending-=q,X.pending===0&&(X.pending_out=0))}function W(v,X){r._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,X),v.block_start=v.strstart,B(v.strm)}function pe(v,X){v.pending_buf[v.pending++]=X}function de(v,X){v.pending_buf[v.pending++]=X>>>8&255,v.pending_buf[v.pending++]=255&X}function oe(v,X){var q,R,k=v.max_chain_length,D=v.strstart,Q=v.prev_length,U=v.nice_match,T=v.strstart>v.w_size-G?v.strstart-(v.w_size-G):0,te=v.window,he=v.w_mask,ie=v.prev,be=v.strstart+N,$e=te[D+Q-1],Re=te[D+Q];v.prev_length>=v.good_match&&(k>>=2),U>v.lookahead&&(U=v.lookahead);do if(te[(q=X)+Q]===Re&&te[q+Q-1]===$e&&te[q]===te[D]&&te[++q]===te[D+1]){D+=2,q++;do;while(te[++D]===te[++q]&&te[++D]===te[++q]&&te[++D]===te[++q]&&te[++D]===te[++q]&&te[++D]===te[++q]&&te[++D]===te[++q]&&te[++D]===te[++q]&&te[++D]===te[++q]&&D<be);if(R=N-(be-D),D=be-N,Q<R){if(v.match_start=X,U<=(Q=R))break;$e=te[D+Q-1],Re=te[D+Q]}}while((X=ie[X&he])>T&&--k!=0);return Q<=v.lookahead?Q:v.lookahead}function Pe(v){var X,q,R,k,D,Q,U,T,te,he,ie=v.w_size;do{if(k=v.window_size-v.lookahead-v.strstart,v.strstart>=ie+(ie-G)){for(a.arraySet(v.window,v.window,ie,ie,0),v.match_start-=ie,v.strstart-=ie,v.block_start-=ie,X=q=v.hash_size;R=v.head[--X],v.head[X]=ie<=R?R-ie:0,--q;);for(X=q=ie;R=v.prev[--X],v.prev[X]=ie<=R?R-ie:0,--q;);k+=ie}if(v.strm.avail_in===0)break;if(Q=v.strm,U=v.window,T=v.strstart+v.lookahead,te=k,he=void 0,he=Q.avail_in,te<he&&(he=te),q=he===0?0:(Q.avail_in-=he,a.arraySet(U,Q.input,Q.next_in,he,T),Q.state.wrap===1?Q.adler=l(Q.adler,U,he,T):Q.state.wrap===2&&(Q.adler=c(Q.adler,U,he,T)),Q.next_in+=he,Q.total_in+=he,he),v.lookahead+=q,v.lookahead+v.insert>=z)for(D=v.strstart-v.insert,v.ins_h=v.window[D],v.ins_h=(v.ins_h<<v.hash_shift^v.window[D+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[D+z-1])&v.hash_mask,v.prev[D&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=D,D++,v.insert--,!(v.lookahead+v.insert<z)););}while(v.lookahead<G&&v.strm.avail_in!==0)}function ke(v,X){for(var q,R;;){if(v.lookahead<G){if(Pe(v),v.lookahead<G&&X===u)return h;if(v.lookahead===0)break}if(q=0,v.lookahead>=z&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+z-1])&v.hash_mask,q=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),q!==0&&v.strstart-q<=v.w_size-G&&(v.match_length=oe(v,q)),v.match_length>=z)if(R=r._tr_tally(v,v.strstart-v.match_start,v.match_length-z),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=z){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+z-1])&v.hash_mask,q=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else R=r._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(R&&(W(v,!1),v.strm.avail_out===0))return h}return v.insert=v.strstart<z-1?v.strstart:z-1,X===m?(W(v,!0),v.strm.avail_out===0?re:Z):v.last_lit&&(W(v,!1),v.strm.avail_out===0)?h:V}function _e(v,X){for(var q,R,k;;){if(v.lookahead<G){if(Pe(v),v.lookahead<G&&X===u)return h;if(v.lookahead===0)break}if(q=0,v.lookahead>=z&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+z-1])&v.hash_mask,q=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=z-1,q!==0&&v.prev_length<v.max_lazy_match&&v.strstart-q<=v.w_size-G&&(v.match_length=oe(v,q),v.match_length<=5&&(v.strategy===1||v.match_length===z&&4096<v.strstart-v.match_start)&&(v.match_length=z-1)),v.prev_length>=z&&v.match_length<=v.prev_length){for(k=v.strstart+v.lookahead-z,R=r._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-z),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=k&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+z-1])&v.hash_mask,q=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=z-1,v.strstart++,R&&(W(v,!1),v.strm.avail_out===0))return h}else if(v.match_available){if((R=r._tr_tally(v,0,v.window[v.strstart-1]))&&W(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return h}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(R=r._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<z-1?v.strstart:z-1,X===m?(W(v,!0),v.strm.avail_out===0?re:Z):v.last_lit&&(W(v,!1),v.strm.avail_out===0)?h:V}function we(v,X,q,R,k){this.good_length=v,this.max_lazy=X,this.nice_length=q,this.max_chain=R,this.func=k}function Te(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*I),this.dyn_dtree=new a.Buf16(2*(2*_+1)),this.bl_tree=new a.Buf16(2*(2*O+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*A+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*A+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Se(v){var X;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=g,(X=v.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?C:j,v.adler=X.wrap===2?0:1,X.last_flush=u,r._tr_init(X),d):ue(v,b)}function Ze(v){var X=Se(v);return X===d&&function(q){q.window_size=2*q.w_size,J(q.head),q.max_lazy_match=i[q.level].max_lazy,q.good_match=i[q.level].good_length,q.nice_match=i[q.level].nice_length,q.max_chain_length=i[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=z-1,q.match_available=0,q.ins_h=0}(v.state),X}function Ve(v,X,q,R,k,D){if(!v)return b;var Q=1;if(X===p&&(X=6),R<0?(Q=0,R=-R):15<R&&(Q=2,R-=16),k<1||E<k||q!==w||R<8||15<R||X<0||9<X||D<0||y<D)return ue(v,b);R===8&&(R=9);var U=new Te;return(v.state=U).strm=v,U.wrap=Q,U.gzhead=null,U.w_bits=R,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=k+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+z-1)/z),U.window=new a.Buf8(2*U.w_size),U.head=new a.Buf16(U.hash_size),U.prev=new a.Buf16(U.w_size),U.lit_bufsize=1<<k+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new a.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=X,U.strategy=D,U.method=q,Ze(v)}i=[new we(0,0,0,0,function(v,X){var q=65535;for(q>v.pending_buf_size-5&&(q=v.pending_buf_size-5);;){if(v.lookahead<=1){if(Pe(v),v.lookahead===0&&X===u)return h;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var R=v.block_start+q;if((v.strstart===0||v.strstart>=R)&&(v.lookahead=v.strstart-R,v.strstart=R,W(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-G&&(W(v,!1),v.strm.avail_out===0))return h}return v.insert=0,X===m?(W(v,!0),v.strm.avail_out===0?re:Z):(v.strstart>v.block_start&&(W(v,!1),v.strm.avail_out),h)}),new we(4,4,8,4,ke),new we(4,5,16,8,ke),new we(4,6,32,32,ke),new we(4,4,16,16,_e),new we(8,16,32,32,_e),new we(8,16,128,128,_e),new we(8,32,128,256,_e),new we(32,128,258,1024,_e),new we(32,258,258,4096,_e)],o.deflateInit=function(v,X){return Ve(v,X,w,15,8,0)},o.deflateInit2=Ve,o.deflateReset=Ze,o.deflateResetKeep=Se,o.deflateSetHeader=function(v,X){return v&&v.state?v.state.wrap!==2?b:(v.state.gzhead=X,d):b},o.deflate=function(v,X){var q,R,k,D;if(!v||!v.state||5<X||X<0)return v?ue(v,b):b;if(R=v.state,!v.output||!v.input&&v.avail_in!==0||R.status===666&&X!==m)return ue(v,v.avail_out===0?-5:b);if(R.strm=v,q=R.last_flush,R.last_flush=X,R.status===C)if(R.wrap===2)v.adler=0,pe(R,31),pe(R,139),pe(R,8),R.gzhead?(pe(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),pe(R,255&R.gzhead.time),pe(R,R.gzhead.time>>8&255),pe(R,R.gzhead.time>>16&255),pe(R,R.gzhead.time>>24&255),pe(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),pe(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(pe(R,255&R.gzhead.extra.length),pe(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(v.adler=c(v.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(pe(R,0),pe(R,0),pe(R,0),pe(R,0),pe(R,0),pe(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),pe(R,3),R.status=j);else{var Q=w+(R.w_bits-8<<4)<<8;Q|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(Q|=32),Q+=31-Q%31,R.status=j,de(R,Q),R.strstart!==0&&(de(R,v.adler>>>16),de(R,65535&v.adler)),v.adler=1}if(R.status===69)if(R.gzhead.extra){for(k=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>k&&(v.adler=c(v.adler,R.pending_buf,R.pending-k,k)),B(v),k=R.pending,R.pending!==R.pending_buf_size));)pe(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>k&&(v.adler=c(v.adler,R.pending_buf,R.pending-k,k)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){k=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>k&&(v.adler=c(v.adler,R.pending_buf,R.pending-k,k)),B(v),k=R.pending,R.pending===R.pending_buf_size)){D=1;break}D=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,pe(R,D)}while(D!==0);R.gzhead.hcrc&&R.pending>k&&(v.adler=c(v.adler,R.pending_buf,R.pending-k,k)),D===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){k=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>k&&(v.adler=c(v.adler,R.pending_buf,R.pending-k,k)),B(v),k=R.pending,R.pending===R.pending_buf_size)){D=1;break}D=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,pe(R,D)}while(D!==0);R.gzhead.hcrc&&R.pending>k&&(v.adler=c(v.adler,R.pending_buf,R.pending-k,k)),D===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&B(v),R.pending+2<=R.pending_buf_size&&(pe(R,255&v.adler),pe(R,v.adler>>8&255),v.adler=0,R.status=j)):R.status=j),R.pending!==0){if(B(v),v.avail_out===0)return R.last_flush=-1,d}else if(v.avail_in===0&&F(X)<=F(q)&&X!==m)return ue(v,-5);if(R.status===666&&v.avail_in!==0)return ue(v,-5);if(v.avail_in!==0||R.lookahead!==0||X!==u&&R.status!==666){var U=R.strategy===2?function(T,te){for(var he;;){if(T.lookahead===0&&(Pe(T),T.lookahead===0)){if(te===u)return h;break}if(T.match_length=0,he=r._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++,he&&(W(T,!1),T.strm.avail_out===0))return h}return T.insert=0,te===m?(W(T,!0),T.strm.avail_out===0?re:Z):T.last_lit&&(W(T,!1),T.strm.avail_out===0)?h:V}(R,X):R.strategy===3?function(T,te){for(var he,ie,be,$e,Re=T.window;;){if(T.lookahead<=N){if(Pe(T),T.lookahead<=N&&te===u)return h;if(T.lookahead===0)break}if(T.match_length=0,T.lookahead>=z&&0<T.strstart&&(ie=Re[be=T.strstart-1])===Re[++be]&&ie===Re[++be]&&ie===Re[++be]){$e=T.strstart+N;do;while(ie===Re[++be]&&ie===Re[++be]&&ie===Re[++be]&&ie===Re[++be]&&ie===Re[++be]&&ie===Re[++be]&&ie===Re[++be]&&ie===Re[++be]&&be<$e);T.match_length=N-($e-be),T.match_length>T.lookahead&&(T.match_length=T.lookahead)}if(T.match_length>=z?(he=r._tr_tally(T,1,T.match_length-z),T.lookahead-=T.match_length,T.strstart+=T.match_length,T.match_length=0):(he=r._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++),he&&(W(T,!1),T.strm.avail_out===0))return h}return T.insert=0,te===m?(W(T,!0),T.strm.avail_out===0?re:Z):T.last_lit&&(W(T,!1),T.strm.avail_out===0)?h:V}(R,X):i[R.level].func(R,X);if(U!==re&&U!==Z||(R.status=666),U===h||U===re)return v.avail_out===0&&(R.last_flush=-1),d;if(U===V&&(X===1?r._tr_align(R):X!==5&&(r._tr_stored_block(R,0,0,!1),X===3&&(J(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),B(v),v.avail_out===0))return R.last_flush=-1,d}return X!==m?d:R.wrap<=0?1:(R.wrap===2?(pe(R,255&v.adler),pe(R,v.adler>>8&255),pe(R,v.adler>>16&255),pe(R,v.adler>>24&255),pe(R,255&v.total_in),pe(R,v.total_in>>8&255),pe(R,v.total_in>>16&255),pe(R,v.total_in>>24&255)):(de(R,v.adler>>>16),de(R,65535&v.adler)),B(v),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?d:1)},o.deflateEnd=function(v){var X;return v&&v.state?(X=v.state.status)!==C&&X!==69&&X!==73&&X!==91&&X!==103&&X!==j&&X!==666?ue(v,b):(v.state=null,X===j?ue(v,-3):d):b},o.deflateSetDictionary=function(v,X){var q,R,k,D,Q,U,T,te,he=X.length;if(!v||!v.state||(D=(q=v.state).wrap)===2||D===1&&q.status!==C||q.lookahead)return b;for(D===1&&(v.adler=l(v.adler,X,he,0)),q.wrap=0,he>=q.w_size&&(D===0&&(J(q.head),q.strstart=0,q.block_start=0,q.insert=0),te=new a.Buf8(q.w_size),a.arraySet(te,X,he-q.w_size,q.w_size,0),X=te,he=q.w_size),Q=v.avail_in,U=v.next_in,T=v.input,v.avail_in=he,v.next_in=0,v.input=X,Pe(q);q.lookahead>=z;){for(R=q.strstart,k=q.lookahead-(z-1);q.ins_h=(q.ins_h<<q.hash_shift^q.window[R+z-1])&q.hash_mask,q.prev[R&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=R,R++,--k;);q.strstart=R,q.lookahead=z-1,Pe(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=z-1,q.match_available=0,v.next_in=U,v.input=T,v.avail_in=Q,q.wrap=D,d},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,s,o){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,s,o){s.exports=function(i,a){var r,l,c,f,u,m,d,b,p,y,g,w,E,A,_,O,I,P,z,N,G,C,j,h,V;r=i.state,l=i.next_in,h=i.input,c=l+(i.avail_in-5),f=i.next_out,V=i.output,u=f-(a-i.avail_out),m=f+(i.avail_out-257),d=r.dmax,b=r.wsize,p=r.whave,y=r.wnext,g=r.window,w=r.hold,E=r.bits,A=r.lencode,_=r.distcode,O=(1<<r.lenbits)-1,I=(1<<r.distbits)-1;e:do{E<15&&(w+=h[l++]<<E,E+=8,w+=h[l++]<<E,E+=8),P=A[w&O];t:for(;;){if(w>>>=z=P>>>24,E-=z,(z=P>>>16&255)===0)V[f++]=65535&P;else{if(!(16&z)){if((64&z)==0){P=A[(65535&P)+(w&(1<<z)-1)];continue t}if(32&z){r.mode=12;break e}i.msg="invalid literal/length code",r.mode=30;break e}N=65535&P,(z&=15)&&(E<z&&(w+=h[l++]<<E,E+=8),N+=w&(1<<z)-1,w>>>=z,E-=z),E<15&&(w+=h[l++]<<E,E+=8,w+=h[l++]<<E,E+=8),P=_[w&I];n:for(;;){if(w>>>=z=P>>>24,E-=z,!(16&(z=P>>>16&255))){if((64&z)==0){P=_[(65535&P)+(w&(1<<z)-1)];continue n}i.msg="invalid distance code",r.mode=30;break e}if(G=65535&P,E<(z&=15)&&(w+=h[l++]<<E,(E+=8)<z&&(w+=h[l++]<<E,E+=8)),d<(G+=w&(1<<z)-1)){i.msg="invalid distance too far back",r.mode=30;break e}if(w>>>=z,E-=z,(z=f-u)<G){if(p<(z=G-z)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break e}if(j=g,(C=0)===y){if(C+=b-z,z<N){for(N-=z;V[f++]=g[C++],--z;);C=f-G,j=V}}else if(y<z){if(C+=b+y-z,(z-=y)<N){for(N-=z;V[f++]=g[C++],--z;);if(C=0,y<N){for(N-=z=y;V[f++]=g[C++],--z;);C=f-G,j=V}}}else if(C+=y-z,z<N){for(N-=z;V[f++]=g[C++],--z;);C=f-G,j=V}for(;2<N;)V[f++]=j[C++],V[f++]=j[C++],V[f++]=j[C++],N-=3;N&&(V[f++]=j[C++],1<N&&(V[f++]=j[C++]))}else{for(C=f-G;V[f++]=V[C++],V[f++]=V[C++],V[f++]=V[C++],2<(N-=3););N&&(V[f++]=V[C++],1<N&&(V[f++]=V[C++]))}break}}break}}while(l<c&&f<m);l-=N=E>>3,w&=(1<<(E-=N<<3))-1,i.next_in=l,i.next_out=f,i.avail_in=l<c?c-l+5:5-(l-c),i.avail_out=f<m?m-f+257:257-(f-m),r.hold=w,r.bits=E}},{}],49:[function(t,s,o){var i=t("../utils/common"),a=t("./adler32"),r=t("./crc32"),l=t("./inffast"),c=t("./inftrees"),f=1,u=2,m=0,d=-2,b=1,p=852,y=592;function g(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(C){var j;return C&&C.state?(j=C.state,C.total_in=C.total_out=j.total=0,C.msg="",j.wrap&&(C.adler=1&j.wrap),j.mode=b,j.last=0,j.havedict=0,j.dmax=32768,j.head=null,j.hold=0,j.bits=0,j.lencode=j.lendyn=new i.Buf32(p),j.distcode=j.distdyn=new i.Buf32(y),j.sane=1,j.back=-1,m):d}function A(C){var j;return C&&C.state?((j=C.state).wsize=0,j.whave=0,j.wnext=0,E(C)):d}function _(C,j){var h,V;return C&&C.state?(V=C.state,j<0?(h=0,j=-j):(h=1+(j>>4),j<48&&(j&=15)),j&&(j<8||15<j)?d:(V.window!==null&&V.wbits!==j&&(V.window=null),V.wrap=h,V.wbits=j,A(C))):d}function O(C,j){var h,V;return C?(V=new w,(C.state=V).window=null,(h=_(C,j))!==m&&(C.state=null),h):d}var I,P,z=!0;function N(C){if(z){var j;for(I=new i.Buf32(512),P=new i.Buf32(32),j=0;j<144;)C.lens[j++]=8;for(;j<256;)C.lens[j++]=9;for(;j<280;)C.lens[j++]=7;for(;j<288;)C.lens[j++]=8;for(c(f,C.lens,0,288,I,0,C.work,{bits:9}),j=0;j<32;)C.lens[j++]=5;c(u,C.lens,0,32,P,0,C.work,{bits:5}),z=!1}C.lencode=I,C.lenbits=9,C.distcode=P,C.distbits=5}function G(C,j,h,V){var re,Z=C.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new i.Buf8(Z.wsize)),V>=Z.wsize?(i.arraySet(Z.window,j,h-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(V<(re=Z.wsize-Z.wnext)&&(re=V),i.arraySet(Z.window,j,h-V,re,Z.wnext),(V-=re)?(i.arraySet(Z.window,j,h-V,V,0),Z.wnext=V,Z.whave=Z.wsize):(Z.wnext+=re,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=re))),0}o.inflateReset=A,o.inflateReset2=_,o.inflateResetKeep=E,o.inflateInit=function(C){return O(C,15)},o.inflateInit2=O,o.inflate=function(C,j){var h,V,re,Z,ue,F,J,B,W,pe,de,oe,Pe,ke,_e,we,Te,Se,Ze,Ve,v,X,q,R,k=0,D=new i.Buf8(4),Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return d;(h=C.state).mode===12&&(h.mode=13),ue=C.next_out,re=C.output,J=C.avail_out,Z=C.next_in,V=C.input,F=C.avail_in,B=h.hold,W=h.bits,pe=F,de=J,X=m;e:for(;;)switch(h.mode){case b:if(h.wrap===0){h.mode=13;break}for(;W<16;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if(2&h.wrap&&B===35615){D[h.check=0]=255&B,D[1]=B>>>8&255,h.check=r(h.check,D,2,0),W=B=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&B)<<8)+(B>>8))%31){C.msg="incorrect header check",h.mode=30;break}if((15&B)!=8){C.msg="unknown compression method",h.mode=30;break}if(W-=4,v=8+(15&(B>>>=4)),h.wbits===0)h.wbits=v;else if(v>h.wbits){C.msg="invalid window size",h.mode=30;break}h.dmax=1<<v,C.adler=h.check=1,h.mode=512&B?10:12,W=B=0;break;case 2:for(;W<16;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if(h.flags=B,(255&h.flags)!=8){C.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){C.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=B>>8&1),512&h.flags&&(D[0]=255&B,D[1]=B>>>8&255,h.check=r(h.check,D,2,0)),W=B=0,h.mode=3;case 3:for(;W<32;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}h.head&&(h.head.time=B),512&h.flags&&(D[0]=255&B,D[1]=B>>>8&255,D[2]=B>>>16&255,D[3]=B>>>24&255,h.check=r(h.check,D,4,0)),W=B=0,h.mode=4;case 4:for(;W<16;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}h.head&&(h.head.xflags=255&B,h.head.os=B>>8),512&h.flags&&(D[0]=255&B,D[1]=B>>>8&255,h.check=r(h.check,D,2,0)),W=B=0,h.mode=5;case 5:if(1024&h.flags){for(;W<16;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}h.length=B,h.head&&(h.head.extra_len=B),512&h.flags&&(D[0]=255&B,D[1]=B>>>8&255,h.check=r(h.check,D,2,0)),W=B=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(F<(oe=h.length)&&(oe=F),oe&&(h.head&&(v=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),i.arraySet(h.head.extra,V,Z,oe,v)),512&h.flags&&(h.check=r(h.check,V,oe,Z)),F-=oe,Z+=oe,h.length-=oe),h.length))break e;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(F===0)break e;for(oe=0;v=V[Z+oe++],h.head&&v&&h.length<65536&&(h.head.name+=String.fromCharCode(v)),v&&oe<F;);if(512&h.flags&&(h.check=r(h.check,V,oe,Z)),F-=oe,Z+=oe,v)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(F===0)break e;for(oe=0;v=V[Z+oe++],h.head&&v&&h.length<65536&&(h.head.comment+=String.fromCharCode(v)),v&&oe<F;);if(512&h.flags&&(h.check=r(h.check,V,oe,Z)),F-=oe,Z+=oe,v)break e}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;W<16;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if(B!==(65535&h.check)){C.msg="header crc mismatch",h.mode=30;break}W=B=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),C.adler=h.check=0,h.mode=12;break;case 10:for(;W<32;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}C.adler=h.check=g(B),W=B=0,h.mode=11;case 11:if(h.havedict===0)return C.next_out=ue,C.avail_out=J,C.next_in=Z,C.avail_in=F,h.hold=B,h.bits=W,2;C.adler=h.check=1,h.mode=12;case 12:if(j===5||j===6)break e;case 13:if(h.last){B>>>=7&W,W-=7&W,h.mode=27;break}for(;W<3;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}switch(h.last=1&B,W-=1,3&(B>>>=1)){case 0:h.mode=14;break;case 1:if(N(h),h.mode=20,j!==6)break;B>>>=2,W-=2;break e;case 2:h.mode=17;break;case 3:C.msg="invalid block type",h.mode=30}B>>>=2,W-=2;break;case 14:for(B>>>=7&W,W-=7&W;W<32;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if((65535&B)!=(B>>>16^65535)){C.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&B,W=B=0,h.mode=15,j===6)break e;case 15:h.mode=16;case 16:if(oe=h.length){if(F<oe&&(oe=F),J<oe&&(oe=J),oe===0)break e;i.arraySet(re,V,Z,oe,ue),F-=oe,Z+=oe,J-=oe,ue+=oe,h.length-=oe;break}h.mode=12;break;case 17:for(;W<14;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if(h.nlen=257+(31&B),B>>>=5,W-=5,h.ndist=1+(31&B),B>>>=5,W-=5,h.ncode=4+(15&B),B>>>=4,W-=4,286<h.nlen||30<h.ndist){C.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;W<3;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}h.lens[Q[h.have++]]=7&B,B>>>=3,W-=3}for(;h.have<19;)h.lens[Q[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,q={bits:h.lenbits},X=c(0,h.lens,0,19,h.lencode,0,h.work,q),h.lenbits=q.bits,X){C.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;we=(k=h.lencode[B&(1<<h.lenbits)-1])>>>16&255,Te=65535&k,!((_e=k>>>24)<=W);){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if(Te<16)B>>>=_e,W-=_e,h.lens[h.have++]=Te;else{if(Te===16){for(R=_e+2;W<R;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if(B>>>=_e,W-=_e,h.have===0){C.msg="invalid bit length repeat",h.mode=30;break}v=h.lens[h.have-1],oe=3+(3&B),B>>>=2,W-=2}else if(Te===17){for(R=_e+3;W<R;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}W-=_e,v=0,oe=3+(7&(B>>>=_e)),B>>>=3,W-=3}else{for(R=_e+7;W<R;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}W-=_e,v=0,oe=11+(127&(B>>>=_e)),B>>>=7,W-=7}if(h.have+oe>h.nlen+h.ndist){C.msg="invalid bit length repeat",h.mode=30;break}for(;oe--;)h.lens[h.have++]=v}}if(h.mode===30)break;if(h.lens[256]===0){C.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,q={bits:h.lenbits},X=c(f,h.lens,0,h.nlen,h.lencode,0,h.work,q),h.lenbits=q.bits,X){C.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,q={bits:h.distbits},X=c(u,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,q),h.distbits=q.bits,X){C.msg="invalid distances set",h.mode=30;break}if(h.mode=20,j===6)break e;case 20:h.mode=21;case 21:if(6<=F&&258<=J){C.next_out=ue,C.avail_out=J,C.next_in=Z,C.avail_in=F,h.hold=B,h.bits=W,l(C,de),ue=C.next_out,re=C.output,J=C.avail_out,Z=C.next_in,V=C.input,F=C.avail_in,B=h.hold,W=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;we=(k=h.lencode[B&(1<<h.lenbits)-1])>>>16&255,Te=65535&k,!((_e=k>>>24)<=W);){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if(we&&(240&we)==0){for(Se=_e,Ze=we,Ve=Te;we=(k=h.lencode[Ve+((B&(1<<Se+Ze)-1)>>Se)])>>>16&255,Te=65535&k,!(Se+(_e=k>>>24)<=W);){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}B>>>=Se,W-=Se,h.back+=Se}if(B>>>=_e,W-=_e,h.back+=_e,h.length=Te,we===0){h.mode=26;break}if(32&we){h.back=-1,h.mode=12;break}if(64&we){C.msg="invalid literal/length code",h.mode=30;break}h.extra=15&we,h.mode=22;case 22:if(h.extra){for(R=h.extra;W<R;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}h.length+=B&(1<<h.extra)-1,B>>>=h.extra,W-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;we=(k=h.distcode[B&(1<<h.distbits)-1])>>>16&255,Te=65535&k,!((_e=k>>>24)<=W);){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if((240&we)==0){for(Se=_e,Ze=we,Ve=Te;we=(k=h.distcode[Ve+((B&(1<<Se+Ze)-1)>>Se)])>>>16&255,Te=65535&k,!(Se+(_e=k>>>24)<=W);){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}B>>>=Se,W-=Se,h.back+=Se}if(B>>>=_e,W-=_e,h.back+=_e,64&we){C.msg="invalid distance code",h.mode=30;break}h.offset=Te,h.extra=15&we,h.mode=24;case 24:if(h.extra){for(R=h.extra;W<R;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}h.offset+=B&(1<<h.extra)-1,B>>>=h.extra,W-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){C.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(J===0)break e;if(oe=de-J,h.offset>oe){if((oe=h.offset-oe)>h.whave&&h.sane){C.msg="invalid distance too far back",h.mode=30;break}Pe=oe>h.wnext?(oe-=h.wnext,h.wsize-oe):h.wnext-oe,oe>h.length&&(oe=h.length),ke=h.window}else ke=re,Pe=ue-h.offset,oe=h.length;for(J<oe&&(oe=J),J-=oe,h.length-=oe;re[ue++]=ke[Pe++],--oe;);h.length===0&&(h.mode=21);break;case 26:if(J===0)break e;re[ue++]=h.length,J--,h.mode=21;break;case 27:if(h.wrap){for(;W<32;){if(F===0)break e;F--,B|=V[Z++]<<W,W+=8}if(de-=J,C.total_out+=de,h.total+=de,de&&(C.adler=h.check=h.flags?r(h.check,re,de,ue-de):a(h.check,re,de,ue-de)),de=J,(h.flags?B:g(B))!==h.check){C.msg="incorrect data check",h.mode=30;break}W=B=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;W<32;){if(F===0)break e;F--,B+=V[Z++]<<W,W+=8}if(B!==(4294967295&h.total)){C.msg="incorrect length check",h.mode=30;break}W=B=0}h.mode=29;case 29:X=1;break e;case 30:X=-3;break e;case 31:return-4;case 32:default:return d}return C.next_out=ue,C.avail_out=J,C.next_in=Z,C.avail_in=F,h.hold=B,h.bits=W,(h.wsize||de!==C.avail_out&&h.mode<30&&(h.mode<27||j!==4))&&G(C,C.output,C.next_out,de-C.avail_out)?(h.mode=31,-4):(pe-=C.avail_in,de-=C.avail_out,C.total_in+=pe,C.total_out+=de,h.total+=de,h.wrap&&de&&(C.adler=h.check=h.flags?r(h.check,re,de,C.next_out-de):a(h.check,re,de,C.next_out-de)),C.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(pe==0&&de===0||j===4)&&X===m&&(X=-5),X)},o.inflateEnd=function(C){if(!C||!C.state)return d;var j=C.state;return j.window&&(j.window=null),C.state=null,m},o.inflateGetHeader=function(C,j){var h;return C&&C.state?(2&(h=C.state).wrap)==0?d:((h.head=j).done=!1,m):d},o.inflateSetDictionary=function(C,j){var h,V=j.length;return C&&C.state?(h=C.state).wrap!==0&&h.mode!==11?d:h.mode===11&&a(1,j,V,0)!==h.check?-3:G(C,j,V,V)?(h.mode=31,-4):(h.havedict=1,m):d},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,s,o){var i=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(f,u,m,d,b,p,y,g){var w,E,A,_,O,I,P,z,N,G=g.bits,C=0,j=0,h=0,V=0,re=0,Z=0,ue=0,F=0,J=0,B=0,W=null,pe=0,de=new i.Buf16(16),oe=new i.Buf16(16),Pe=null,ke=0;for(C=0;C<=15;C++)de[C]=0;for(j=0;j<d;j++)de[u[m+j]]++;for(re=G,V=15;1<=V&&de[V]===0;V--);if(V<re&&(re=V),V===0)return b[p++]=20971520,b[p++]=20971520,g.bits=1,0;for(h=1;h<V&&de[h]===0;h++);for(re<h&&(re=h),C=F=1;C<=15;C++)if(F<<=1,(F-=de[C])<0)return-1;if(0<F&&(f===0||V!==1))return-1;for(oe[1]=0,C=1;C<15;C++)oe[C+1]=oe[C]+de[C];for(j=0;j<d;j++)u[m+j]!==0&&(y[oe[u[m+j]]++]=j);if(I=f===0?(W=Pe=y,19):f===1?(W=a,pe-=257,Pe=r,ke-=257,256):(W=l,Pe=c,-1),C=h,O=p,ue=j=B=0,A=-1,_=(J=1<<(Z=re))-1,f===1&&852<J||f===2&&592<J)return 1;for(;;){for(P=C-ue,N=y[j]<I?(z=0,y[j]):y[j]>I?(z=Pe[ke+y[j]],W[pe+y[j]]):(z=96,0),w=1<<C-ue,h=E=1<<Z;b[O+(B>>ue)+(E-=w)]=P<<24|z<<16|N|0,E!==0;);for(w=1<<C-1;B&w;)w>>=1;if(w!==0?(B&=w-1,B+=w):B=0,j++,--de[C]==0){if(C===V)break;C=u[m+y[j]]}if(re<C&&(B&_)!==A){for(ue===0&&(ue=re),O+=h,F=1<<(Z=C-ue);Z+ue<V&&!((F-=de[Z+ue])<=0);)Z++,F<<=1;if(J+=1<<Z,f===1&&852<J||f===2&&592<J)return 1;b[A=B&_]=re<<24|Z<<16|O-p|0}}return B!==0&&(b[O+B]=C-ue<<24|64<<16|0),g.bits=re,0}},{"../utils/common":41}],51:[function(t,s,o){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,s,o){var i=t("../utils/common"),a=0,r=1;function l(k){for(var D=k.length;0<=--D;)k[D]=0}var c=0,f=29,u=256,m=u+1+f,d=30,b=19,p=2*m+1,y=15,g=16,w=7,E=256,A=16,_=17,O=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(m+2));l(G);var C=new Array(2*d);l(C);var j=new Array(512);l(j);var h=new Array(256);l(h);var V=new Array(f);l(V);var re,Z,ue,F=new Array(d);function J(k,D,Q,U,T){this.static_tree=k,this.extra_bits=D,this.extra_base=Q,this.elems=U,this.max_length=T,this.has_stree=k&&k.length}function B(k,D){this.dyn_tree=k,this.max_code=0,this.stat_desc=D}function W(k){return k<256?j[k]:j[256+(k>>>7)]}function pe(k,D){k.pending_buf[k.pending++]=255&D,k.pending_buf[k.pending++]=D>>>8&255}function de(k,D,Q){k.bi_valid>g-Q?(k.bi_buf|=D<<k.bi_valid&65535,pe(k,k.bi_buf),k.bi_buf=D>>g-k.bi_valid,k.bi_valid+=Q-g):(k.bi_buf|=D<<k.bi_valid&65535,k.bi_valid+=Q)}function oe(k,D,Q){de(k,Q[2*D],Q[2*D+1])}function Pe(k,D){for(var Q=0;Q|=1&k,k>>>=1,Q<<=1,0<--D;);return Q>>>1}function ke(k,D,Q){var U,T,te=new Array(y+1),he=0;for(U=1;U<=y;U++)te[U]=he=he+Q[U-1]<<1;for(T=0;T<=D;T++){var ie=k[2*T+1];ie!==0&&(k[2*T]=Pe(te[ie]++,ie))}}function _e(k){var D;for(D=0;D<m;D++)k.dyn_ltree[2*D]=0;for(D=0;D<d;D++)k.dyn_dtree[2*D]=0;for(D=0;D<b;D++)k.bl_tree[2*D]=0;k.dyn_ltree[2*E]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function we(k){8<k.bi_valid?pe(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Te(k,D,Q,U){var T=2*D,te=2*Q;return k[T]<k[te]||k[T]===k[te]&&U[D]<=U[Q]}function Se(k,D,Q){for(var U=k.heap[Q],T=Q<<1;T<=k.heap_len&&(T<k.heap_len&&Te(D,k.heap[T+1],k.heap[T],k.depth)&&T++,!Te(D,U,k.heap[T],k.depth));)k.heap[Q]=k.heap[T],Q=T,T<<=1;k.heap[Q]=U}function Ze(k,D,Q){var U,T,te,he,ie=0;if(k.last_lit!==0)for(;U=k.pending_buf[k.d_buf+2*ie]<<8|k.pending_buf[k.d_buf+2*ie+1],T=k.pending_buf[k.l_buf+ie],ie++,U===0?oe(k,T,D):(oe(k,(te=h[T])+u+1,D),(he=I[te])!==0&&de(k,T-=V[te],he),oe(k,te=W(--U),Q),(he=P[te])!==0&&de(k,U-=F[te],he)),ie<k.last_lit;);oe(k,E,D)}function Ve(k,D){var Q,U,T,te=D.dyn_tree,he=D.stat_desc.static_tree,ie=D.stat_desc.has_stree,be=D.stat_desc.elems,$e=-1;for(k.heap_len=0,k.heap_max=p,Q=0;Q<be;Q++)te[2*Q]!==0?(k.heap[++k.heap_len]=$e=Q,k.depth[Q]=0):te[2*Q+1]=0;for(;k.heap_len<2;)te[2*(T=k.heap[++k.heap_len]=$e<2?++$e:0)]=1,k.depth[T]=0,k.opt_len--,ie&&(k.static_len-=he[2*T+1]);for(D.max_code=$e,Q=k.heap_len>>1;1<=Q;Q--)Se(k,te,Q);for(T=be;Q=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Se(k,te,1),U=k.heap[1],k.heap[--k.heap_max]=Q,k.heap[--k.heap_max]=U,te[2*T]=te[2*Q]+te[2*U],k.depth[T]=(k.depth[Q]>=k.depth[U]?k.depth[Q]:k.depth[U])+1,te[2*Q+1]=te[2*U+1]=T,k.heap[1]=T++,Se(k,te,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(Re,Xe){var mt,nt,gt,Ue,ut,kt,at=Xe.dyn_tree,St=Xe.max_code,It=Xe.stat_desc.static_tree,bt=Xe.stat_desc.has_stree,Y=Xe.stat_desc.extra_bits,fe=Xe.stat_desc.extra_base,xe=Xe.stat_desc.max_length,Ne=0;for(Ue=0;Ue<=y;Ue++)Re.bl_count[Ue]=0;for(at[2*Re.heap[Re.heap_max]+1]=0,mt=Re.heap_max+1;mt<p;mt++)xe<(Ue=at[2*at[2*(nt=Re.heap[mt])+1]+1]+1)&&(Ue=xe,Ne++),at[2*nt+1]=Ue,St<nt||(Re.bl_count[Ue]++,ut=0,fe<=nt&&(ut=Y[nt-fe]),kt=at[2*nt],Re.opt_len+=kt*(Ue+ut),bt&&(Re.static_len+=kt*(It[2*nt+1]+ut)));if(Ne!==0){do{for(Ue=xe-1;Re.bl_count[Ue]===0;)Ue--;Re.bl_count[Ue]--,Re.bl_count[Ue+1]+=2,Re.bl_count[xe]--,Ne-=2}while(0<Ne);for(Ue=xe;Ue!==0;Ue--)for(nt=Re.bl_count[Ue];nt!==0;)St<(gt=Re.heap[--mt])||(at[2*gt+1]!==Ue&&(Re.opt_len+=(Ue-at[2*gt+1])*at[2*gt],at[2*gt+1]=Ue),nt--)}}(k,D),ke(te,$e,k.bl_count)}function v(k,D,Q){var U,T,te=-1,he=D[1],ie=0,be=7,$e=4;for(he===0&&(be=138,$e=3),D[2*(Q+1)+1]=65535,U=0;U<=Q;U++)T=he,he=D[2*(U+1)+1],++ie<be&&T===he||(ie<$e?k.bl_tree[2*T]+=ie:T!==0?(T!==te&&k.bl_tree[2*T]++,k.bl_tree[2*A]++):ie<=10?k.bl_tree[2*_]++:k.bl_tree[2*O]++,te=T,$e=(ie=0)===he?(be=138,3):T===he?(be=6,3):(be=7,4))}function X(k,D,Q){var U,T,te=-1,he=D[1],ie=0,be=7,$e=4;for(he===0&&(be=138,$e=3),U=0;U<=Q;U++)if(T=he,he=D[2*(U+1)+1],!(++ie<be&&T===he)){if(ie<$e)for(;oe(k,T,k.bl_tree),--ie!=0;);else T!==0?(T!==te&&(oe(k,T,k.bl_tree),ie--),oe(k,A,k.bl_tree),de(k,ie-3,2)):ie<=10?(oe(k,_,k.bl_tree),de(k,ie-3,3)):(oe(k,O,k.bl_tree),de(k,ie-11,7));te=T,$e=(ie=0)===he?(be=138,3):T===he?(be=6,3):(be=7,4)}}l(F);var q=!1;function R(k,D,Q,U){de(k,(c<<1)+(U?1:0),3),function(T,te,he,ie){we(T),ie&&(pe(T,he),pe(T,~he)),i.arraySet(T.pending_buf,T.window,te,he,T.pending),T.pending+=he}(k,D,Q,!0)}o._tr_init=function(k){q||(function(){var D,Q,U,T,te,he=new Array(y+1);for(T=U=0;T<f-1;T++)for(V[T]=U,D=0;D<1<<I[T];D++)h[U++]=T;for(h[U-1]=T,T=te=0;T<16;T++)for(F[T]=te,D=0;D<1<<P[T];D++)j[te++]=T;for(te>>=7;T<d;T++)for(F[T]=te<<7,D=0;D<1<<P[T]-7;D++)j[256+te++]=T;for(Q=0;Q<=y;Q++)he[Q]=0;for(D=0;D<=143;)G[2*D+1]=8,D++,he[8]++;for(;D<=255;)G[2*D+1]=9,D++,he[9]++;for(;D<=279;)G[2*D+1]=7,D++,he[7]++;for(;D<=287;)G[2*D+1]=8,D++,he[8]++;for(ke(G,m+1,he),D=0;D<d;D++)C[2*D+1]=5,C[2*D]=Pe(D,5);re=new J(G,I,u+1,m,y),Z=new J(C,P,0,d,y),ue=new J(new Array(0),z,0,b,w)}(),q=!0),k.l_desc=new B(k.dyn_ltree,re),k.d_desc=new B(k.dyn_dtree,Z),k.bl_desc=new B(k.bl_tree,ue),k.bi_buf=0,k.bi_valid=0,_e(k)},o._tr_stored_block=R,o._tr_flush_block=function(k,D,Q,U){var T,te,he=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(ie){var be,$e=4093624447;for(be=0;be<=31;be++,$e>>>=1)if(1&$e&&ie.dyn_ltree[2*be]!==0)return a;if(ie.dyn_ltree[18]!==0||ie.dyn_ltree[20]!==0||ie.dyn_ltree[26]!==0)return r;for(be=32;be<u;be++)if(ie.dyn_ltree[2*be]!==0)return r;return a}(k)),Ve(k,k.l_desc),Ve(k,k.d_desc),he=function(ie){var be;for(v(ie,ie.dyn_ltree,ie.l_desc.max_code),v(ie,ie.dyn_dtree,ie.d_desc.max_code),Ve(ie,ie.bl_desc),be=b-1;3<=be&&ie.bl_tree[2*N[be]+1]===0;be--);return ie.opt_len+=3*(be+1)+5+5+4,be}(k),T=k.opt_len+3+7>>>3,(te=k.static_len+3+7>>>3)<=T&&(T=te)):T=te=Q+5,Q+4<=T&&D!==-1?R(k,D,Q,U):k.strategy===4||te===T?(de(k,2+(U?1:0),3),Ze(k,G,C)):(de(k,4+(U?1:0),3),function(ie,be,$e,Re){var Xe;for(de(ie,be-257,5),de(ie,$e-1,5),de(ie,Re-4,4),Xe=0;Xe<Re;Xe++)de(ie,ie.bl_tree[2*N[Xe]+1],3);X(ie,ie.dyn_ltree,be-1),X(ie,ie.dyn_dtree,$e-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,he+1),Ze(k,k.dyn_ltree,k.dyn_dtree)),_e(k),U&&we(k)},o._tr_tally=function(k,D,Q){return k.pending_buf[k.d_buf+2*k.last_lit]=D>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&D,k.pending_buf[k.l_buf+k.last_lit]=255&Q,k.last_lit++,D===0?k.dyn_ltree[2*Q]++:(k.matches++,D--,k.dyn_ltree[2*(h[Q]+u+1)]++,k.dyn_dtree[2*W(D)]++),k.last_lit===k.lit_bufsize-1},o._tr_align=function(k){de(k,2,3),oe(k,E,G),function(D){D.bi_valid===16?(pe(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(t,s,o){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,s,o){(function(i){(function(a,r){if(!a.setImmediate){var l,c,f,u,m=1,d={},b=!1,p=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,l={}.toString.call(a.process)==="[object process]"?function(A){process.nextTick(function(){w(A)})}:function(){if(a.postMessage&&!a.importScripts){var A=!0,_=a.onmessage;return a.onmessage=function(){A=!1},a.postMessage("","*"),a.onmessage=_,A}}()?(u="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",E,!1):a.attachEvent("onmessage",E),function(A){a.postMessage(u+A,"*")}):a.MessageChannel?((f=new MessageChannel).port1.onmessage=function(A){w(A.data)},function(A){f.port2.postMessage(A)}):p&&"onreadystatechange"in p.createElement("script")?(c=p.documentElement,function(A){var _=p.createElement("script");_.onreadystatechange=function(){w(A),_.onreadystatechange=null,c.removeChild(_),_=null},c.appendChild(_)}):function(A){setTimeout(w,0,A)},y.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var _=new Array(arguments.length-1),O=0;O<_.length;O++)_[O]=arguments[O+1];var I={callback:A,args:_};return d[m]=I,l(m),m++},y.clearImmediate=g}function g(A){delete d[A]}function w(A){if(b)setTimeout(w,0,A);else{var _=d[A];if(_){b=!0;try{(function(O){var I=O.callback,P=O.args;switch(P.length){case 0:I();break;case 1:I(P[0]);break;case 2:I(P[0],P[1]);break;case 3:I(P[0],P[1],P[2]);break;default:I.apply(r,P)}})(_)}finally{g(A),b=!1}}}}function E(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(u)===0&&w(+A.data.slice(u.length))}})(typeof self=="undefined"?i===void 0?this:i:self)}).call(this,typeof pt!="undefined"?pt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(xa);var Tr=xa.exports,Ca={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,n){(function(t){e.exports=t()})(function(){return function t(s,o,i){function a(c,f){if(!o[c]){if(!s[c]){var u=typeof Dt=="function"&&Dt;if(!f&&u)return u(c,!0);if(r)return r(c,!0);var m=new Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m}var d=o[c]={exports:{}};s[c][0].call(d.exports,function(b){var p=s[c][1][b];return a(p||b)},d,d.exports,t,s,o,i)}return o[c].exports}for(var r=typeof Dt=="function"&&Dt,l=0;l<i.length;l++)a(i[l]);return a}({1:[function(t,s,o){(function(i){var a=i.MutationObserver||i.WebKitMutationObserver,r;if(a){var l=0,c=new a(b),f=i.document.createTextNode("");c.observe(f,{characterData:!0}),r=function(){f.data=l=++l%2}}else if(!i.setImmediate&&typeof i.MessageChannel!="undefined"){var u=new i.MessageChannel;u.port1.onmessage=b,r=function(){u.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?r=function(){var y=i.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},i.document.documentElement.appendChild(y)}:r=function(){setTimeout(b,0)};var m,d=[];function b(){m=!0;for(var y,g,w=d.length;w;){for(g=d,d=[],y=-1;++y<w;)g[y]();w=d.length}m=!1}s.exports=p;function p(y){d.push(y)===1&&!m&&r()}}).call(this,typeof pt!="undefined"?pt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(t,s,o){var i=t(1);function a(){}var r={},l=["REJECTED"],c=["FULFILLED"],f=["PENDING"];s.exports=u;function u(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==a&&p(this,_)}u.prototype.catch=function(_){return this.then(null,_)},u.prototype.then=function(_,O){if(typeof _!="function"&&this.state===c||typeof O!="function"&&this.state===l)return this;var I=new this.constructor(a);if(this.state!==f){var P=this.state===c?_:O;d(I,P,this.outcome)}else this.queue.push(new m(I,_,O));return I};function m(_,O,I){this.promise=_,typeof O=="function"&&(this.onFulfilled=O,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(_){r.resolve(this.promise,_)},m.prototype.otherCallFulfilled=function(_){d(this.promise,this.onFulfilled,_)},m.prototype.callRejected=function(_){r.reject(this.promise,_)},m.prototype.otherCallRejected=function(_){d(this.promise,this.onRejected,_)};function d(_,O,I){i(function(){var P;try{P=O(I)}catch(z){return r.reject(_,z)}P===_?r.reject(_,new TypeError("Cannot resolve promise with itself")):r.resolve(_,P)})}r.resolve=function(_,O){var I=y(b,O);if(I.status==="error")return r.reject(_,I.value);var P=I.value;if(P)p(_,P);else{_.state=c,_.outcome=O;for(var z=-1,N=_.queue.length;++z<N;)_.queue[z].callFulfilled(O)}return _},r.reject=function(_,O){_.state=l,_.outcome=O;for(var I=-1,P=_.queue.length;++I<P;)_.queue[I].callRejected(O);return _};function b(_){var O=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof O=="function")return function(){O.apply(_,arguments)}}function p(_,O){var I=!1;function P(C){I||(I=!0,r.reject(_,C))}function z(C){I||(I=!0,r.resolve(_,C))}function N(){O(z,P)}var G=y(N);G.status==="error"&&P(G.value)}function y(_,O){var I={};try{I.value=_(O),I.status="success"}catch(P){I.status="error",I.value=P}return I}u.resolve=g;function g(_){return _ instanceof this?_:r.resolve(new this(a),_)}u.reject=w;function w(_){var O=new this(a);return r.reject(O,_)}u.all=E;function E(_){var O=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,P=!1;if(!I)return this.resolve([]);for(var z=new Array(I),N=0,G=-1,C=new this(a);++G<I;)j(_[G],G);return C;function j(h,V){O.resolve(h).then(re,function(Z){P||(P=!0,r.reject(C,Z))});function re(Z){z[V]=Z,++N===I&&!P&&(P=!0,r.resolve(C,z))}}}u.race=A;function A(_){var O=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,P=!1;if(!I)return this.resolve([]);for(var z=-1,N=new this(a);++z<I;)G(_[z]);return N;function G(C){O.resolve(C).then(function(j){P||(P=!0,r.resolve(N,j))},function(j){P||(P=!0,r.reject(N,j))})}}},{1:1}],3:[function(t,s,o){(function(i){typeof i.Promise!="function"&&(i.Promise=t(2))}).call(this,typeof pt!="undefined"?pt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(t,s,o){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x};function a(x,$){if(!(x instanceof $))throw new TypeError("Cannot call a class as a function")}function r(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var l=r();function c(){try{if(!l||!l.open)return!1;var x=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),$=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!x||$)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function f(x,$){x=x||[],$=$||{};try{return new Blob(x,$)}catch(M){if(M.name!=="TypeError")throw M;for(var S=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,L=new S,K=0;K<x.length;K+=1)L.append(x[K]);return L.getBlob($.type)}}typeof Promise=="undefined"&&t(3);var u=Promise;function m(x,$){$&&x.then(function(S){$(null,S)},function(S){$(S)})}function d(x,$,S){typeof $=="function"&&x.then($),typeof S=="function"&&x.catch(S)}function b(x){return typeof x!="string"&&(console.warn(x+" used as a key, but it is not a string."),x=String(x)),x}function p(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var y="local-forage-detect-blob-support",g=void 0,w={},E=Object.prototype.toString,A="readonly",_="readwrite";function O(x){for(var $=x.length,S=new ArrayBuffer($),L=new Uint8Array(S),K=0;K<$;K++)L[K]=x.charCodeAt(K);return S}function I(x){return new u(function($){var S=x.transaction(y,_),L=f([""]);S.objectStore(y).put(L,"key"),S.onabort=function(K){K.preventDefault(),K.stopPropagation(),$(!1)},S.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),M=navigator.userAgent.match(/Edge\//);$(M||!K||parseInt(K[1],10)>=43)}}).catch(function(){return!1})}function P(x){return typeof g=="boolean"?u.resolve(g):I(x).then(function($){return g=$,g})}function z(x){var $=w[x.name],S={};S.promise=new u(function(L,K){S.resolve=L,S.reject=K}),$.deferredOperations.push(S),$.dbReady?$.dbReady=$.dbReady.then(function(){return S.promise}):$.dbReady=S.promise}function N(x){var $=w[x.name],S=$.deferredOperations.pop();if(S)return S.resolve(),S.promise}function G(x,$){var S=w[x.name],L=S.deferredOperations.pop();if(L)return L.reject($),L.promise}function C(x,$){return new u(function(S,L){if(w[x.name]=w[x.name]||W(),x.db)if($)z(x),x.db.close();else return S(x.db);var K=[x.name];$&&K.push(x.version);var M=l.open.apply(l,K);$&&(M.onupgradeneeded=function(ee){var ne=M.result;try{ne.createObjectStore(x.storeName),ee.oldVersion<=1&&ne.createObjectStore(y)}catch(ae){if(ae.name==="ConstraintError")console.warn('The database "'+x.name+'" has been upgraded from version '+ee.oldVersion+" to version "+ee.newVersion+', but the storage "'+x.storeName+'" already exists.');else throw ae}}),M.onerror=function(ee){ee.preventDefault(),L(M.error)},M.onsuccess=function(){var ee=M.result;ee.onversionchange=function(ne){ne.target.close()},S(ee),N(x)}})}function j(x){return C(x,!1)}function h(x){return C(x,!0)}function V(x,$){if(!x.db)return!0;var S=!x.db.objectStoreNames.contains(x.storeName),L=x.version<x.db.version,K=x.version>x.db.version;if(L&&(x.version!==$&&console.warn('The database "'+x.name+`" can't be downgraded from version `+x.db.version+" to version "+x.version+"."),x.version=x.db.version),K||S){if(S){var M=x.db.version+1;M>x.version&&(x.version=M)}return!0}return!1}function re(x){return new u(function($,S){var L=new FileReader;L.onerror=S,L.onloadend=function(K){var M=btoa(K.target.result||"");$({__local_forage_encoded_blob:!0,data:M,type:x.type})},L.readAsBinaryString(x)})}function Z(x){var $=O(atob(x.data));return f([$],{type:x.type})}function ue(x){return x&&x.__local_forage_encoded_blob}function F(x){var $=this,S=$._initReady().then(function(){var L=w[$._dbInfo.name];if(L&&L.dbReady)return L.dbReady});return d(S,x,x),S}function J(x){z(x);for(var $=w[x.name],S=$.forages,L=0;L<S.length;L++){var K=S[L];K._dbInfo.db&&(K._dbInfo.db.close(),K._dbInfo.db=null)}return x.db=null,j(x).then(function(M){return x.db=M,V(x)?h(x):M}).then(function(M){x.db=$.db=M;for(var ee=0;ee<S.length;ee++)S[ee]._dbInfo.db=M}).catch(function(M){throw G(x,M),M})}function B(x,$,S,L){L===void 0&&(L=1);try{var K=x.db.transaction(x.storeName,$);S(null,K)}catch(M){if(L>0&&(!x.db||M.name==="InvalidStateError"||M.name==="NotFoundError"))return u.resolve().then(function(){if(!x.db||M.name==="NotFoundError"&&!x.db.objectStoreNames.contains(x.storeName)&&x.version<=x.db.version)return x.db&&(x.version=x.db.version+1),h(x)}).then(function(){return J(x).then(function(){B(x,$,S,L-1)})}).catch(S);S(M)}}function W(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function pe(x){var $=this,S={db:null};if(x)for(var L in x)S[L]=x[L];var K=w[S.name];K||(K=W(),w[S.name]=K),K.forages.push($),$._initReady||($._initReady=$.ready,$.ready=F);var M=[];function ee(){return u.resolve()}for(var ne=0;ne<K.forages.length;ne++){var ae=K.forages[ne];ae!==$&&M.push(ae._initReady().catch(ee))}var se=K.forages.slice(0);return u.all(M).then(function(){return S.db=K.db,j(S)}).then(function(ce){return S.db=ce,V(S,$._defaultConfig.version)?h(S):ce}).then(function(ce){S.db=K.db=ce,$._dbInfo=S;for(var ge=0;ge<se.length;ge++){var Ie=se[ge];Ie!==$&&(Ie._dbInfo.db=S.db,Ie._dbInfo.version=S.version)}})}function de(x,$){var S=this;x=b(x);var L=new u(function(K,M){S.ready().then(function(){B(S._dbInfo,A,function(ee,ne){if(ee)return M(ee);try{var ae=ne.objectStore(S._dbInfo.storeName),se=ae.get(x);se.onsuccess=function(){var ce=se.result;ce===void 0&&(ce=null),ue(ce)&&(ce=Z(ce)),K(ce)},se.onerror=function(){M(se.error)}}catch(ce){M(ce)}})}).catch(M)});return m(L,$),L}function oe(x,$){var S=this,L=new u(function(K,M){S.ready().then(function(){B(S._dbInfo,A,function(ee,ne){if(ee)return M(ee);try{var ae=ne.objectStore(S._dbInfo.storeName),se=ae.openCursor(),ce=1;se.onsuccess=function(){var ge=se.result;if(ge){var Ie=ge.value;ue(Ie)&&(Ie=Z(Ie));var Be=x(Ie,ge.key,ce++);Be!==void 0?K(Be):ge.continue()}else K()},se.onerror=function(){M(se.error)}}catch(ge){M(ge)}})}).catch(M)});return m(L,$),L}function Pe(x,$,S){var L=this;x=b(x);var K=new u(function(M,ee){var ne;L.ready().then(function(){return ne=L._dbInfo,E.call($)==="[object Blob]"?P(ne.db).then(function(ae){return ae?$:re($)}):$}).then(function(ae){B(L._dbInfo,_,function(se,ce){if(se)return ee(se);try{var ge=ce.objectStore(L._dbInfo.storeName);ae===null&&(ae=void 0);var Ie=ge.put(ae,x);ce.oncomplete=function(){ae===void 0&&(ae=null),M(ae)},ce.onabort=ce.onerror=function(){var Be=Ie.error?Ie.error:Ie.transaction.error;ee(Be)}}catch(Be){ee(Be)}})}).catch(ee)});return m(K,S),K}function ke(x,$){var S=this;x=b(x);var L=new u(function(K,M){S.ready().then(function(){B(S._dbInfo,_,function(ee,ne){if(ee)return M(ee);try{var ae=ne.objectStore(S._dbInfo.storeName),se=ae.delete(x);ne.oncomplete=function(){K()},ne.onerror=function(){M(se.error)},ne.onabort=function(){var ce=se.error?se.error:se.transaction.error;M(ce)}}catch(ce){M(ce)}})}).catch(M)});return m(L,$),L}function _e(x){var $=this,S=new u(function(L,K){$.ready().then(function(){B($._dbInfo,_,function(M,ee){if(M)return K(M);try{var ne=ee.objectStore($._dbInfo.storeName),ae=ne.clear();ee.oncomplete=function(){L()},ee.onabort=ee.onerror=function(){var se=ae.error?ae.error:ae.transaction.error;K(se)}}catch(se){K(se)}})}).catch(K)});return m(S,x),S}function we(x){var $=this,S=new u(function(L,K){$.ready().then(function(){B($._dbInfo,A,function(M,ee){if(M)return K(M);try{var ne=ee.objectStore($._dbInfo.storeName),ae=ne.count();ae.onsuccess=function(){L(ae.result)},ae.onerror=function(){K(ae.error)}}catch(se){K(se)}})}).catch(K)});return m(S,x),S}function Te(x,$){var S=this,L=new u(function(K,M){if(x<0){K(null);return}S.ready().then(function(){B(S._dbInfo,A,function(ee,ne){if(ee)return M(ee);try{var ae=ne.objectStore(S._dbInfo.storeName),se=!1,ce=ae.openKeyCursor();ce.onsuccess=function(){var ge=ce.result;if(!ge){K(null);return}x===0||se?K(ge.key):(se=!0,ge.advance(x))},ce.onerror=function(){M(ce.error)}}catch(ge){M(ge)}})}).catch(M)});return m(L,$),L}function Se(x){var $=this,S=new u(function(L,K){$.ready().then(function(){B($._dbInfo,A,function(M,ee){if(M)return K(M);try{var ne=ee.objectStore($._dbInfo.storeName),ae=ne.openKeyCursor(),se=[];ae.onsuccess=function(){var ce=ae.result;if(!ce){L(se);return}se.push(ce.key),ce.continue()},ae.onerror=function(){K(ae.error)}}catch(ce){K(ce)}})}).catch(K)});return m(S,x),S}function Ze(x,$){$=p.apply(this,arguments);var S=this.config();x=typeof x!="function"&&x||{},x.name||(x.name=x.name||S.name,x.storeName=x.storeName||S.storeName);var L=this,K;if(!x.name)K=u.reject("Invalid arguments");else{var M=x.name===S.name&&L._dbInfo.db,ee=M?u.resolve(L._dbInfo.db):j(x).then(function(ne){var ae=w[x.name],se=ae.forages;ae.db=ne;for(var ce=0;ce<se.length;ce++)se[ce]._dbInfo.db=ne;return ne});x.storeName?K=ee.then(function(ne){if(!!ne.objectStoreNames.contains(x.storeName)){var ae=ne.version+1;z(x);var se=w[x.name],ce=se.forages;ne.close();for(var ge=0;ge<ce.length;ge++){var Ie=ce[ge];Ie._dbInfo.db=null,Ie._dbInfo.version=ae}var Be=new u(function(De,Ye){var qe=l.open(x.name,ae);qe.onerror=function(wt){var bn=qe.result;bn.close(),Ye(wt)},qe.onupgradeneeded=function(){var wt=qe.result;wt.deleteObjectStore(x.storeName)},qe.onsuccess=function(){var wt=qe.result;wt.close(),De(wt)}});return Be.then(function(De){se.db=De;for(var Ye=0;Ye<ce.length;Ye++){var qe=ce[Ye];qe._dbInfo.db=De,N(qe._dbInfo)}}).catch(function(De){throw(G(x,De)||u.resolve()).catch(function(){}),De})}}):K=ee.then(function(ne){z(x);var ae=w[x.name],se=ae.forages;ne.close();for(var ce=0;ce<se.length;ce++){var ge=se[ce];ge._dbInfo.db=null}var Ie=new u(function(Be,De){var Ye=l.deleteDatabase(x.name);Ye.onerror=function(){var qe=Ye.result;qe&&qe.close(),De(Ye.error)},Ye.onblocked=function(){console.warn('dropInstance blocked for database "'+x.name+'" until all open connections are closed')},Ye.onsuccess=function(){var qe=Ye.result;qe&&qe.close(),Be(qe)}});return Ie.then(function(Be){ae.db=Be;for(var De=0;De<se.length;De++){var Ye=se[De];N(Ye._dbInfo)}}).catch(function(Be){throw(G(x,Be)||u.resolve()).catch(function(){}),Be})})}return m(K,$),K}var Ve={_driver:"asyncStorage",_initStorage:pe,_support:c(),iterate:oe,getItem:de,setItem:Pe,removeItem:ke,clear:_e,length:we,key:Te,keys:Se,dropInstance:Ze};function v(){return typeof openDatabase=="function"}var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",q="~~local_forage_type~",R=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",D=k.length,Q="arbf",U="blob",T="si08",te="ui08",he="uic8",ie="si16",be="si32",$e="ur16",Re="ui32",Xe="fl32",mt="fl64",nt=D+Q.length,gt=Object.prototype.toString;function Ue(x){var $=x.length*.75,S=x.length,L,K=0,M,ee,ne,ae;x[x.length-1]==="="&&($--,x[x.length-2]==="="&&$--);var se=new ArrayBuffer($),ce=new Uint8Array(se);for(L=0;L<S;L+=4)M=X.indexOf(x[L]),ee=X.indexOf(x[L+1]),ne=X.indexOf(x[L+2]),ae=X.indexOf(x[L+3]),ce[K++]=M<<2|ee>>4,ce[K++]=(ee&15)<<4|ne>>2,ce[K++]=(ne&3)<<6|ae&63;return se}function ut(x){var $=new Uint8Array(x),S="",L;for(L=0;L<$.length;L+=3)S+=X[$[L]>>2],S+=X[($[L]&3)<<4|$[L+1]>>4],S+=X[($[L+1]&15)<<2|$[L+2]>>6],S+=X[$[L+2]&63];return $.length%3===2?S=S.substring(0,S.length-1)+"=":$.length%3===1&&(S=S.substring(0,S.length-2)+"=="),S}function kt(x,$){var S="";if(x&&(S=gt.call(x)),x&&(S==="[object ArrayBuffer]"||x.buffer&&gt.call(x.buffer)==="[object ArrayBuffer]")){var L,K=k;x instanceof ArrayBuffer?(L=x,K+=Q):(L=x.buffer,S==="[object Int8Array]"?K+=T:S==="[object Uint8Array]"?K+=te:S==="[object Uint8ClampedArray]"?K+=he:S==="[object Int16Array]"?K+=ie:S==="[object Uint16Array]"?K+=$e:S==="[object Int32Array]"?K+=be:S==="[object Uint32Array]"?K+=Re:S==="[object Float32Array]"?K+=Xe:S==="[object Float64Array]"?K+=mt:$(new Error("Failed to get type for BinaryArray"))),$(K+ut(L))}else if(S==="[object Blob]"){var M=new FileReader;M.onload=function(){var ee=q+x.type+"~"+ut(this.result);$(k+U+ee)},M.readAsArrayBuffer(x)}else try{$(JSON.stringify(x))}catch(ee){console.error("Couldn't convert value into a JSON string: ",x),$(null,ee)}}function at(x){if(x.substring(0,D)!==k)return JSON.parse(x);var $=x.substring(nt),S=x.substring(D,nt),L;if(S===U&&R.test($)){var K=$.match(R);L=K[1],$=$.substring(K[0].length)}var M=Ue($);switch(S){case Q:return M;case U:return f([M],{type:L});case T:return new Int8Array(M);case te:return new Uint8Array(M);case he:return new Uint8ClampedArray(M);case ie:return new Int16Array(M);case $e:return new Uint16Array(M);case be:return new Int32Array(M);case Re:return new Uint32Array(M);case Xe:return new Float32Array(M);case mt:return new Float64Array(M);default:throw new Error("Unkown type: "+S)}}var St={serialize:kt,deserialize:at,stringToBuffer:Ue,bufferToString:ut};function It(x,$,S,L){x.executeSql("CREATE TABLE IF NOT EXISTS "+$.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],S,L)}function bt(x){var $=this,S={db:null};if(x)for(var L in x)S[L]=typeof x[L]!="string"?x[L].toString():x[L];var K=new u(function(M,ee){try{S.db=openDatabase(S.name,String(S.version),S.description,S.size)}catch(ne){return ee(ne)}S.db.transaction(function(ne){It(ne,S,function(){$._dbInfo=S,M()},function(ae,se){ee(se)})},ee)});return S.serializer=St,K}function Y(x,$,S,L,K,M){x.executeSql(S,L,K,function(ee,ne){ne.code===ne.SYNTAX_ERR?ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[$.storeName],function(ae,se){se.rows.length?M(ae,ne):It(ae,$,function(){ae.executeSql(S,L,K,M)},M)},M):M(ee,ne)},M)}function fe(x,$){var S=this;x=b(x);var L=new u(function(K,M){S.ready().then(function(){var ee=S._dbInfo;ee.db.transaction(function(ne){Y(ne,ee,"SELECT * FROM "+ee.storeName+" WHERE key = ? LIMIT 1",[x],function(ae,se){var ce=se.rows.length?se.rows.item(0).value:null;ce&&(ce=ee.serializer.deserialize(ce)),K(ce)},function(ae,se){M(se)})})}).catch(M)});return m(L,$),L}function xe(x,$){var S=this,L=new u(function(K,M){S.ready().then(function(){var ee=S._dbInfo;ee.db.transaction(function(ne){Y(ne,ee,"SELECT * FROM "+ee.storeName,[],function(ae,se){for(var ce=se.rows,ge=ce.length,Ie=0;Ie<ge;Ie++){var Be=ce.item(Ie),De=Be.value;if(De&&(De=ee.serializer.deserialize(De)),De=x(De,Be.key,Ie+1),De!==void 0){K(De);return}}K()},function(ae,se){M(se)})})}).catch(M)});return m(L,$),L}function Ne(x,$,S,L){var K=this;x=b(x);var M=new u(function(ee,ne){K.ready().then(function(){$===void 0&&($=null);var ae=$,se=K._dbInfo;se.serializer.serialize($,function(ce,ge){ge?ne(ge):se.db.transaction(function(Ie){Y(Ie,se,"INSERT OR REPLACE INTO "+se.storeName+" (key, value) VALUES (?, ?)",[x,ce],function(){ee(ae)},function(Be,De){ne(De)})},function(Ie){if(Ie.code===Ie.QUOTA_ERR){if(L>0){ee(Ne.apply(K,[x,ae,S,L-1]));return}ne(Ie)}})})}).catch(ne)});return m(M,S),M}function Ee(x,$,S){return Ne.apply(this,[x,$,S,1])}function He(x,$){var S=this;x=b(x);var L=new u(function(K,M){S.ready().then(function(){var ee=S._dbInfo;ee.db.transaction(function(ne){Y(ne,ee,"DELETE FROM "+ee.storeName+" WHERE key = ?",[x],function(){K()},function(ae,se){M(se)})})}).catch(M)});return m(L,$),L}function Ae(x){var $=this,S=new u(function(L,K){$.ready().then(function(){var M=$._dbInfo;M.db.transaction(function(ee){Y(ee,M,"DELETE FROM "+M.storeName,[],function(){L()},function(ne,ae){K(ae)})})}).catch(K)});return m(S,x),S}function We(x){var $=this,S=new u(function(L,K){$.ready().then(function(){var M=$._dbInfo;M.db.transaction(function(ee){Y(ee,M,"SELECT COUNT(key) as c FROM "+M.storeName,[],function(ne,ae){var se=ae.rows.item(0).c;L(se)},function(ne,ae){K(ae)})})}).catch(K)});return m(S,x),S}function Oe(x,$){var S=this,L=new u(function(K,M){S.ready().then(function(){var ee=S._dbInfo;ee.db.transaction(function(ne){Y(ne,ee,"SELECT key FROM "+ee.storeName+" WHERE id = ? LIMIT 1",[x+1],function(ae,se){var ce=se.rows.length?se.rows.item(0).key:null;K(ce)},function(ae,se){M(se)})})}).catch(M)});return m(L,$),L}function yt(x){var $=this,S=new u(function(L,K){$.ready().then(function(){var M=$._dbInfo;M.db.transaction(function(ee){Y(ee,M,"SELECT key FROM "+M.storeName,[],function(ne,ae){for(var se=[],ce=0;ce<ae.rows.length;ce++)se.push(ae.rows.item(ce).key);L(se)},function(ne,ae){K(ae)})})}).catch(K)});return m(S,x),S}function ct(x){return new u(function($,S){x.transaction(function(L){L.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(K,M){for(var ee=[],ne=0;ne<M.rows.length;ne++)ee.push(M.rows.item(ne).name);$({db:x,storeNames:ee})},function(K,M){S(M)})},function(L){S(L)})})}function hn(x,$){$=p.apply(this,arguments);var S=this.config();x=typeof x!="function"&&x||{},x.name||(x.name=x.name||S.name,x.storeName=x.storeName||S.storeName);var L=this,K;return x.name?K=new u(function(M){var ee;x.name===S.name?ee=L._dbInfo.db:ee=openDatabase(x.name,"","",0),x.storeName?M({db:ee,storeNames:[x.storeName]}):M(ct(ee))}).then(function(M){return new u(function(ee,ne){M.db.transaction(function(ae){function se(Be){return new u(function(De,Ye){ae.executeSql("DROP TABLE IF EXISTS "+Be,[],function(){De()},function(qe,wt){Ye(wt)})})}for(var ce=[],ge=0,Ie=M.storeNames.length;ge<Ie;ge++)ce.push(se(M.storeNames[ge]));u.all(ce).then(function(){ee()}).catch(function(Be){ne(Be)})},function(ae){ne(ae)})})}):K=u.reject("Invalid arguments"),m(K,$),K}var pn={_driver:"webSQLStorage",_initStorage:bt,_support:v(),iterate:xe,getItem:fe,setItem:Ee,removeItem:He,clear:Ae,length:We,key:Oe,keys:yt,dropInstance:hn};function vn(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Yt(x,$){var S=x.name+"/";return x.storeName!==$.storeName&&(S+=x.storeName+"/"),S}function mn(){var x="_localforage_support_test";try{return localStorage.setItem(x,!0),localStorage.removeItem(x),!1}catch{return!0}}function Qn(){return!mn()||localStorage.length>0}function er(x){var $=this,S={};if(x)for(var L in x)S[L]=x[L];return S.keyPrefix=Yt(x,$._defaultConfig),Qn()?($._dbInfo=S,S.serializer=St,u.resolve()):u.reject()}function tr(x){var $=this,S=$.ready().then(function(){for(var L=$._dbInfo.keyPrefix,K=localStorage.length-1;K>=0;K--){var M=localStorage.key(K);M.indexOf(L)===0&&localStorage.removeItem(M)}});return m(S,x),S}function nr(x,$){var S=this;x=b(x);var L=S.ready().then(function(){var K=S._dbInfo,M=localStorage.getItem(K.keyPrefix+x);return M&&(M=K.serializer.deserialize(M)),M});return m(L,$),L}function rr(x,$){var S=this,L=S.ready().then(function(){for(var K=S._dbInfo,M=K.keyPrefix,ee=M.length,ne=localStorage.length,ae=1,se=0;se<ne;se++){var ce=localStorage.key(se);if(ce.indexOf(M)===0){var ge=localStorage.getItem(ce);if(ge&&(ge=K.serializer.deserialize(ge)),ge=x(ge,ce.substring(ee),ae++),ge!==void 0)return ge}}});return m(L,$),L}function or(x,$){var S=this,L=S.ready().then(function(){var K=S._dbInfo,M;try{M=localStorage.key(x)}catch{M=null}return M&&(M=M.substring(K.keyPrefix.length)),M});return m(L,$),L}function ir(x){var $=this,S=$.ready().then(function(){for(var L=$._dbInfo,K=localStorage.length,M=[],ee=0;ee<K;ee++){var ne=localStorage.key(ee);ne.indexOf(L.keyPrefix)===0&&M.push(ne.substring(L.keyPrefix.length))}return M});return m(S,x),S}function ar(x){var $=this,S=$.keys().then(function(L){return L.length});return m(S,x),S}function sr(x,$){var S=this;x=b(x);var L=S.ready().then(function(){var K=S._dbInfo;localStorage.removeItem(K.keyPrefix+x)});return m(L,$),L}function lr(x,$,S){var L=this;x=b(x);var K=L.ready().then(function(){$===void 0&&($=null);var M=$;return new u(function(ee,ne){var ae=L._dbInfo;ae.serializer.serialize($,function(se,ce){if(ce)ne(ce);else try{localStorage.setItem(ae.keyPrefix+x,se),ee(M)}catch(ge){(ge.name==="QuotaExceededError"||ge.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ne(ge),ne(ge)}})})});return m(K,S),K}function ur(x,$){if($=p.apply(this,arguments),x=typeof x!="function"&&x||{},!x.name){var S=this.config();x.name=x.name||S.name,x.storeName=x.storeName||S.storeName}var L=this,K;return x.name?K=new u(function(M){x.storeName?M(Yt(x,L._defaultConfig)):M(x.name+"/")}).then(function(M){for(var ee=localStorage.length-1;ee>=0;ee--){var ne=localStorage.key(ee);ne.indexOf(M)===0&&localStorage.removeItem(ne)}}):K=u.reject("Invalid arguments"),m(K,$),K}var ka={_driver:"localStorageWrapper",_initStorage:er,_support:vn(),iterate:rr,getItem:nr,setItem:lr,removeItem:sr,clear:tr,length:ar,key:or,keys:ir,dropInstance:ur},Sa=function($,S){return $===S||typeof $=="number"&&typeof S=="number"&&isNaN($)&&isNaN(S)},Ea=function($,S){for(var L=$.length,K=0;K<L;){if(Sa($[K],S))return!0;K++}return!1},mo=Array.isArray||function(x){return Object.prototype.toString.call(x)==="[object Array]"},gn={},go={},Xt={INDEXEDDB:Ve,WEBSQL:pn,LOCALSTORAGE:ka},Aa=[Xt.INDEXEDDB._driver,Xt.WEBSQL._driver,Xt.LOCALSTORAGE._driver],En=["dropInstance"],cr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(En),Ra={description:"",driver:Aa.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function za(x,$){x[$]=function(){var S=arguments;return x.ready().then(function(){return x[$].apply(x,S)})}}function dr(){for(var x=1;x<arguments.length;x++){var $=arguments[x];if($)for(var S in $)$.hasOwnProperty(S)&&(mo($[S])?arguments[0][S]=$[S].slice():arguments[0][S]=$[S])}return arguments[0]}var Ia=function(){function x($){a(this,x);for(var S in Xt)if(Xt.hasOwnProperty(S)){var L=Xt[S],K=L._driver;this[S]=K,gn[K]||this.defineDriver(L)}this._defaultConfig=dr({},Ra),this._config=dr({},this._defaultConfig,$),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return x.prototype.config=function(S){if((typeof S=="undefined"?"undefined":i(S))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var L in S){if(L==="storeName"&&(S[L]=S[L].replace(/\W/g,"_")),L==="version"&&typeof S[L]!="number")return new Error("Database version must be a number.");this._config[L]=S[L]}return"driver"in S&&S.driver?this.setDriver(this._config.driver):!0}else return typeof S=="string"?this._config[S]:this._config},x.prototype.defineDriver=function(S,L,K){var M=new u(function(ee,ne){try{var ae=S._driver,se=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!S._driver){ne(se);return}for(var ce=cr.concat("_initStorage"),ge=0,Ie=ce.length;ge<Ie;ge++){var Be=ce[ge],De=!Ea(En,Be);if((De||S[Be])&&typeof S[Be]!="function"){ne(se);return}}var Ye=function(){for(var bn=function(Ta){return function(){var $a=new Error("Method "+Ta+" is not implemented by the current driver"),bo=u.reject($a);return m(bo,arguments[arguments.length-1]),bo}},fr=0,Pa=En.length;fr<Pa;fr++){var hr=En[fr];S[hr]||(S[hr]=bn(hr))}};Ye();var qe=function(bn){gn[ae]&&console.info("Redefining LocalForage driver: "+ae),gn[ae]=S,go[ae]=bn,ee()};"_support"in S?S._support&&typeof S._support=="function"?S._support().then(qe,ne):qe(!!S._support):qe(!0)}catch(wt){ne(wt)}});return d(M,L,K),M},x.prototype.driver=function(){return this._driver||null},x.prototype.getDriver=function(S,L,K){var M=gn[S]?u.resolve(gn[S]):u.reject(new Error("Driver not found."));return d(M,L,K),M},x.prototype.getSerializer=function(S){var L=u.resolve(St);return d(L,S),L},x.prototype.ready=function(S){var L=this,K=L._driverSet.then(function(){return L._ready===null&&(L._ready=L._initDriver()),L._ready});return d(K,S,S),K},x.prototype.setDriver=function(S,L,K){var M=this;mo(S)||(S=[S]);var ee=this._getSupportedDrivers(S);function ne(){M._config.driver=M.driver()}function ae(ge){return M._extend(ge),ne(),M._ready=M._initStorage(M._config),M._ready}function se(ge){return function(){var Ie=0;function Be(){for(;Ie<ge.length;){var De=ge[Ie];return Ie++,M._dbInfo=null,M._ready=null,M.getDriver(De).then(ae).catch(Be)}ne();var Ye=new Error("No available storage method found.");return M._driverSet=u.reject(Ye),M._driverSet}return Be()}}var ce=this._driverSet!==null?this._driverSet.catch(function(){return u.resolve()}):u.resolve();return this._driverSet=ce.then(function(){var ge=ee[0];return M._dbInfo=null,M._ready=null,M.getDriver(ge).then(function(Ie){M._driver=Ie._driver,ne(),M._wrapLibraryMethodsWithReady(),M._initDriver=se(ee)})}).catch(function(){ne();var ge=new Error("No available storage method found.");return M._driverSet=u.reject(ge),M._driverSet}),d(this._driverSet,L,K),this._driverSet},x.prototype.supports=function(S){return!!go[S]},x.prototype._extend=function(S){dr(this,S)},x.prototype._getSupportedDrivers=function(S){for(var L=[],K=0,M=S.length;K<M;K++){var ee=S[K];this.supports(ee)&&L.push(ee)}return L},x.prototype._wrapLibraryMethodsWithReady=function(){for(var S=0,L=cr.length;S<L;S++)za(this,cr[S])},x.prototype.createInstance=function(S){return new x(S)},x}(),Oa=new Ia;s.exports=Oa},{3:3}]},{},[4])(4)})})(Ca);var po=Ca.exports;class pi{constructor(){Jt(this,"file","")}write(n){this.file+=n}}function Et(e,n,t,s){n[e]&&s.write(t)}class $r{constructor(){Jt(this,"tmp");Jt(this,"docLinks");this.tmp=po.createInstance({name:"file_cache"}),this.docLinks=new Map}stringMul(n,t){let s=n;for(let o=0;o<t-1;o++)s+=n;return s}convertele(n,t){var s,o,i;if(n.type=="textRun"){let a=n.textRun;if(a.style){let r=a.style;if(Et("link",r,"[",t),Et("codeInline",r,"`",t),Et("bold",r,"**",t),Et("italic",r,"*",t),t.write(a.text),Et("codeInline",r,"`",t),Et("bold",r,"**",t),Et("italic",r,"*",t),Et("link",r,"](",t),r.link){let l=decodeURIComponent(r.link.url);Et("link",r,l,t)}Et("link",r,")",t)}else t.write(a.text)}else if(n.type=="equation")t.write("$"),t.write(n.equation.equation),t.write("$");else if(n.type=="docsLink"){let a=new RegExp("https://\\w*.feishu.cn/((wiki)|(docs))/\\w+(?<id>#\\w+)"),r=n.docsLink.url;if(a.test(r)){let l=(i=(o=(s=a.exec(r))==null?void 0:s.groups)==null?void 0:o.id)!=null?i:"";t.write(`[${l}](${l})`)}}}async convertPara(n,t,s,o){let i=n.body.blocks;for(let a of i)if(a.type=="paragraph"){let r=a.paragraph,l=r.lineId,c=r.elements;if(r.style){const f=r.style;f.headingLevel?(t.write(this.stringMul("#",f.headingLevel)),t.write(" ")):l=null,f.list&&f.list.type==="checkbox"&&t.write("- [ ] "),f.list&&f.list.type==="bullet"&&t.write("- "),f.list&&f.list.type==="number"&&t.write(JSON.stringify(f.list.number)+". "),f.quote&&t.write("> ")}else l=null;for(let f of c){l&&t.write(`<span id="${l}">`);let u=new pi;this.convertele(f,u),t.write(u.file),l&&(this.docLinks.set(l,u.file),t.write("</span>"))}t.write(`

`)}else if(a.type=="code"){let r=a.code;t.write("```"),t.write(r.language),t.write(`
`),await this.convertPara(r,t,s,o),t.write("```\n\n")}else if(a.type=="gallery"){let r=a.gallery.imageList;for(let l of r){let c=l.fileToken,f=await this.downloadAsset(c,s,o);t.write(`![](assets/${f})

`)}}else a.type=="horizontalLine"?t.write(`
---

`):a.type=="callout"&&this.convertPara(a.callout,t,s,o)}async convert(n,t,s){let o=new pi;await this.convertPara(s,o,n,t);for(const i of this.docLinks){let[a,r]=i;o.file=If(o.file,`\\[#${a}\\]\\(#${a}\\)`,`[${r}](#${a})`)}return o}async downloadAsset(n,t,s){var a,r;let o=await this.tmp.getItem(n),i="";if(o){let l=o.mime;l=="image/png"?i=".png":(l=="image/jpeg"||l=="image/jpg")&&(i=".jpg"),(a=s.folder("assets"))==null||a.file(n+i,o.data)}else{let l=await lt.get(ht(`/drive/v1/medias/${n}/download`),{headers:{Authorization:"Bearer "+t},responseType:"arraybuffer"}),c=l.headers["content-type"];c=="image/png"?i=".png":(c=="image/jpeg"||c=="image/jpg")&&(i=".jpg");const f=new Uint8Array(l.data);(r=s.folder("assets"))==null||r.file(n+i,f),await this.tmp.setItem(n,{mime:c,data:f})}return n+i}}function If(e,n,t){var s=new RegExp(n,"g");return e.replace(s,t)}var sn={baseUrl:"https://service-ibnu7eg1-1258264812.sh.apigw.tencentcs.com/release/proxy",baseUrl_noauth:"https://service-ibnu7eg1-1258264812.sh.apigw.tencentcs.com/release/proxy_noauth"};function Nr(e,n){return e==null||e===""?n:e}function it(e){let n="";for(const t of e)if(t.text_run){let s=t.text_run.content,o=t.text_run.text_element_style;o.link&&(s=`[${s}](${decodeURIComponent(o.link.url)})`),o.bold&&(s="**"+s.trim()+"**"),o.italic&&(s="*"+s.trim()+"*"),o.inline_code&&(s="`"+s+"`"),n+=s}else if(t.equation)n+="$"+t.equation.content.trim()+"$";else if(t.mention_doc){const s=t.mention_doc;n+=`[${s.title}](${decodeURIComponent(s.url)})`}return n}async function Of(e,n,t,s,o,i){const a=await Vt(e,n,t,s,o,i);return await Promise.all(e.async_tasks||[]),a}async function Vt(e,n,t,s,o,i){var c,f;let a="",r=0;const l={output_raw:(c=e.output_raw)!=null?c:!1,async_tasks:(f=e.async_tasks)!=null?f:[]};e.async_tasks=l.async_tasks;for(const u of t){if(u.parent_id!=n)continue;r!=u.block_type&&(r!=0&&(a+=`
`),r=0);let m=`

`,d="";switch(i!=null&&i.parent_prefix&&(d=i.parent_prefix+d,m=`
`),i!=null&&i.nonewline&&(m=""),u.block_type){case je.page:{const b=u;d+="# "+it(b.page.elements)+`

`,d+=await Vt(l,b.block_id,t,s,o)}break;case je.text:{d+=it(u.text.elements)+m;break}case je.code:{const b=u,p=b.code.style.language<=gi.length?gi[b.code.style.language-1]:"";d+="```"+p+`
`+it(b.code.elements)+"\n```\n\n";break}case je.h1:{d+="# "+it(u.heading1.elements)+`

`;break}case je.h2:{d+="## "+it(u.heading2.elements)+`

`;break}case je.h3:{d+="### "+it(u.heading3.elements)+`

`;break}case je.h4:{d+="#### "+it(u.heading4.elements)+`

`;break}case je.h5:{d+="##### "+it(u.heading5.elements)+`

`;break}case je.h6:{d+="###### "+it(u.heading6.elements)+`

`;break}case je.h7:{d+="####### "+it(u.heading7.elements)+`

`;break}case je.h8:{d+="######## "+it(u.heading8.elements)+`

`;break}case je.h9:{d+="######### "+it(u.heading9.elements)+`

`;break}case je.todo:{r=je.todo;const b=u.todo;b.style.done?d+="- [x] "+it(b.elements)+`
`:d+="- [ ] "+it(b.elements)+`
`;break}case je.orderList:{r=je.orderList;const b=u.ordered;d+="1. "+it(b.elements)+`
`;break}case je.bullet:{r=je.bullet;const b=u.bullet;d+="* "+it(b.elements)+`
`;break}case je.quote:{r=je.quote,u.children,d+=await Vt(l,u.block_id,t,s,o,{parent_prefix:"> "})+`
`;break}case je.image:{d+=`![](assets/${await mi(l,u.image.token,o,s)})

`;break}case je.grid:{d+=await Vt(l,u.block_id,t,s,o);break}case je.grid_column:{d+=await Vt(l,u.block_id,t,s,o);break}case je.divider:{d+=`---

`;break}case je.view:{d+=await Vt(l,u.block_id,t,s,o);break}case je.file:{const b=u,p=b.file.name,y=b.file.token,g=await mi(l,y,o,s,p);d+=`[${p}](assets/${g})`;break}case je.table:{const b=u,p=b.table.property.column_size,y=b.table.property.row_size;b.children;const g=t.filter(w=>w.parent_id===b.block_id);for(let w=0;w<y;w++){d+="|";for(let E=0;E<p;E++){const A=w*y+E,_=g[A];_?d+=await Vt(l,_.block_id,t,s,o,{nonewline:!0})+" |":d+="  |"}if(d+=`
`,w===0){d+="|";for(let E=0;E<p;E++)d+="---|";d+=`
`}}break}}a+=d}return a}const vi=po.createInstance({name:"file_cache"});async function mi(e,n,t,s,o){var l,c;let i=await vi.getItem(n),a={value:""};function r(f){const u=f.split("/");u.length===2?a.value="."+u[1]:console.log(u)}if(i){let f=i.mime;r(f),(l=s.folder("assets"))==null||l.file(o?n+"_"+o:n+a.value,i.data)}else{let f=await lt.get(ht(`/drive/v1/medias/${n}/download`),{headers:{Authorization:"Bearer "+t},responseType:"arraybuffer"}),u=f.headers["content-type"];r(u);const m=new Uint8Array(f.data);(c=s.folder("assets"))==null||c.file(o?n+"_"+o:n+a.value,m),await vi.setItem(n,{mime:u,data:m})}return o?n+"_"+o:n+a.value}var je=(e=>(e[e.page=1]="page",e[e.text=2]="text",e[e.h1=3]="h1",e[e.h2=4]="h2",e[e.h3=5]="h3",e[e.h4=6]="h4",e[e.h5=7]="h5",e[e.h6=8]="h6",e[e.h7=9]="h7",e[e.h8=10]="h8",e[e.h9=11]="h9",e[e.bullet=12]="bullet",e[e.orderList=13]="orderList",e[e.code=14]="code",e[e.ref=15]="ref",e[e.equation=16]="equation",e[e.todo=17]="todo",e[e.bitable=18]="bitable",e[e.callout=19]="callout",e[e.chat_card=20]="chat_card",e[e.diagram=21]="diagram",e[e.divider=22]="divider",e[e.file=23]="file",e[e.grid=24]="grid",e[e.grid_column=25]="grid_column",e[e.iframe=26]="iframe",e[e.image=27]="image",e[e.widget=28]="widget",e[e.mindnote=29]="mindnote",e[e.sheet=30]="sheet",e[e.table=31]="table",e[e.tabel_cell=32]="tabel_cell",e[e.view=33]="view",e[e.quote=34]="quote",e[e.unsupport=999]="unsupport",e))(je||{});const gi=["PlainText","BAP","da","pache","pex","ssembly Language","ash","Sharp","++","C","COBOL","CSS","CoffeeScript","D","Dart","Delphi","Django","Dockerfile","Erlang","Fortran","FoxPro","Go","Groovy","HTML","HTMLBars","HTTP","Haskell","JSON","Java","JavaScript","Julia","Kotlin","LateX","Lisp","Logo","Lua","MATLAB","Makefile","Markdown","Nginx","Objective-C","OpenEdgeABL","PHP","Perl","PostScript","Power Shell","Prolog","ProtoBuf","Python","R","RPG","Ruby","Rust","SAS","SCSS","SQL","Scala","Scheme","Scratch","Shell","Swift","Thrift","TypeScript","VBScript","Visual Basic","XML","YAML"],vo={APIFallback:!1};function ht(e){var n;return vo.APIFallback?((n=sn.fall_back_baseUrl)!=null?n:sn.baseUrl)+e:sn.baseUrl+e}function Pf(e){var n;return vo.APIFallback?((n=sn.fall_back_baseUrl_noauth)!=null?n:sn.baseUrl_noauth)+e:sn.baseUrl_noauth+e}const bi=po.createInstance({name:"file_cache"});class Tf{constructor(n){Jt(this,"convert",!0);Jt(this,"downloadingCallback");this.downloadingCallback=n}async get_root_folder(n){return(await lt.get(ht("/drive/explorer/v2/root_folder/meta"),{headers:{Authorization:`Bearer ${n}`}})).data.data}async app_login(n,t){return(await lt.post(Pf("/auth/v3/tenant_access_token/internal/"),{app_id:n,app_secret:t})).data.tenant_access_token}async user_login(n,t){var o;let s=await lt.post(ht("/authen/v1/access_token"),{grant_type:"authorization_code",code:n},{headers:{Authorization:`Bearer ${t}`}});return(o=s.data)!=null&&o.code&&console.log(s.data),s.data.data}async get_folder_meta(n,t){return(await lt.get(ht(`/drive/explorer/v2/folder/${n}/meta`),{headers:{Authorization:`Bearer ${t}`}})).data.data}async get_files_in_folder(n,t){return(await lt.get(ht(`/drive/explorer/v2/folder/${n}/children`),{headers:{Authorization:`Bearer ${t}`}})).data.data}async get_doc(n,t){return(await lt.get(ht(`/doc/v2/${n}/content`),{headers:{Authorization:`Bearer ${t}`}})).data.data}async get_docx_next(n,t,s){const i=(await lt.get(ht(`/docx/v1/documents/${n}/blocks?page_token=${s}`),{headers:{Authorization:`Bearer ${t}`}})).data.data;let a=i.items;if(i.has_more){const r=i.page_token,l=await this.get_docx_next(n,t,r);a=[...a,...l]}return a}async get_docx(n,t){const o=(await lt.get(ht(`/docx/v1/documents/${n}/blocks`),{headers:{Authorization:`Bearer ${t}`}})).data.data;let i=o.items;if(o.has_more){const a=o.page_token,r=await this.get_docx_next(n,t,a);i=[...i,...r]}return i}async get_file(n,t,s,o){let i=await bi.getItem(n),a="";if(i){const l=i.mime.split("/");l.length===2?a="."+l[1]:console.log(l),s.file(o||n+a,i.data)}else await(async()=>{let l=await lt.get(ht(`/drive/v1/files/${n}/download`),{headers:{Authorization:"Bearer "+t},responseType:"arraybuffer"}),c=l.headers["content-type"];c=="image/png"?a=".png":(c=="image/jpeg"||c=="image/jpg")&&(a=".jpg");const f=new Uint8Array(l.data);return s.file(o||n+a,f),await bi.setItem(n,{mime:c,data:f}),l})();return o?n+"_"+o:n+a}async get_all_docs(n,t){const s=new Tr,o=new $r;this.convert=t;const i=await this.get_root_folder(n);return await this._r_docs_in_folder(i.token,n,s,o),await s.generateAsync({type:"blob"})}zipfileName(n,t,s){let o=Nr(n,"\u672A\u547D\u540D\u6587\u6863"),i=1,a="";for(;t.file(o+a+s);)a=String(i),i+=1;return o=o+a+s,o}async save_doc(n,t,s,o){await this._save_doc(n.token,n.name,t,s,o)}async save_docx(n,t,s){await this._save_docx(n.token,n.name,t,s)}async save_doc_wiki(n,t,s,o){await this._save_doc(n.obj_token,n.title,t,s,o)}async save_docx_wiki(n,t,s){await this._save_docx(n.obj_token,n.title,t,s)}async _save_doc(n,t,s,o,i){var f;const a=(await this.get_doc(n,s)).content;let r=JSON.parse(a),l=this.zipfileName(t,o,".json"),c=this.zipfileName(t,o,".md");o.file(l,JSON.stringify({node:r,type:"docx"}));try{o.file(c,(await i.convert(s,o,r)).file)}catch(u){console.log(u),o.file(c,JSON.stringify({error:u,msg:"convert error"}))}(f=this.downloadingCallback)==null||f.call(this,t)}async _save_docx(n,t,s,o){var l;const i=await this.get_docx(n,s);let a=this.zipfileName(t,o,".json"),r=this.zipfileName(t,o,".md");o.file(a,JSON.stringify({nodes:i,type:"docx"}));try{o.file(r,await Of({},"",i,o,s))}catch(c){o.file(r,JSON.stringify({error:c,msg:"convert error"})),console.error(c)}(l=this.downloadingCallback)==null||l.call(this,t)}async get_some_docs(n,t,s=!0){const o=new Tr,i=new $r;this.convert=s;for(const a of t){let r=JSON.parse(a),l=o;for(const c of r.path)l=l.folder(c);r.type==="doc"?await this.save_doc(r,n,l,i):r.type==="docx"?await this.save_docx(r,n,l):r.type==="folder"?await this._r_docs_in_folder(r.token,n,l,i):r.type==="file"&&await this.get_file(r.token,n,l,r.name)}return await o.generateAsync({type:"blob"})}async _r_docs_in_folder(n,t,s,o){const i=await this.get_files_in_folder(n,t);for(let a in i.children){const r=i.children[a],l={token:r.token,name:r.name,path:[""],type:r.type};if(r.type==="doc")await this.save_doc(l,t,s,o);else if(r.type==="folder"){const c=s.folder(r.name);await this._r_docs_in_folder(r.token,t,c,o)}else r.type==="docx"?await this.save_docx(l,t,s):r.type==="file"&&await this.get_file(r.token,t,s,r.name)}}async get_all_docs_under_folder(n,t,s){let o=[],i=JSON.parse(t);const a=await this.get_files_in_folder(i.token,n),r=[];for(let l in a.children){const c=a.children[l];if(c.type==="doc"||c.type==="docx"){let f={token:c.token,path:[...i.path],name:c.name,type:c.type};o.push({label:Nr(c.name,"\u672A\u547D\u540D\u6587\u6863"),value:JSON.stringify(f),isLeaf:!0,depth:s+1})}else if(c.type==="folder"){const f=async()=>{let u=(await this.get_folder_meta(c.token,n)).name,m={token:c.token,path:[...i.path,u],name:"",type:c.type};o.push({label:u,value:JSON.stringify(m),isLeaf:!1,depth:s+1})};r.push(f())}else if(c.type==="file"){let f={token:c.token,path:[...i.path],name:c.name,type:c.type};o.push({label:Nr(c.name,"\u672A\u547D\u540D\u6587\u4EF6"),value:JSON.stringify(f),isLeaf:!0,depth:s+1})}}return await Promise.all(r),o}async get_all_docs_list(n){let s={token:(await this.get_root_folder(n)).token,path:[],name:"",type:"root"};return await this.get_all_docs_under_folder(n,JSON.stringify(s),0)}async get_wiki_list(n,t){const o=(await lt.get(ht(`/wiki/v2/spaces?page_size=10${t?"&page_token="+t:""}`),{headers:{Authorization:`Bearer ${n}`}})).data.data;let i=o.items;return o.has_more&&(i=[...i,...await this.get_wiki_list(n,o.page_token)]),i}async get_wiki_nodes_root(n,t,s){const i=(await lt.get(ht(`/wiki/v2/spaces/${t}/nodes?page_size=50${s?"&page_token="+s:""}`),{headers:{Authorization:`Bearer ${n}`}})).data.data;let a=i.items;return i.has_more&&(a=[...a,...await this.get_wiki_nodes_root(n,t,i.page_token)]),a}async get_wiki_nodes(n,t,s,o){const a=(await lt.get(ht(`/wiki/v2/spaces/${t}/nodes?page_size=50&parent_node_token=${s}${o?"&page_token="+o:""}`),{headers:{Authorization:`Bearer ${n}`}})).data.data;let r=a.items;return a.has_more&&(r=[...r,...await this.get_wiki_nodes(n,t,a.page_token)]),r}async get_all_wiki_in_space(n,t,s){const o=new Tr,i=new $r;this.convert=s;const a=await this.get_wiki_nodes_root(n,t);return await this._r_get_all_wiki_in_space(n,t,a,o,i),await o.generateAsync({type:"blob"})}async _r_get_all_wiki_in_space(n,t,s,o,i){for(let a of s){if(a.has_child){let r=o.folder(a.title),l=await this.get_wiki_nodes(n,t,a.node_token);await this._r_get_all_wiki_in_space(n,t,l,r,i)}a.obj_type==="doc"?await this.save_doc_wiki(a,n,o,i):a.obj_type==="docx"?await this.save_docx_wiki(a,n,o):console.warn("Not Impl doc type: "+a.obj_type)}}}var Dn={exports:{}};(function(e,n){(function(t,s){s()})(pt,function(){function t(c,f){return typeof f=="undefined"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function s(c,f,u){var m=new XMLHttpRequest;m.open("GET",c),m.responseType="blob",m.onload=function(){l(m.response,f,u)},m.onerror=function(){console.error("could not download file")},m.send()}function o(c){var f=new XMLHttpRequest;f.open("HEAD",c,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function i(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(f)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof pt=="object"&&pt.global===pt?pt:void 0,r=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(c,f,u){var m=a.URL||a.webkitURL,d=document.createElement("a");f=f||c.name||"download",d.download=f,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?i(d):o(d.href)?s(c,f,u):i(d,d.target="_blank")):(d.href=m.createObjectURL(c),setTimeout(function(){m.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,f,u){if(f=f||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,u),f);else if(o(c))s(c,f,u);else{var m=document.createElement("a");m.href=c,m.target="_blank",setTimeout(function(){i(m)})}}:function(c,f,u,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof c=="string")return s(c,f,u);var d=c.type==="application/octet-stream",b=/constructor/i.test(a.HTMLElement)||a.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||d&&b||r)&&typeof FileReader!="undefined"){var y=new FileReader;y.onloadend=function(){var E=y.result;E=p?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=E:location=E,m=null},y.readAsDataURL(c)}else{var g=a.URL||a.webkitURL,w=g.createObjectURL(c);m?m.location=w:location.href=w,m=null,setTimeout(function(){g.revokeObjectURL(w)},4e4)}});a.saveAs=l.saveAs=l,e.exports=l})})(Dn);function $f(e,n){const t=window.localStorage.getItem(e),s=ve(t?JSON.parse(t):n);return{value:s,setValue:o=>{s.value=o,window.localStorage.setItem(e,JSON.stringify(o))}}}const Nf={class:"main-stage"},Mf=Nt("\u4E0B\u8F7D\u4E91\u7A7A\u95F4\u6587\u6863"),Ff=Nt("\u4E0B\u8F7D\u77E5\u8BC6\u5E93\u6587\u6863"),Bf={style:{padding:"10px"}},Df=Nt("\u4E0B\u8F7D\u6240\u6709\u6587\u4EF6"),Lf=Nt("\u4E0B\u8F7D\u9009\u4E2D\u6587\u4EF6"),Uf=Nt("\u4E0B\u8F7D"),jf=Nt("\u4E0B\u8F7D\u4E2D"),Hf={style:{overflow:"auto",maxHeight:"400px"}},Wf=Nt("\u5B8C\u6210"),qf=Le({__name:"backup",setup(e){let n=Cs(),{app_id:t,app_secret:s}=n.params,o=n.query.code;const i=md(),a=id(),r=ve("");!o&&n.query.access_token&&(r.value=n.query.access_token);const l=ve([]),c=new Tf(P=>{l.value.push(P)}),f=$f("convert_md",!0),u=ve(!1),m=ve("none"),d=ve(),b=ve(null);Pt(async()=>{if(o){let P=!0;const z=async()=>{t=t,s=s;const N=await c.app_login(t,s),G=(await c.user_login(o,N)).access_token;if(P){P=!1,r.value=G;let C=window.location;window.location.replace(`${C.origin}${C.pathname}#/backup/${t}/${s}?access_token=${r.value}`),console.log(r.value)}};setTimeout(async()=>{P&&(P=!1,vo.APIFallback=!0,P=!0,console.log("use fallback api"),await z(),console.log("use fallback api success"))},5e3),await z()}});const p=async()=>{_();try{m.value="docs",d.value=await c.get_all_docs_list(r.value)}catch(P){console.error(P),i.error("\u4E0B\u8F7D\u9519\u8BEF")}O()},y=async()=>{if(!b.value)return;_();let P=b.value;const z=await c.get_some_docs(r.value,P,!0);Dn.exports.saveAs(z,"feishu_docs_"+new Date().toDateString()+"_backup.zip"),O()},g=()=>{a.warning({title:"\u8B66\u544A",content:"\u4E0B\u8F7D\u6240\u6709\u6587\u4EF6\u53EF\u80FD\u8017\u65F6\u8F83\u957F\uFF0C\u63A8\u8350\u4EC5\u9009\u62E9\u6240\u9700\u6587\u4EF6\u4E0B\u8F7D\u3002\u662F\u5426\u7EE7\u7EED\u4E0B\u8F7D\u5168\u90E8\u6587\u4EF6\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u4E0D\u786E\u5B9A",onPositiveClick:async()=>{_();try{const P=await c.get_all_docs(r.value,f.value.value);Dn.exports.saveAs(P,"backup.zip")}catch(P){console.error(P),i.error("\u4E0B\u8F7D\u9519\u8BEF")}O()},onNegativeClick:()=>{}})},w=ve([]),E=async()=>{m.value="wiki";const P=await c.get_wiki_list(r.value);w.value=P},A=async(P,z)=>{_();try{const N=await c.get_all_wiki_in_space(r.value,P,!0);Dn.exports.saveAs(N,z+"_backup.zip")}catch(N){console.error(N),i.error("\u4E0B\u8F7D\u9519\u8BEF")}O()},_=()=>{l.value=[],u.value=!0},O=()=>{u.value=!1},I=async P=>{const z=await c.get_all_docs_under_folder(r.value,P.value,P.depth);P.children=z};return(P,z)=>(Ht(),Rn(on,null,[vr("div",Nf,[dt(ot(zn),{justify:"space-around"},{default:tt(()=>[dt(ot(Qt),{strong:"",secondary:"",round:"",type:"primary",onClick:p},{default:tt(()=>[Mf]),_:1}),dt(ot(Qt),{strong:"",secondary:"",round:"",type:"primary",onClick:E},{default:tt(()=>[Ff]),_:1})]),_:1}),vr("div",Bf,[m.value==="docs"?(Ht(),mr(ot(zn),{key:0,vertical:""},{default:tt(()=>[dt(ot(od),{value:b.value,"onUpdate:value":z[0]||(z[0]=N=>b.value=N),multiple:"","allow-checking-not-loaded":"",options:d.value,cascade:"","check-strategy":"child","show-path":!1,remote:"","on-load":I,placeholder:"\u9009\u62E9\u6587\u4EF6"},null,8,["value","options"]),dt(ot(zn),{justify:"space-around"},{default:tt(()=>[dt(ot(Qt),{strong:"",secondary:"",type:"warning",onClick:g},{default:tt(()=>[Df]),_:1}),dt(ot(Qt),{strong:"",secondary:"",type:"info",onClick:y},{default:tt(()=>[Lf]),_:1})]),_:1})]),_:1})):zo("v-if",!0),m.value==="wiki"?(Ht(),mr(ot(zn),{key:1,justify:"space-around"},{default:tt(()=>[dt(ot(pd),{bordered:""},{default:tt(()=>[(Ht(!0),Rn(on,null,Io(w.value,N=>(Ht(),mr(ot(vd),{key:N.space_id},{suffix:tt(()=>[dt(ot(Qt),{onClick:G=>A(N.space_id,N.name)},{default:tt(()=>[Uf]),_:2},1032,["onClick"])]),default:tt(()=>[dt(ot(yd),{title:N.name},{default:tt(()=>[Nt(Oo(N.description),1)]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1})]),_:1})):zo("v-if",!0)])]),dt(ot(Ss),{show:u.value,"onUpdate:show":z[1]||(z[1]=N=>u.value=N),"mask-closable":!1,title:"\u4E0B\u8F7D\u4E2D",onPositiveClick:O,size:"huge",style:{width:"400px",maxHeight:"600px"}},{default:tt(()=>[dt(ot(ks),null,{header:tt(()=>[jf]),footer:tt(()=>[dt(ot(Qt),{loading:u.value},{default:tt(()=>[Wf]),_:1},8,["loading"])]),default:tt(()=>[vr("div",Hf,[(Ht(!0),Rn(on,null,Io(l.value,N=>(Ht(),Rn("p",null,Oo(N),1))),256))])]),_:1})]),_:1},8,["show"])],64))}});export{qf as default};
