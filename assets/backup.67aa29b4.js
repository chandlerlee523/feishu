var mn=Object.defineProperty;var vn=(g,u,t)=>u in g?mn(g,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):g[u]=t;var at=(g,u,t)=>(vn(g,typeof u!="symbol"?u+"":u,t),t);import{h as Ve,d as _n,i as gn,j as yn,k as bn,l as wn,o as tt,m as gt,n as er,a as Te,u as Oe,p as yt,w as Ie,c as Tt,q as tr,s as kn,F as Ft,t as ot,v as xn,x as Sn,y as rr,z as En,A as Ke,B as An,C as nr,D as Cn}from"./vendor.8a2c24db.js";var We=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Xe(g){throw new Error('Could not dynamically require "'+g+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Lt={exports:{}},ir=function(u,t){return function(){for(var a=new Array(arguments.length),n=0;n<a.length;n++)a[n]=arguments[n];return u.apply(t,a)}},In=ir,rt=Object.prototype.toString;function Pt(g){return rt.call(g)==="[object Array]"}function Ut(g){return typeof g=="undefined"}function Rn(g){return g!==null&&!Ut(g)&&g.constructor!==null&&!Ut(g.constructor)&&typeof g.constructor.isBuffer=="function"&&g.constructor.isBuffer(g)}function On(g){return rt.call(g)==="[object ArrayBuffer]"}function zn(g){return typeof FormData!="undefined"&&g instanceof FormData}function Dn(g){var u;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?u=ArrayBuffer.isView(g):u=g&&g.buffer&&g.buffer instanceof ArrayBuffer,u}function Nn(g){return typeof g=="string"}function Bn(g){return typeof g=="number"}function ar(g){return g!==null&&typeof g=="object"}function bt(g){if(rt.call(g)!=="[object Object]")return!1;var u=Object.getPrototypeOf(g);return u===null||u===Object.prototype}function Tn(g){return rt.call(g)==="[object Date]"}function Fn(g){return rt.call(g)==="[object File]"}function Ln(g){return rt.call(g)==="[object Blob]"}function or(g){return rt.call(g)==="[object Function]"}function Pn(g){return ar(g)&&or(g.pipe)}function Un(g){return typeof URLSearchParams!="undefined"&&g instanceof URLSearchParams}function jn(g){return g.trim?g.trim():g.replace(/^\s+|\s+$/g,"")}function Mn(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function jt(g,u){if(!(g===null||typeof g=="undefined"))if(typeof g!="object"&&(g=[g]),Pt(g))for(var t=0,m=g.length;t<m;t++)u.call(null,g[t],t,g);else for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&u.call(null,g[a],a,g)}function Mt(){var g={};function u(a,n){bt(g[n])&&bt(a)?g[n]=Mt(g[n],a):bt(a)?g[n]=Mt({},a):Pt(a)?g[n]=a.slice():g[n]=a}for(var t=0,m=arguments.length;t<m;t++)jt(arguments[t],u);return g}function $n(g,u,t){return jt(u,function(a,n){t&&typeof a=="function"?g[n]=In(a,t):g[n]=a}),g}function Wn(g){return g.charCodeAt(0)===65279&&(g=g.slice(1)),g}var Fe={isArray:Pt,isArrayBuffer:On,isBuffer:Rn,isFormData:zn,isArrayBufferView:Dn,isString:Nn,isNumber:Bn,isObject:ar,isPlainObject:bt,isUndefined:Ut,isDate:Tn,isFile:Fn,isBlob:Ln,isFunction:or,isStream:Pn,isURLSearchParams:Un,isStandardBrowserEnv:Mn,forEach:jt,merge:Mt,extend:$n,trim:jn,stripBOM:Wn},st=Fe;function sr(g){return encodeURIComponent(g).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ur=function(u,t,m){if(!t)return u;var a;if(m)a=m(t);else if(st.isURLSearchParams(t))a=t.toString();else{var n=[];st.forEach(t,function(f,c){f===null||typeof f=="undefined"||(st.isArray(f)?c=c+"[]":f=[f],st.forEach(f,function(l){st.isDate(l)?l=l.toISOString():st.isObject(l)&&(l=JSON.stringify(l)),n.push(sr(c)+"="+sr(l))}))}),a=n.join("&")}if(a){var i=u.indexOf("#");i!==-1&&(u=u.slice(0,i)),u+=(u.indexOf("?")===-1?"?":"&")+a}return u},Zn=Fe;function wt(){this.handlers=[]}wt.prototype.use=function(u,t,m){return this.handlers.push({fulfilled:u,rejected:t,synchronous:m?m.synchronous:!1,runWhen:m?m.runWhen:null}),this.handlers.length-1};wt.prototype.eject=function(u){this.handlers[u]&&(this.handlers[u]=null)};wt.prototype.forEach=function(u){Zn.forEach(this.handlers,function(m){m!==null&&u(m)})};var Hn=wt,qn=Fe,Yn=function(u,t){qn.forEach(u,function(a,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(u[t]=a,delete u[n])})},fr=function(u,t,m,a,n){return u.config=t,m&&(u.code=m),u.request=a,u.response=n,u.isAxiosError=!0,u.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},u},Jn=fr,lr=function(u,t,m,a,n){var i=new Error(u);return Jn(i,t,m,a,n)},Gn=lr,Vn=function(u,t,m){var a=m.config.validateStatus;!m.status||!a||a(m.status)?u(m):t(Gn("Request failed with status code "+m.status,m.config,null,m.request,m))},kt=Fe,Kn=kt.isStandardBrowserEnv()?function(){return{write:function(t,m,a,n,i,e){var f=[];f.push(t+"="+encodeURIComponent(m)),kt.isNumber(a)&&f.push("expires="+new Date(a).toGMTString()),kt.isString(n)&&f.push("path="+n),kt.isString(i)&&f.push("domain="+i),e===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(t){var m=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return m?decodeURIComponent(m[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Xn=function(u){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(u)},Qn=function(u,t){return t?u.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):u},ei=Xn,ti=Qn,ri=function(u,t){return u&&!ei(t)?ti(u,t):t},$t=Fe,ni=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ii=function(u){var t={},m,a,n;return u&&$t.forEach(u.split(`
`),function(e){if(n=e.indexOf(":"),m=$t.trim(e.substr(0,n)).toLowerCase(),a=$t.trim(e.substr(n+1)),m){if(t[m]&&ni.indexOf(m)>=0)return;m==="set-cookie"?t[m]=(t[m]?t[m]:[]).concat([a]):t[m]=t[m]?t[m]+", "+a:a}}),t},cr=Fe,ai=cr.isStandardBrowserEnv()?function(){var u=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),m;function a(n){var i=n;return u&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return m=a(window.location.href),function(i){var e=cr.isString(i)?a(i):i;return e.protocol===m.protocol&&e.host===m.host}}():function(){return function(){return!0}}();function Wt(g){this.message=g}Wt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Wt.prototype.__CANCEL__=!0;var xt=Wt,St=Fe,oi=Vn,si=Kn,ui=ur,fi=ri,li=ii,ci=ai,Zt=lr,di=At,hi=xt,dr=function(u){return new Promise(function(m,a){var n=u.data,i=u.headers,e=u.responseType,f;function c(){u.cancelToken&&u.cancelToken.unsubscribe(f),u.signal&&u.signal.removeEventListener("abort",f)}St.isFormData(n)&&delete i["Content-Type"];var s=new XMLHttpRequest;if(u.auth){var l=u.auth.username||"",v=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"";i.Authorization="Basic "+btoa(l+":"+v)}var d=fi(u.baseURL,u.url);s.open(u.method.toUpperCase(),ui(d,u.params,u.paramsSerializer),!0),s.timeout=u.timeout;function k(){if(!!s){var h="getAllResponseHeaders"in s?li(s.getAllResponseHeaders()):null,_=!e||e==="text"||e==="json"?s.responseText:s.response,b={data:_,status:s.status,statusText:s.statusText,headers:h,config:u,request:s};oi(function(M){m(M),c()},function(M){a(M),c()},b),s=null}}if("onloadend"in s?s.onloadend=k:s.onreadystatechange=function(){!s||s.readyState!==4||s.status===0&&!(s.responseURL&&s.responseURL.indexOf("file:")===0)||setTimeout(k)},s.onabort=function(){!s||(a(Zt("Request aborted",u,"ECONNABORTED",s)),s=null)},s.onerror=function(){a(Zt("Network Error",u,null,s)),s=null},s.ontimeout=function(){var _=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",b=u.transitional||di.transitional;u.timeoutErrorMessage&&(_=u.timeoutErrorMessage),a(Zt(_,u,b.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},St.isStandardBrowserEnv()){var E=(u.withCredentials||ci(d))&&u.xsrfCookieName?si.read(u.xsrfCookieName):void 0;E&&(i[u.xsrfHeaderName]=E)}"setRequestHeader"in s&&St.forEach(i,function(_,b){typeof n=="undefined"&&b.toLowerCase()==="content-type"?delete i[b]:s.setRequestHeader(b,_)}),St.isUndefined(u.withCredentials)||(s.withCredentials=!!u.withCredentials),e&&e!=="json"&&(s.responseType=u.responseType),typeof u.onDownloadProgress=="function"&&s.addEventListener("progress",u.onDownloadProgress),typeof u.onUploadProgress=="function"&&s.upload&&s.upload.addEventListener("progress",u.onUploadProgress),(u.cancelToken||u.signal)&&(f=function(h){!s||(a(!h||h&&h.type?new hi("canceled"):h),s.abort(),s=null)},u.cancelToken&&u.cancelToken.subscribe(f),u.signal&&(u.signal.aborted?f():u.signal.addEventListener("abort",f))),n||(n=null),s.send(n)})},Re=Fe,hr=Yn,pi=fr,mi={"Content-Type":"application/x-www-form-urlencoded"};function pr(g,u){!Re.isUndefined(g)&&Re.isUndefined(g["Content-Type"])&&(g["Content-Type"]=u)}function vi(){var g;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(g=dr),g}function _i(g,u,t){if(Re.isString(g))try{return(u||JSON.parse)(g),Re.trim(g)}catch(m){if(m.name!=="SyntaxError")throw m}return(t||JSON.stringify)(g)}var Et={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:vi(),transformRequest:[function(u,t){return hr(t,"Accept"),hr(t,"Content-Type"),Re.isFormData(u)||Re.isArrayBuffer(u)||Re.isBuffer(u)||Re.isStream(u)||Re.isFile(u)||Re.isBlob(u)?u:Re.isArrayBufferView(u)?u.buffer:Re.isURLSearchParams(u)?(pr(t,"application/x-www-form-urlencoded;charset=utf-8"),u.toString()):Re.isObject(u)||t&&t["Content-Type"]==="application/json"?(pr(t,"application/json"),_i(u)):u}],transformResponse:[function(u){var t=this.transitional||Et.transitional,m=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,n=!m&&this.responseType==="json";if(n||a&&Re.isString(u)&&u.length)try{return JSON.parse(u)}catch(i){if(n)throw i.name==="SyntaxError"?pi(i,this,"E_JSON_PARSE"):i}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Re.forEach(["delete","get","head"],function(u){Et.headers[u]={}});Re.forEach(["post","put","patch"],function(u){Et.headers[u]=Re.merge(mi)});var At=Et,gi=Fe,yi=At,bi=function(u,t,m){var a=this||yi;return gi.forEach(m,function(i){u=i.call(a,u,t)}),u},mr=function(u){return!!(u&&u.__CANCEL__)},vr=Fe,Ht=bi,wi=mr,ki=At,xi=xt;function qt(g){if(g.cancelToken&&g.cancelToken.throwIfRequested(),g.signal&&g.signal.aborted)throw new xi("canceled")}var Si=function(u){qt(u),u.headers=u.headers||{},u.data=Ht.call(u,u.data,u.headers,u.transformRequest),u.headers=vr.merge(u.headers.common||{},u.headers[u.method]||{},u.headers),vr.forEach(["delete","get","head","post","put","patch","common"],function(a){delete u.headers[a]});var t=u.adapter||ki.adapter;return t(u).then(function(a){return qt(u),a.data=Ht.call(u,a.data,a.headers,u.transformResponse),a},function(a){return wi(a)||(qt(u),a&&a.response&&(a.response.data=Ht.call(u,a.response.data,a.response.headers,u.transformResponse))),Promise.reject(a)})},Le=Fe,_r=function(u,t){t=t||{};var m={};function a(s,l){return Le.isPlainObject(s)&&Le.isPlainObject(l)?Le.merge(s,l):Le.isPlainObject(l)?Le.merge({},l):Le.isArray(l)?l.slice():l}function n(s){if(Le.isUndefined(t[s])){if(!Le.isUndefined(u[s]))return a(void 0,u[s])}else return a(u[s],t[s])}function i(s){if(!Le.isUndefined(t[s]))return a(void 0,t[s])}function e(s){if(Le.isUndefined(t[s])){if(!Le.isUndefined(u[s]))return a(void 0,u[s])}else return a(void 0,t[s])}function f(s){if(s in t)return a(u[s],t[s]);if(s in u)return a(void 0,u[s])}var c={url:i,method:i,data:i,baseURL:e,transformRequest:e,transformResponse:e,paramsSerializer:e,timeout:e,timeoutMessage:e,withCredentials:e,adapter:e,responseType:e,xsrfCookieName:e,xsrfHeaderName:e,onUploadProgress:e,onDownloadProgress:e,decompress:e,maxContentLength:e,maxBodyLength:e,transport:e,httpAgent:e,httpsAgent:e,cancelToken:e,socketPath:e,responseEncoding:e,validateStatus:f};return Le.forEach(Object.keys(u).concat(Object.keys(t)),function(l){var v=c[l]||n,d=v(l);Le.isUndefined(d)&&v!==f||(m[l]=d)}),m},gr={version:"0.24.0"},Ei=gr.version,Yt={};["object","boolean","number","function","string","symbol"].forEach(function(g,u){Yt[g]=function(m){return typeof m===g||"a"+(u<1?"n ":" ")+g}});var yr={};Yt.transitional=function(u,t,m){function a(n,i){return"[Axios v"+Ei+"] Transitional option '"+n+"'"+i+(m?". "+m:"")}return function(n,i,e){if(u===!1)throw new Error(a(i," has been removed"+(t?" in "+t:"")));return t&&!yr[i]&&(yr[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),u?u(n,i,e):!0}};function Ai(g,u,t){if(typeof g!="object")throw new TypeError("options must be an object");for(var m=Object.keys(g),a=m.length;a-- >0;){var n=m[a],i=u[n];if(i){var e=g[n],f=e===void 0||i(e,n,g);if(f!==!0)throw new TypeError("option "+n+" must be "+f);continue}if(t!==!0)throw Error("Unknown option "+n)}}var Ci={assertOptions:Ai,validators:Yt},br=Fe,Ii=ur,wr=Hn,kr=Si,Ct=_r,xr=Ci,ut=xr.validators;function ht(g){this.defaults=g,this.interceptors={request:new wr,response:new wr}}ht.prototype.request=function(u){typeof u=="string"?(u=arguments[1]||{},u.url=arguments[0]):u=u||{},u=Ct(this.defaults,u),u.method?u.method=u.method.toLowerCase():this.defaults.method?u.method=this.defaults.method.toLowerCase():u.method="get";var t=u.transitional;t!==void 0&&xr.assertOptions(t,{silentJSONParsing:ut.transitional(ut.boolean),forcedJSONParsing:ut.transitional(ut.boolean),clarifyTimeoutError:ut.transitional(ut.boolean)},!1);var m=[],a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(u)===!1||(a=a&&v.synchronous,m.unshift(v.fulfilled,v.rejected))});var n=[];this.interceptors.response.forEach(function(v){n.push(v.fulfilled,v.rejected)});var i;if(!a){var e=[kr,void 0];for(Array.prototype.unshift.apply(e,m),e=e.concat(n),i=Promise.resolve(u);e.length;)i=i.then(e.shift(),e.shift());return i}for(var f=u;m.length;){var c=m.shift(),s=m.shift();try{f=c(f)}catch(l){s(l);break}}try{i=kr(f)}catch(l){return Promise.reject(l)}for(;n.length;)i=i.then(n.shift(),n.shift());return i};ht.prototype.getUri=function(u){return u=Ct(this.defaults,u),Ii(u.url,u.params,u.paramsSerializer).replace(/^\?/,"")};br.forEach(["delete","get","head","options"],function(u){ht.prototype[u]=function(t,m){return this.request(Ct(m||{},{method:u,url:t,data:(m||{}).data}))}});br.forEach(["post","put","patch"],function(u){ht.prototype[u]=function(t,m,a){return this.request(Ct(a||{},{method:u,url:t,data:m}))}});var Ri=ht,Oi=xt;function ft(g){if(typeof g!="function")throw new TypeError("executor must be a function.");var u;this.promise=new Promise(function(a){u=a});var t=this;this.promise.then(function(m){if(!!t._listeners){var a,n=t._listeners.length;for(a=0;a<n;a++)t._listeners[a](m);t._listeners=null}}),this.promise.then=function(m){var a,n=new Promise(function(i){t.subscribe(i),a=i}).then(m);return n.cancel=function(){t.unsubscribe(a)},n},g(function(a){t.reason||(t.reason=new Oi(a),u(t.reason))})}ft.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ft.prototype.subscribe=function(u){if(this.reason){u(this.reason);return}this._listeners?this._listeners.push(u):this._listeners=[u]};ft.prototype.unsubscribe=function(u){if(!!this._listeners){var t=this._listeners.indexOf(u);t!==-1&&this._listeners.splice(t,1)}};ft.source=function(){var u,t=new ft(function(a){u=a});return{token:t,cancel:u}};var zi=ft,Di=function(u){return function(m){return u.apply(null,m)}},Ni=function(u){return typeof u=="object"&&u.isAxiosError===!0},Sr=Fe,Bi=ir,It=Ri,Ti=_r,Fi=At;function Er(g){var u=new It(g),t=Bi(It.prototype.request,u);return Sr.extend(t,It.prototype,u),Sr.extend(t,u),t.create=function(a){return Er(Ti(g,a))},t}var He=Er(Fi);He.Axios=It;He.Cancel=xt;He.CancelToken=zi;He.isCancel=mr;He.VERSION=gr.version;He.all=function(u){return Promise.all(u)};He.spread=Di;He.isAxiosError=Ni;Lt.exports=He;Lt.exports.default=He;var Pe=Lt.exports,Ar={exports:{}};/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(g,u){(function(t){g.exports=t()})(function(){return function t(m,a,n){function i(c,s){if(!a[c]){if(!m[c]){var l=typeof Xe=="function"&&Xe;if(!s&&l)return l(c,!0);if(e)return e(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var d=a[c]={exports:{}};m[c][0].call(d.exports,function(k){var E=m[c][1][k];return i(E||k)},d,d.exports,t,m,a,n)}return a[c].exports}for(var e=typeof Xe=="function"&&Xe,f=0;f<n.length;f++)i(n[f]);return i}({1:[function(t,m,a){var n=t("./utils"),i=t("./support"),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(f){for(var c,s,l,v,d,k,E,h=[],_=0,b=f.length,I=b,M=n.getTypeOf(f)!=="string";_<f.length;)I=b-_,l=M?(c=f[_++],s=_<b?f[_++]:0,_<b?f[_++]:0):(c=f.charCodeAt(_++),s=_<b?f.charCodeAt(_++):0,_<b?f.charCodeAt(_++):0),v=c>>2,d=(3&c)<<4|s>>4,k=1<I?(15&s)<<2|l>>6:64,E=2<I?63&l:64,h.push(e.charAt(v)+e.charAt(d)+e.charAt(k)+e.charAt(E));return h.join("")},a.decode=function(f){var c,s,l,v,d,k,E=0,h=0,_="data:";if(f.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var b,I=3*(f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(f.charAt(f.length-1)===e.charAt(64)&&I--,f.charAt(f.length-2)===e.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=i.uint8array?new Uint8Array(0|I):new Array(0|I);E<f.length;)c=e.indexOf(f.charAt(E++))<<2|(v=e.indexOf(f.charAt(E++)))>>4,s=(15&v)<<4|(d=e.indexOf(f.charAt(E++)))>>2,l=(3&d)<<6|(k=e.indexOf(f.charAt(E++))),b[h++]=c,d!==64&&(b[h++]=s),k!==64&&(b[h++]=l);return b}},{"./support":30,"./utils":32}],2:[function(t,m,a){var n=t("./external"),i=t("./stream/DataWorker"),e=t("./stream/Crc32Probe"),f=t("./stream/DataLengthProbe");function c(s,l,v,d,k){this.compressedSize=s,this.uncompressedSize=l,this.crc32=v,this.compression=d,this.compressedContent=k}c.prototype={getContentWorker:function(){var s=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),l=this;return s.on("end",function(){if(this.streamInfo.data_length!==l.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),s},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(s,l,v){return s.pipe(new e).pipe(new f("uncompressedSize")).pipe(l.compressWorker(v)).pipe(new f("compressedSize")).withStreamInfo("compression",l)},m.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,m,a){var n=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(i){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,m,a){var n=t("./utils"),i=function(){for(var e,f=[],c=0;c<256;c++){e=c;for(var s=0;s<8;s++)e=1&e?3988292384^e>>>1:e>>>1;f[c]=e}return f}();m.exports=function(e,f){return e!==void 0&&e.length?n.getTypeOf(e)!=="string"?function(c,s,l,v){var d=i,k=v+l;c^=-1;for(var E=v;E<k;E++)c=c>>>8^d[255&(c^s[E])];return-1^c}(0|f,e,e.length,0):function(c,s,l,v){var d=i,k=v+l;c^=-1;for(var E=v;E<k;E++)c=c>>>8^d[255&(c^s.charCodeAt(E))];return-1^c}(0|f,e,e.length,0):0}},{"./utils":32}],5:[function(t,m,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,m,a){var n=null;n=typeof Promise!="undefined"?Promise:t("lie"),m.exports={Promise:n}},{lie:37}],7:[function(t,m,a){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",i=t("pako"),e=t("./utils"),f=t("./stream/GenericWorker"),c=n?"uint8array":"array";function s(l,v){f.call(this,"FlateWorker/"+l),this._pako=null,this._pakoAction=l,this._pakoOptions=v,this.meta={}}a.magic="\b\0",e.inherits(s,f),s.prototype.processChunk=function(l){this.meta=l.meta,this._pako===null&&this._createPako(),this._pako.push(e.transformTo(c,l.data),!1)},s.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},s.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},s.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var l=this;this._pako.onData=function(v){l.push({data:v,meta:l.meta})}},a.compressWorker=function(l){return new s("Deflate",l)},a.uncompressWorker=function(){return new s("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,m,a){function n(d,k){var E,h="";for(E=0;E<k;E++)h+=String.fromCharCode(255&d),d>>>=8;return h}function i(d,k,E,h,_,b){var I,M,S=d.file,P=d.compression,T=b!==c.utf8encode,j=e.transformTo("string",b(S.name)),N=e.transformTo("string",c.utf8encode(S.name)),H=S.comment,oe=e.transformTo("string",b(H)),A=e.transformTo("string",c.utf8encode(H)),$=N.length!==S.name.length,o=A.length!==H.length,q="",ce="",G="",de=S.dir,K=S.date,le={crc32:0,compressedSize:0,uncompressedSize:0};k&&!E||(le.crc32=d.crc32,le.compressedSize=d.compressedSize,le.uncompressedSize=d.uncompressedSize);var L=0;k&&(L|=8),T||!$&&!o||(L|=2048);var F=0,fe=0;de&&(F|=16),_==="UNIX"?(fe=798,F|=function(ne,we){var Ce=ne;return ne||(Ce=we?16893:33204),(65535&Ce)<<16}(S.unixPermissions,de)):(fe=20,F|=function(ne){return 63&(ne||0)}(S.dosPermissions)),I=K.getUTCHours(),I<<=6,I|=K.getUTCMinutes(),I<<=5,I|=K.getUTCSeconds()/2,M=K.getUTCFullYear()-1980,M<<=4,M|=K.getUTCMonth()+1,M<<=5,M|=K.getUTCDate(),$&&(ce=n(1,1)+n(s(j),4)+N,q+="up"+n(ce.length,2)+ce),o&&(G=n(1,1)+n(s(oe),4)+A,q+="uc"+n(G.length,2)+G);var ae="";return ae+=`
\0`,ae+=n(L,2),ae+=P.magic,ae+=n(I,2),ae+=n(M,2),ae+=n(le.crc32,4),ae+=n(le.compressedSize,4),ae+=n(le.uncompressedSize,4),ae+=n(j.length,2),ae+=n(q.length,2),{fileRecord:l.LOCAL_FILE_HEADER+ae+j+q,dirRecord:l.CENTRAL_FILE_HEADER+n(fe,2)+ae+n(oe.length,2)+"\0\0\0\0"+n(F,4)+n(h,4)+j+q+oe}}var e=t("../utils"),f=t("../stream/GenericWorker"),c=t("../utf8"),s=t("../crc32"),l=t("../signature");function v(d,k,E,h){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=E,this.encodeFileName=h,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}e.inherits(v,f),v.prototype.push=function(d){var k=d.meta.percent||0,E=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,f.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:E?(k+100*(E-h-1))/E:100}}))},v.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var k=this.streamFiles&&!d.file.dir;if(k){var E=i(d,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:E.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(d){this.accumulate=!1;var k=this.streamFiles&&!d.file.dir,E=i(d,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(E.dirRecord),k)this.push({data:function(h){return l.DATA_DESCRIPTOR+n(h.crc32,4)+n(h.compressedSize,4)+n(h.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:E.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var d=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var E=this.bytesWritten-d,h=function(_,b,I,M,S){var P=e.transformTo("string",S(M));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(_,2)+n(_,2)+n(b,4)+n(I,4)+n(P.length,2)+P}(this.dirRecords.length,E,d,this.zipComment,this.encodeFileName);this.push({data:h,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(d){this._sources.push(d);var k=this;return d.on("data",function(E){k.processChunk(E)}),d.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),d.on("error",function(E){k.error(E)}),this},v.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(d){var k=this._sources;if(!f.prototype.error.call(this,d))return!1;for(var E=0;E<k.length;E++)try{k[E].error(d)}catch{}return!0},v.prototype.lock=function(){f.prototype.lock.call(this);for(var d=this._sources,k=0;k<d.length;k++)d[k].lock()},m.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,m,a){var n=t("../compressions"),i=t("./ZipFileWorker");a.generateWorker=function(e,f,c){var s=new i(f.streamFiles,c,f.platform,f.encodeFileName),l=0;try{e.forEach(function(v,d){l++;var k=function(b,I){var M=b||I,S=n[M];if(!S)throw new Error(M+" is not a valid compression method !");return S}(d.options.compression,f.compression),E=d.options.compressionOptions||f.compressionOptions||{},h=d.dir,_=d.date;d._compressWorker(k,E).withStreamInfo("file",{name:v,dir:h,date:_,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(s)}),s.entriesCount=l}catch(v){s.error(v)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,m,a){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new n;for(var e in this)typeof this[e]!="function"&&(i[e]=this[e]);return i}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.7.1",n.loadAsync=function(i,e){return new n().loadAsync(i,e)},n.external=t("./external"),m.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,m,a){var n=t("./utils"),i=t("./external"),e=t("./utf8"),f=t("./zipEntries"),c=t("./stream/Crc32Probe"),s=t("./nodejsUtils");function l(v){return new i.Promise(function(d,k){var E=v.decompressed.getContentWorker().pipe(new c);E.on("error",function(h){k(h)}).on("end",function(){E.streamInfo.crc32!==v.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}m.exports=function(v,d){var k=this;return d=n.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),s.isNode&&s.isStream(v)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",v,!0,d.optimizedBinaryString,d.base64).then(function(E){var h=new f(d);return h.load(E),h}).then(function(E){var h=[i.Promise.resolve(E)],_=E.files;if(d.checkCRC32)for(var b=0;b<_.length;b++)h.push(l(_[b]));return i.Promise.all(h)}).then(function(E){for(var h=E.shift(),_=h.files,b=0;b<_.length;b++){var I=_[b];k.file(I.fileNameStr,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:d.createFolders})}return h.zipComment.length&&(k.comment=h.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,m,a){var n=t("../utils"),i=t("../stream/GenericWorker");function e(f,c){i.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(c)}n.inherits(e,i),e.prototype._bindStream=function(f){var c=this;(this._stream=f).pause(),f.on("data",function(s){c.push({data:s,meta:{percent:0}})}).on("error",function(s){c.isPaused?this.generatedError=s:c.error(s)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},e.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},e.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=e},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,m,a){var n=t("readable-stream").Readable;function i(e,f,c){n.call(this,f),this._helper=e;var s=this;e.on("data",function(l,v){s.push(l)||s._helper.pause(),c&&c(v)}).on("error",function(l){s.emit("error",l)}).on("end",function(){s.push(null)})}t("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},m.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,m,a){m.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(n,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,i);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,i)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var i=new Buffer(n);return i.fill(0),i},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,m,a){function n(S,P,T){var j,N=e.getTypeOf(P),H=e.extend(T||{},s);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(S=_(S)),H.createFolders&&(j=h(S))&&b.call(this,j,!0);var oe=N==="string"&&H.binary===!1&&H.base64===!1;T&&T.binary!==void 0||(H.binary=!oe),(P instanceof l&&P.uncompressedSize===0||H.dir||!P||P.length===0)&&(H.base64=!1,H.binary=!0,P="",H.compression="STORE",N="string");var A=null;A=P instanceof l||P instanceof f?P:k.isNode&&k.isStream(P)?new E(S,P):e.prepareContent(S,P,H.binary,H.optimizedBinaryString,H.base64);var $=new v(S,A,H);this.files[S]=$}var i=t("./utf8"),e=t("./utils"),f=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),s=t("./defaults"),l=t("./compressedObject"),v=t("./zipObject"),d=t("./generate"),k=t("./nodejsUtils"),E=t("./nodejs/NodejsStreamInputAdapter"),h=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var P=S.lastIndexOf("/");return 0<P?S.substring(0,P):""},_=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},b=function(S,P){return P=P!==void 0?P:s.createFolders,S=_(S),this.files[S]||n.call(this,S,null,{dir:!0,createFolders:P}),this.files[S]};function I(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var P,T,j;for(P in this.files)j=this.files[P],(T=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&S(T,j)},filter:function(S){var P=[];return this.forEach(function(T,j){S(T,j)&&P.push(j)}),P},file:function(S,P,T){if(arguments.length!==1)return S=this.root+S,n.call(this,S,P,T),this;if(I(S)){var j=S;return this.filter(function(H,oe){return!oe.dir&&j.test(H)})}var N=this.files[this.root+S];return N&&!N.dir?N:null},folder:function(S){if(!S)return this;if(I(S))return this.filter(function(N,H){return H.dir&&S.test(N)});var P=this.root+S,T=b.call(this,P),j=this.clone();return j.root=T.name,j},remove:function(S){S=this.root+S;var P=this.files[S];if(P||(S.slice(-1)!=="/"&&(S+="/"),P=this.files[S]),P&&!P.dir)delete this.files[S];else for(var T=this.filter(function(N,H){return H.name.slice(0,S.length)===S}),j=0;j<T.length;j++)delete this.files[T[j].name];return this},generate:function(S){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var P,T={};try{if((T=e.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");e.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var j=T.comment||this.comment||"";P=d.generateWorker(this,T,j)}catch(N){(P=new f("error")).error(N)}return new c(P,T.type||"string",T.mimeType)},generateAsync:function(S,P){return this.generateInternalStream(S).accumulate(P)},generateNodeStream:function(S,P){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(P)}};m.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,m,a){m.exports=t("stream")},{stream:void 0}],17:[function(t,m,a){var n=t("./DataReader");function i(e){n.call(this,e);for(var f=0;f<this.data.length;f++)e[f]=255&e[f]}t("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var f=e.charCodeAt(0),c=e.charCodeAt(1),s=e.charCodeAt(2),l=e.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===f&&this.data[v+1]===c&&this.data[v+2]===s&&this.data[v+3]===l)return v-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var f=e.charCodeAt(0),c=e.charCodeAt(1),s=e.charCodeAt(2),l=e.charCodeAt(3),v=this.readData(4);return f===v[0]&&c===v[1]&&s===v[2]&&l===v[3]},i.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,f},m.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,m,a){var n=t("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var f,c=0;for(this.checkOffset(e),f=this.index+e-1;f>=this.index;f--)c=(c<<8)+this.byteAt(f);return this.index+=e,c},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},m.exports=i},{"../utils":32}],19:[function(t,m,a){var n=t("./Uint8ArrayReader");function i(e){n.call(this,e)}t("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var f=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,f},m.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,m,a){var n=t("./DataReader");function i(e){n.call(this,e)}t("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var f=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,f},m.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,m,a){var n=t("./ArrayReader");function i(e){n.call(this,e)}t("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,f},m.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,m,a){var n=t("../utils"),i=t("../support"),e=t("./ArrayReader"),f=t("./StringReader"),c=t("./NodeBufferReader"),s=t("./Uint8ArrayReader");m.exports=function(l){var v=n.getTypeOf(l);return n.checkSupport(v),v!=="string"||i.uint8array?v==="nodebuffer"?new c(l):i.uint8array?new s(n.transformTo("uint8array",l)):new e(n.transformTo("array",l)):new f(l)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,m,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,m,a){var n=t("./GenericWorker"),i=t("../utils");function e(f){n.call(this,"ConvertWorker to "+f),this.destType=f}i.inherits(e,n),e.prototype.processChunk=function(f){this.push({data:i.transformTo(this.destType,f.data),meta:f.meta})},m.exports=e},{"../utils":32,"./GenericWorker":28}],25:[function(t,m,a){var n=t("./GenericWorker"),i=t("../crc32");function e(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(e,n),e.prototype.processChunk=function(f){this.streamInfo.crc32=i(f.data,this.streamInfo.crc32||0),this.push(f)},m.exports=e},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,m,a){var n=t("../utils"),i=t("./GenericWorker");function e(f){i.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}n.inherits(e,i),e.prototype.processChunk=function(f){if(f){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+f.data.length}i.prototype.processChunk.call(this,f)},m.exports=e},{"../utils":32,"./GenericWorker":28}],27:[function(t,m,a){var n=t("../utils"),i=t("./GenericWorker");function e(f){i.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(s){c.dataIsReady=!0,c.data=s,c.max=s&&s.length||0,c.type=n.getTypeOf(s),c.isPaused||c._tickAndRepeat()},function(s){c.error(s)})}n.inherits(e,i),e.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,c);break;case"uint8array":f=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":f=this.data.slice(this.index,c)}return this.index=c,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=e},{"../utils":32,"./GenericWorker":28}],28:[function(t,m,a){function n(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,e){return this._listeners[i].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,e){if(this._listeners[i])for(var f=0;f<this._listeners[i].length;f++)this._listeners[i][f].call(this,e)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var e=this;return i.on("data",function(f){e.processChunk(f)}),i.on("end",function(){e.end()}),i.on("error",function(f){e.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,e){return this.extraStreamInfo[i]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},m.exports=n},{}],29:[function(t,m,a){var n=t("../utils"),i=t("./ConvertWorker"),e=t("./GenericWorker"),f=t("../base64"),c=t("../support"),s=t("../external"),l=null;if(c.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(k,E){return new s.Promise(function(h,_){var b=[],I=k._internalType,M=k._outputType,S=k._mimeType;k.on("data",function(P,T){b.push(P),E&&E(T)}).on("error",function(P){b=[],_(P)}).on("end",function(){try{var P=function(T,j,N){switch(T){case"blob":return n.newBlob(n.transformTo("arraybuffer",j),N);case"base64":return f.encode(j);default:return n.transformTo(T,j)}}(M,function(T,j){var N,H=0,oe=null,A=0;for(N=0;N<j.length;N++)A+=j[N].length;switch(T){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(oe=new Uint8Array(A),N=0;N<j.length;N++)oe.set(j[N],H),H+=j[N].length;return oe;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+T+"'")}}(I,b),S);h(P)}catch(T){_(T)}b=[]}).resume()})}function d(k,E,h){var _=E;switch(E){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=E,this._mimeType=h,n.checkSupport(_),this._worker=k.pipe(new i(_)),k.lock()}catch(b){this._worker=new e("error"),this._worker.error(b)}}d.prototype={accumulate:function(k){return v(this,k)},on:function(k,E){var h=this;return k==="data"?this._worker.on(k,function(_){E.call(h,_.data,_.meta)}):this._worker.on(k,function(){n.delay(E,arguments,h)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:this._outputType!=="nodebuffer"},k)}},m.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,m,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",a.nodebuffer=typeof Buffer!="undefined",a.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")a.blob=!1;else{var n=new ArrayBuffer(0);try{a.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),a.blob=i.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,m,a){for(var n=t("./utils"),i=t("./support"),e=t("./nodejsUtils"),f=t("./stream/GenericWorker"),c=new Array(256),s=0;s<256;s++)c[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;c[254]=c[254]=1;function l(){f.call(this,"utf-8 decode"),this.leftOver=null}function v(){f.call(this,"utf-8 encode")}a.utf8encode=function(d){return i.nodebuffer?e.newBufferFrom(d,"utf-8"):function(k){var E,h,_,b,I,M=k.length,S=0;for(b=0;b<M;b++)(64512&(h=k.charCodeAt(b)))==55296&&b+1<M&&(64512&(_=k.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(_-56320),b++),S+=h<128?1:h<2048?2:h<65536?3:4;for(E=i.uint8array?new Uint8Array(S):new Array(S),b=I=0;I<S;b++)(64512&(h=k.charCodeAt(b)))==55296&&b+1<M&&(64512&(_=k.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(_-56320),b++),h<128?E[I++]=h:(h<2048?E[I++]=192|h>>>6:(h<65536?E[I++]=224|h>>>12:(E[I++]=240|h>>>18,E[I++]=128|h>>>12&63),E[I++]=128|h>>>6&63),E[I++]=128|63&h);return E}(d)},a.utf8decode=function(d){return i.nodebuffer?n.transformTo("nodebuffer",d).toString("utf-8"):function(k){var E,h,_,b,I=k.length,M=new Array(2*I);for(E=h=0;E<I;)if((_=k[E++])<128)M[h++]=_;else if(4<(b=c[_]))M[h++]=65533,E+=b-1;else{for(_&=b===2?31:b===3?15:7;1<b&&E<I;)_=_<<6|63&k[E++],b--;1<b?M[h++]=65533:_<65536?M[h++]=_:(_-=65536,M[h++]=55296|_>>10&1023,M[h++]=56320|1023&_)}return M.length!==h&&(M.subarray?M=M.subarray(0,h):M.length=h),n.applyFromCharCode(M)}(d=n.transformTo(i.uint8array?"uint8array":"array",d))},n.inherits(l,f),l.prototype.processChunk=function(d){var k=n.transformTo(i.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var E=k;(k=new Uint8Array(E.length+this.leftOver.length)).set(this.leftOver,0),k.set(E,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var h=function(b,I){var M;for((I=I||b.length)>b.length&&(I=b.length),M=I-1;0<=M&&(192&b[M])==128;)M--;return M<0||M===0?I:M+c[b[M]]>I?M:I}(k),_=k;h!==k.length&&(i.uint8array?(_=k.subarray(0,h),this.leftOver=k.subarray(h,k.length)):(_=k.slice(0,h),this.leftOver=k.slice(h,k.length))),this.push({data:a.utf8decode(_),meta:d.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=l,n.inherits(v,f),v.prototype.processChunk=function(d){this.push({data:a.utf8encode(d.data),meta:d.meta})},a.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,m,a){var n=t("./support"),i=t("./base64"),e=t("./nodejsUtils"),f=t("set-immediate-shim"),c=t("./external");function s(h){return h}function l(h,_){for(var b=0;b<h.length;++b)_[b]=255&h.charCodeAt(b);return _}a.newBlob=function(h,_){a.checkSupport("blob");try{return new Blob([h],{type:_})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(h),b.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(h,_,b){var I=[],M=0,S=h.length;if(S<=b)return String.fromCharCode.apply(null,h);for(;M<S;)_==="array"||_==="nodebuffer"?I.push(String.fromCharCode.apply(null,h.slice(M,Math.min(M+b,S)))):I.push(String.fromCharCode.apply(null,h.subarray(M,Math.min(M+b,S)))),M+=b;return I.join("")},stringifyByChar:function(h){for(var _="",b=0;b<h.length;b++)_+=String.fromCharCode(h[b]);return _},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,e.allocBuffer(1)).length===1}catch{return!1}}()}};function d(h){var _=65536,b=a.getTypeOf(h),I=!0;if(b==="uint8array"?I=v.applyCanBeUsed.uint8array:b==="nodebuffer"&&(I=v.applyCanBeUsed.nodebuffer),I)for(;1<_;)try{return v.stringifyByChunk(h,b,_)}catch{_=Math.floor(_/2)}return v.stringifyByChar(h)}function k(h,_){for(var b=0;b<h.length;b++)_[b]=h[b];return _}a.applyFromCharCode=d;var E={};E.string={string:s,array:function(h){return l(h,new Array(h.length))},arraybuffer:function(h){return E.string.uint8array(h).buffer},uint8array:function(h){return l(h,new Uint8Array(h.length))},nodebuffer:function(h){return l(h,e.allocBuffer(h.length))}},E.array={string:d,array:s,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return e.newBufferFrom(h)}},E.arraybuffer={string:function(h){return d(new Uint8Array(h))},array:function(h){return k(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:s,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return e.newBufferFrom(new Uint8Array(h))}},E.uint8array={string:d,array:function(h){return k(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:s,nodebuffer:function(h){return e.newBufferFrom(h)}},E.nodebuffer={string:d,array:function(h){return k(h,new Array(h.length))},arraybuffer:function(h){return E.nodebuffer.uint8array(h).buffer},uint8array:function(h){return k(h,new Uint8Array(h.length))},nodebuffer:s},a.transformTo=function(h,_){if(_=_||"",!h)return _;a.checkSupport(h);var b=a.getTypeOf(_);return E[b][h](_)},a.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":n.nodebuffer&&e.isBuffer(h)?"nodebuffer":n.uint8array&&h instanceof Uint8Array?"uint8array":n.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(h){if(!n[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(h){var _,b,I="";for(b=0;b<(h||"").length;b++)I+="\\x"+((_=h.charCodeAt(b))<16?"0":"")+_.toString(16).toUpperCase();return I},a.delay=function(h,_,b){f(function(){h.apply(b||null,_||[])})},a.inherits=function(h,_){function b(){}b.prototype=_.prototype,h.prototype=new b},a.extend=function(){var h,_,b={};for(h=0;h<arguments.length;h++)for(_ in arguments[h])arguments[h].hasOwnProperty(_)&&b[_]===void 0&&(b[_]=arguments[h][_]);return b},a.prepareContent=function(h,_,b,I,M){return c.Promise.resolve(_).then(function(S){return n.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader!="undefined"?new c.Promise(function(P,T){var j=new FileReader;j.onload=function(N){P(N.target.result)},j.onerror=function(N){T(N.target.error)},j.readAsArrayBuffer(S)}):S}).then(function(S){var P=a.getTypeOf(S);return P?(P==="arraybuffer"?S=a.transformTo("uint8array",S):P==="string"&&(M?S=i.decode(S):b&&I!==!0&&(S=function(T){return l(T,n.uint8array?new Uint8Array(T.length):new Array(T.length))}(S))),S):c.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,m,a){var n=t("./reader/readerFor"),i=t("./utils"),e=t("./signature"),f=t("./zipEntry"),c=(t("./utf8"),t("./support"));function s(l){this.files=[],this.loadOptions=l}s.prototype={checkSignature:function(l){if(!this.reader.readAndCheckSignature(l)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(v)+", expected "+i.pretty(l)+")")}},isSignature:function(l,v){var d=this.reader.index;this.reader.setIndex(l);var k=this.reader.readString(4)===v;return this.reader.setIndex(d),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var l=this.reader.readData(this.zipCommentLength),v=c.uint8array?"uint8array":"array",d=i.transformTo(v,l);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var l,v,d,k=this.zip64EndOfCentralSize-44;0<k;)l=this.reader.readInt(2),v=this.reader.readInt(4),d=this.reader.readData(v),this.zip64ExtensibleData[l]={id:l,length:v,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var l,v;for(l=0;l<this.files.length;l++)v=this.files[l],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(e.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var l;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(e.CENTRAL_FILE_HEADER);)(l=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(l);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var l=this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);if(l<0)throw this.isSignature(0,e.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(l);var v=l;if(this.checkSignature(e.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(l=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(l),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,e.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var k=v-d;if(0<k)this.isSignature(v,e.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(l){this.reader=n(l)},load:function(l){this.prepareReader(l),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=s},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,m,a){var n=t("./reader/readerFor"),i=t("./utils"),e=t("./compressedObject"),f=t("./crc32"),c=t("./utf8"),s=t("./compressions"),l=t("./support");function v(d,k){this.options=d,this.loadOptions=k}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var k,E;if(d.skip(22),this.fileNameLength=d.readInt(2),E=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(E),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=function(h){for(var _ in s)if(s.hasOwnProperty(_)&&s[_].magic===h)return s[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new e(this.compressedSize,this.uncompressedSize,this.crc32,k,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var k=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(k),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(d){if(this.extraFields[1]){var k=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(d){var k,E,h,_=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<_;)k=d.readInt(2),E=d.readInt(2),h=d.readData(E),this.extraFields[k]={id:k,length:E,value:h};d.setIndex(_)},handleUTF8:function(){var d=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var E=i.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(E)}var h=this.findExtraFieldUnicodeComment();if(h!==null)this.fileCommentStr=h;else{var _=i.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var k=n(d.value);return k.readInt(1)!==1||f(this.fileName)!==k.readInt(4)?null:c.utf8decode(k.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var k=n(d.value);return k.readInt(1)!==1||f(this.fileComment)!==k.readInt(4)?null:c.utf8decode(k.readData(d.length-5))}return null}},m.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,m,a){function n(k,E,h){this.name=k,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=E,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}}var i=t("./stream/StreamHelper"),e=t("./stream/DataWorker"),f=t("./utf8"),c=t("./compressedObject"),s=t("./stream/GenericWorker");n.prototype={internalStream:function(k){var E=null,h="string";try{if(!k)throw new Error("No output type specified.");var _=(h=k.toLowerCase())==="string"||h==="text";h!=="binarystring"&&h!=="text"||(h="string"),E=this._decompressWorker();var b=!this._dataBinary;b&&!_&&(E=E.pipe(new f.Utf8EncodeWorker)),!b&&_&&(E=E.pipe(new f.Utf8DecodeWorker))}catch(I){(E=new s("error")).error(I)}return new i(E,h,"")},async:function(k,E){return this.internalStream(k).accumulate(E)},nodeStream:function(k,E){return this.internalStream(k||"nodebuffer").toNodejsStream(E)},_compressWorker:function(k,E){if(this._data instanceof c&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new f.Utf8EncodeWorker)),c.createWorkerFrom(h,k,E)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof s?this._data:new e(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)n.prototype[l[d]]=v;m.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,m,a){(function(n){var i,e,f=n.MutationObserver||n.WebKitMutationObserver;if(f){var c=0,s=new f(k),l=n.document.createTextNode("");s.observe(l,{characterData:!0}),i=function(){l.data=c=++c%2}}else if(n.setImmediate||n.MessageChannel===void 0)i="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var E=n.document.createElement("script");E.onreadystatechange=function(){k(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},n.document.documentElement.appendChild(E)}:function(){setTimeout(k,0)};else{var v=new n.MessageChannel;v.port1.onmessage=k,i=function(){v.port2.postMessage(0)}}var d=[];function k(){var E,h;e=!0;for(var _=d.length;_;){for(h=d,d=[],E=-1;++E<_;)h[E]();_=d.length}e=!1}m.exports=function(E){d.push(E)!==1||e||i()}}).call(this,typeof We!="undefined"?We:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(t,m,a){var n=t("immediate");function i(){}var e={},f=["REJECTED"],c=["FULFILLED"],s=["PENDING"];function l(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,_!==i&&E(this,_)}function v(_,b,I){this.promise=_,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function d(_,b,I){n(function(){var M;try{M=b(I)}catch(S){return e.reject(_,S)}M===_?e.reject(_,new TypeError("Cannot resolve promise with itself")):e.resolve(_,M)})}function k(_){var b=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof b=="function")return function(){b.apply(_,arguments)}}function E(_,b){var I=!1;function M(T){I||(I=!0,e.reject(_,T))}function S(T){I||(I=!0,e.resolve(_,T))}var P=h(function(){b(S,M)});P.status==="error"&&M(P.value)}function h(_,b){var I={};try{I.value=_(b),I.status="success"}catch(M){I.status="error",I.value=M}return I}(m.exports=l).prototype.finally=function(_){if(typeof _!="function")return this;var b=this.constructor;return this.then(function(I){return b.resolve(_()).then(function(){return I})},function(I){return b.resolve(_()).then(function(){throw I})})},l.prototype.catch=function(_){return this.then(null,_)},l.prototype.then=function(_,b){if(typeof _!="function"&&this.state===c||typeof b!="function"&&this.state===f)return this;var I=new this.constructor(i);return this.state!==s?d(I,this.state===c?_:b,this.outcome):this.queue.push(new v(I,_,b)),I},v.prototype.callFulfilled=function(_){e.resolve(this.promise,_)},v.prototype.otherCallFulfilled=function(_){d(this.promise,this.onFulfilled,_)},v.prototype.callRejected=function(_){e.reject(this.promise,_)},v.prototype.otherCallRejected=function(_){d(this.promise,this.onRejected,_)},e.resolve=function(_,b){var I=h(k,b);if(I.status==="error")return e.reject(_,I.value);var M=I.value;if(M)E(_,M);else{_.state=c,_.outcome=b;for(var S=-1,P=_.queue.length;++S<P;)_.queue[S].callFulfilled(b)}return _},e.reject=function(_,b){_.state=f,_.outcome=b;for(var I=-1,M=_.queue.length;++I<M;)_.queue[I].callRejected(b);return _},l.resolve=function(_){return _ instanceof this?_:e.resolve(new this(i),_)},l.reject=function(_){var b=new this(i);return e.reject(b,_)},l.all=function(_){var b=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,M=!1;if(!I)return this.resolve([]);for(var S=new Array(I),P=0,T=-1,j=new this(i);++T<I;)N(_[T],T);return j;function N(H,oe){b.resolve(H).then(function(A){S[oe]=A,++P!==I||M||(M=!0,e.resolve(j,S))},function(A){M||(M=!0,e.reject(j,A))})}},l.race=function(_){var b=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,M=!1;if(!I)return this.resolve([]);for(var S=-1,P=new this(i);++S<I;)T=_[S],b.resolve(T).then(function(j){M||(M=!0,e.resolve(P,j))},function(j){M||(M=!0,e.reject(P,j))});var T;return P}},{immediate:36}],38:[function(t,m,a){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),m.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,m,a){var n=t("./zlib/deflate"),i=t("./utils/common"),e=t("./utils/strings"),f=t("./zlib/messages"),c=t("./zlib/zstream"),s=Object.prototype.toString,l=0,v=-1,d=0,k=8;function E(_){if(!(this instanceof E))return new E(_);this.options=i.assign({level:v,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},_||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var I=n.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(I!==l)throw new Error(f[I]);if(b.header&&n.deflateSetHeader(this.strm,b.header),b.dictionary){var M;if(M=typeof b.dictionary=="string"?e.string2buf(b.dictionary):s.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(I=n.deflateSetDictionary(this.strm,M))!==l)throw new Error(f[I]);this._dict_set=!0}}function h(_,b){var I=new E(b);if(I.push(_,!0),I.err)throw I.msg||f[I.err];return I.result}E.prototype.push=function(_,b){var I,M,S=this.strm,P=this.options.chunkSize;if(this.ended)return!1;M=b===~~b?b:b===!0?4:0,typeof _=="string"?S.input=e.string2buf(_):s.call(_)==="[object ArrayBuffer]"?S.input=new Uint8Array(_):S.input=_,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new i.Buf8(P),S.next_out=0,S.avail_out=P),(I=n.deflate(S,M))!==1&&I!==l)return this.onEnd(I),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(e.buf2binstring(i.shrinkBuf(S.output,S.next_out))):this.onData(i.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&I!==1);return M===4?(I=n.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===l):M!==2||(this.onEnd(l),!(S.avail_out=0))},E.prototype.onData=function(_){this.chunks.push(_)},E.prototype.onEnd=function(_){_===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},a.Deflate=E,a.deflate=h,a.deflateRaw=function(_,b){return(b=b||{}).raw=!0,h(_,b)},a.gzip=function(_,b){return(b=b||{}).gzip=!0,h(_,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,m,a){var n=t("./zlib/inflate"),i=t("./utils/common"),e=t("./utils/strings"),f=t("./zlib/constants"),c=t("./zlib/messages"),s=t("./zlib/zstream"),l=t("./zlib/gzheader"),v=Object.prototype.toString;function d(E){if(!(this instanceof d))return new d(E);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},E||{});var h=this.options;h.raw&&0<=h.windowBits&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(0<=h.windowBits&&h.windowBits<16)||E&&E.windowBits||(h.windowBits+=32),15<h.windowBits&&h.windowBits<48&&(15&h.windowBits)==0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var _=n.inflateInit2(this.strm,h.windowBits);if(_!==f.Z_OK)throw new Error(c[_]);this.header=new l,n.inflateGetHeader(this.strm,this.header)}function k(E,h){var _=new d(h);if(_.push(E,!0),_.err)throw _.msg||c[_.err];return _.result}d.prototype.push=function(E,h){var _,b,I,M,S,P,T=this.strm,j=this.options.chunkSize,N=this.options.dictionary,H=!1;if(this.ended)return!1;b=h===~~h?h:h===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof E=="string"?T.input=e.binstring2buf(E):v.call(E)==="[object ArrayBuffer]"?T.input=new Uint8Array(E):T.input=E,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new i.Buf8(j),T.next_out=0,T.avail_out=j),(_=n.inflate(T,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&N&&(P=typeof N=="string"?e.string2buf(N):v.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,_=n.inflateSetDictionary(this.strm,P)),_===f.Z_BUF_ERROR&&H===!0&&(_=f.Z_OK,H=!1),_!==f.Z_STREAM_END&&_!==f.Z_OK)return this.onEnd(_),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&_!==f.Z_STREAM_END&&(T.avail_in!==0||b!==f.Z_FINISH&&b!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=e.utf8border(T.output,T.next_out),M=T.next_out-I,S=e.buf2string(T.output,I),T.next_out=M,T.avail_out=j-M,M&&i.arraySet(T.output,T.output,I,M,0),this.onData(S)):this.onData(i.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(H=!0)}while((0<T.avail_in||T.avail_out===0)&&_!==f.Z_STREAM_END);return _===f.Z_STREAM_END&&(b=f.Z_FINISH),b===f.Z_FINISH?(_=n.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===f.Z_OK):b!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(T.avail_out=0))},d.prototype.onData=function(E){this.chunks.push(E)},d.prototype.onEnd=function(E){E===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},a.Inflate=d,a.inflate=k,a.inflateRaw=function(E,h){return(h=h||{}).raw=!0,k(E,h)},a.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,m,a){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";a.assign=function(f){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var s=c.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var l in s)s.hasOwnProperty(l)&&(f[l]=s[l])}}return f},a.shrinkBuf=function(f,c){return f.length===c?f:f.subarray?f.subarray(0,c):(f.length=c,f)};var i={arraySet:function(f,c,s,l,v){if(c.subarray&&f.subarray)f.set(c.subarray(s,s+l),v);else for(var d=0;d<l;d++)f[v+d]=c[s+d]},flattenChunks:function(f){var c,s,l,v,d,k;for(c=l=0,s=f.length;c<s;c++)l+=f[c].length;for(k=new Uint8Array(l),c=v=0,s=f.length;c<s;c++)d=f[c],k.set(d,v),v+=d.length;return k}},e={arraySet:function(f,c,s,l,v){for(var d=0;d<l;d++)f[v+d]=c[s+d]},flattenChunks:function(f){return[].concat.apply([],f)}};a.setTyped=function(f){f?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,i)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,e))},a.setTyped(n)},{}],42:[function(t,m,a){var n=t("./common"),i=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}for(var f=new n.Buf8(256),c=0;c<256;c++)f[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function s(l,v){if(v<65537&&(l.subarray&&e||!l.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(l,v));for(var d="",k=0;k<v;k++)d+=String.fromCharCode(l[k]);return d}f[254]=f[254]=1,a.string2buf=function(l){var v,d,k,E,h,_=l.length,b=0;for(E=0;E<_;E++)(64512&(d=l.charCodeAt(E)))==55296&&E+1<_&&(64512&(k=l.charCodeAt(E+1)))==56320&&(d=65536+(d-55296<<10)+(k-56320),E++),b+=d<128?1:d<2048?2:d<65536?3:4;for(v=new n.Buf8(b),E=h=0;h<b;E++)(64512&(d=l.charCodeAt(E)))==55296&&E+1<_&&(64512&(k=l.charCodeAt(E+1)))==56320&&(d=65536+(d-55296<<10)+(k-56320),E++),d<128?v[h++]=d:(d<2048?v[h++]=192|d>>>6:(d<65536?v[h++]=224|d>>>12:(v[h++]=240|d>>>18,v[h++]=128|d>>>12&63),v[h++]=128|d>>>6&63),v[h++]=128|63&d);return v},a.buf2binstring=function(l){return s(l,l.length)},a.binstring2buf=function(l){for(var v=new n.Buf8(l.length),d=0,k=v.length;d<k;d++)v[d]=l.charCodeAt(d);return v},a.buf2string=function(l,v){var d,k,E,h,_=v||l.length,b=new Array(2*_);for(d=k=0;d<_;)if((E=l[d++])<128)b[k++]=E;else if(4<(h=f[E]))b[k++]=65533,d+=h-1;else{for(E&=h===2?31:h===3?15:7;1<h&&d<_;)E=E<<6|63&l[d++],h--;1<h?b[k++]=65533:E<65536?b[k++]=E:(E-=65536,b[k++]=55296|E>>10&1023,b[k++]=56320|1023&E)}return s(b,k)},a.utf8border=function(l,v){var d;for((v=v||l.length)>l.length&&(v=l.length),d=v-1;0<=d&&(192&l[d])==128;)d--;return d<0||d===0?v:d+f[l[d]]>v?d:v}},{"./common":41}],43:[function(t,m,a){m.exports=function(n,i,e,f){for(var c=65535&n|0,s=n>>>16&65535|0,l=0;e!==0;){for(e-=l=2e3<e?2e3:e;s=s+(c=c+i[f++]|0)|0,--l;);c%=65521,s%=65521}return c|s<<16|0}},{}],44:[function(t,m,a){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,m,a){var n=function(){for(var i,e=[],f=0;f<256;f++){i=f;for(var c=0;c<8;c++)i=1&i?3988292384^i>>>1:i>>>1;e[f]=i}return e}();m.exports=function(i,e,f,c){var s=n,l=c+f;i^=-1;for(var v=c;v<l;v++)i=i>>>8^s[255&(i^e[v])];return-1^i}},{}],46:[function(t,m,a){var n,i=t("../utils/common"),e=t("./trees"),f=t("./adler32"),c=t("./crc32"),s=t("./messages"),l=0,v=4,d=0,k=-2,E=-1,h=4,_=2,b=8,I=9,M=286,S=30,P=19,T=2*M+1,j=15,N=3,H=258,oe=H+N+1,A=42,$=113,o=1,q=2,ce=3,G=4;function de(r,W){return r.msg=s[W],W}function K(r){return(r<<1)-(4<r?9:0)}function le(r){for(var W=r.length;0<=--W;)r[W]=0}function L(r){var W=r.state,U=W.pending;U>r.avail_out&&(U=r.avail_out),U!==0&&(i.arraySet(r.output,W.pending_buf,W.pending_out,U,r.next_out),r.next_out+=U,W.pending_out+=U,r.total_out+=U,r.avail_out-=U,W.pending-=U,W.pending===0&&(W.pending_out=0))}function F(r,W){e._tr_flush_block(r,0<=r.block_start?r.block_start:-1,r.strstart-r.block_start,W),r.block_start=r.strstart,L(r.strm)}function fe(r,W){r.pending_buf[r.pending++]=W}function ae(r,W){r.pending_buf[r.pending++]=W>>>8&255,r.pending_buf[r.pending++]=255&W}function ne(r,W){var U,x,w=r.max_chain_length,z=r.strstart,Y=r.prev_length,J=r.nice_match,B=r.strstart>r.w_size-oe?r.strstart-(r.w_size-oe):0,Q=r.window,ie=r.w_mask,te=r.prev,ue=r.strstart+H,ge=Q[z+Y-1],pe=Q[z+Y];r.prev_length>=r.good_match&&(w>>=2),J>r.lookahead&&(J=r.lookahead);do if(Q[(U=W)+Y]===pe&&Q[U+Y-1]===ge&&Q[U]===Q[z]&&Q[++U]===Q[z+1]){z+=2,U++;do;while(Q[++z]===Q[++U]&&Q[++z]===Q[++U]&&Q[++z]===Q[++U]&&Q[++z]===Q[++U]&&Q[++z]===Q[++U]&&Q[++z]===Q[++U]&&Q[++z]===Q[++U]&&Q[++z]===Q[++U]&&z<ue);if(x=H-(ue-z),z=ue-H,Y<x){if(r.match_start=W,J<=(Y=x))break;ge=Q[z+Y-1],pe=Q[z+Y]}}while((W=te[W&ie])>B&&--w!=0);return Y<=r.lookahead?Y:r.lookahead}function we(r){var W,U,x,w,z,Y,J,B,Q,ie,te=r.w_size;do{if(w=r.window_size-r.lookahead-r.strstart,r.strstart>=te+(te-oe)){for(i.arraySet(r.window,r.window,te,te,0),r.match_start-=te,r.strstart-=te,r.block_start-=te,W=U=r.hash_size;x=r.head[--W],r.head[W]=te<=x?x-te:0,--U;);for(W=U=te;x=r.prev[--W],r.prev[W]=te<=x?x-te:0,--U;);w+=te}if(r.strm.avail_in===0)break;if(Y=r.strm,J=r.window,B=r.strstart+r.lookahead,Q=w,ie=void 0,ie=Y.avail_in,Q<ie&&(ie=Q),U=ie===0?0:(Y.avail_in-=ie,i.arraySet(J,Y.input,Y.next_in,ie,B),Y.state.wrap===1?Y.adler=f(Y.adler,J,ie,B):Y.state.wrap===2&&(Y.adler=c(Y.adler,J,ie,B)),Y.next_in+=ie,Y.total_in+=ie,ie),r.lookahead+=U,r.lookahead+r.insert>=N)for(z=r.strstart-r.insert,r.ins_h=r.window[z],r.ins_h=(r.ins_h<<r.hash_shift^r.window[z+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[z+N-1])&r.hash_mask,r.prev[z&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=z,z++,r.insert--,!(r.lookahead+r.insert<N)););}while(r.lookahead<oe&&r.strm.avail_in!==0)}function Ce(r,W){for(var U,x;;){if(r.lookahead<oe){if(we(r),r.lookahead<oe&&W===l)return o;if(r.lookahead===0)break}if(U=0,r.lookahead>=N&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+N-1])&r.hash_mask,U=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),U!==0&&r.strstart-U<=r.w_size-oe&&(r.match_length=ne(r,U)),r.match_length>=N)if(x=e._tr_tally(r,r.strstart-r.match_start,r.match_length-N),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=N){for(r.match_length--;r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+N-1])&r.hash_mask,U=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart,--r.match_length!=0;);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else x=e._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(x&&(F(r,!1),r.strm.avail_out===0))return o}return r.insert=r.strstart<N-1?r.strstart:N-1,W===v?(F(r,!0),r.strm.avail_out===0?ce:G):r.last_lit&&(F(r,!1),r.strm.avail_out===0)?o:q}function me(r,W){for(var U,x,w;;){if(r.lookahead<oe){if(we(r),r.lookahead<oe&&W===l)return o;if(r.lookahead===0)break}if(U=0,r.lookahead>=N&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+N-1])&r.hash_mask,U=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=N-1,U!==0&&r.prev_length<r.max_lazy_match&&r.strstart-U<=r.w_size-oe&&(r.match_length=ne(r,U),r.match_length<=5&&(r.strategy===1||r.match_length===N&&4096<r.strstart-r.match_start)&&(r.match_length=N-1)),r.prev_length>=N&&r.match_length<=r.prev_length){for(w=r.strstart+r.lookahead-N,x=e._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-N),r.lookahead-=r.prev_length-1,r.prev_length-=2;++r.strstart<=w&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+N-1])&r.hash_mask,U=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),--r.prev_length!=0;);if(r.match_available=0,r.match_length=N-1,r.strstart++,x&&(F(r,!1),r.strm.avail_out===0))return o}else if(r.match_available){if((x=e._tr_tally(r,0,r.window[r.strstart-1]))&&F(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return o}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(x=e._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<N-1?r.strstart:N-1,W===v?(F(r,!0),r.strm.avail_out===0?ce:G):r.last_lit&&(F(r,!1),r.strm.avail_out===0)?o:q}function ve(r,W,U,x,w){this.good_length=r,this.max_lazy=W,this.nice_length=U,this.max_chain=x,this.func=w}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*T),this.dyn_dtree=new i.Buf16(2*(2*S+1)),this.bl_tree=new i.Buf16(2*(2*P+1)),le(this.dyn_ltree),le(this.dyn_dtree),le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(j+1),this.heap=new i.Buf16(2*M+1),le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*M+1),le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ke(r){var W;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=_,(W=r.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?A:$,r.adler=W.wrap===2?0:1,W.last_flush=l,e._tr_init(W),d):de(r,k)}function Ue(r){var W=ke(r);return W===d&&function(U){U.window_size=2*U.w_size,le(U.head),U.max_lazy_match=n[U.level].max_lazy,U.good_match=n[U.level].good_length,U.nice_match=n[U.level].nice_length,U.max_chain_length=n[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=N-1,U.match_available=0,U.ins_h=0}(r.state),W}function Ne(r,W,U,x,w,z){if(!r)return k;var Y=1;if(W===E&&(W=6),x<0?(Y=0,x=-x):15<x&&(Y=2,x-=16),w<1||I<w||U!==b||x<8||15<x||W<0||9<W||z<0||h<z)return de(r,k);x===8&&(x=9);var J=new Ee;return(r.state=J).strm=r,J.wrap=Y,J.gzhead=null,J.w_bits=x,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=w+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+N-1)/N),J.window=new i.Buf8(2*J.w_size),J.head=new i.Buf16(J.hash_size),J.prev=new i.Buf16(J.w_size),J.lit_bufsize=1<<w+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new i.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=W,J.strategy=z,J.method=U,Ue(r)}n=[new ve(0,0,0,0,function(r,W){var U=65535;for(U>r.pending_buf_size-5&&(U=r.pending_buf_size-5);;){if(r.lookahead<=1){if(we(r),r.lookahead===0&&W===l)return o;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var x=r.block_start+U;if((r.strstart===0||r.strstart>=x)&&(r.lookahead=r.strstart-x,r.strstart=x,F(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-oe&&(F(r,!1),r.strm.avail_out===0))return o}return r.insert=0,W===v?(F(r,!0),r.strm.avail_out===0?ce:G):(r.strstart>r.block_start&&(F(r,!1),r.strm.avail_out),o)}),new ve(4,4,8,4,Ce),new ve(4,5,16,8,Ce),new ve(4,6,32,32,Ce),new ve(4,4,16,16,me),new ve(8,16,32,32,me),new ve(8,16,128,128,me),new ve(8,32,128,256,me),new ve(32,128,258,1024,me),new ve(32,258,258,4096,me)],a.deflateInit=function(r,W){return Ne(r,W,b,15,8,0)},a.deflateInit2=Ne,a.deflateReset=Ue,a.deflateResetKeep=ke,a.deflateSetHeader=function(r,W){return r&&r.state?r.state.wrap!==2?k:(r.state.gzhead=W,d):k},a.deflate=function(r,W){var U,x,w,z;if(!r||!r.state||5<W||W<0)return r?de(r,k):k;if(x=r.state,!r.output||!r.input&&r.avail_in!==0||x.status===666&&W!==v)return de(r,r.avail_out===0?-5:k);if(x.strm=r,U=x.last_flush,x.last_flush=W,x.status===A)if(x.wrap===2)r.adler=0,fe(x,31),fe(x,139),fe(x,8),x.gzhead?(fe(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),fe(x,255&x.gzhead.time),fe(x,x.gzhead.time>>8&255),fe(x,x.gzhead.time>>16&255),fe(x,x.gzhead.time>>24&255),fe(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),fe(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(fe(x,255&x.gzhead.extra.length),fe(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(r.adler=c(r.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(fe(x,0),fe(x,0),fe(x,0),fe(x,0),fe(x,0),fe(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),fe(x,3),x.status=$);else{var Y=b+(x.w_bits-8<<4)<<8;Y|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(Y|=32),Y+=31-Y%31,x.status=$,ae(x,Y),x.strstart!==0&&(ae(x,r.adler>>>16),ae(x,65535&r.adler)),r.adler=1}if(x.status===69)if(x.gzhead.extra){for(w=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>w&&(r.adler=c(r.adler,x.pending_buf,x.pending-w,w)),L(r),w=x.pending,x.pending!==x.pending_buf_size));)fe(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>w&&(r.adler=c(r.adler,x.pending_buf,x.pending-w,w)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){w=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>w&&(r.adler=c(r.adler,x.pending_buf,x.pending-w,w)),L(r),w=x.pending,x.pending===x.pending_buf_size)){z=1;break}z=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,fe(x,z)}while(z!==0);x.gzhead.hcrc&&x.pending>w&&(r.adler=c(r.adler,x.pending_buf,x.pending-w,w)),z===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){w=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>w&&(r.adler=c(r.adler,x.pending_buf,x.pending-w,w)),L(r),w=x.pending,x.pending===x.pending_buf_size)){z=1;break}z=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,fe(x,z)}while(z!==0);x.gzhead.hcrc&&x.pending>w&&(r.adler=c(r.adler,x.pending_buf,x.pending-w,w)),z===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&L(r),x.pending+2<=x.pending_buf_size&&(fe(x,255&r.adler),fe(x,r.adler>>8&255),r.adler=0,x.status=$)):x.status=$),x.pending!==0){if(L(r),r.avail_out===0)return x.last_flush=-1,d}else if(r.avail_in===0&&K(W)<=K(U)&&W!==v)return de(r,-5);if(x.status===666&&r.avail_in!==0)return de(r,-5);if(r.avail_in!==0||x.lookahead!==0||W!==l&&x.status!==666){var J=x.strategy===2?function(B,Q){for(var ie;;){if(B.lookahead===0&&(we(B),B.lookahead===0)){if(Q===l)return o;break}if(B.match_length=0,ie=e._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,ie&&(F(B,!1),B.strm.avail_out===0))return o}return B.insert=0,Q===v?(F(B,!0),B.strm.avail_out===0?ce:G):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?o:q}(x,W):x.strategy===3?function(B,Q){for(var ie,te,ue,ge,pe=B.window;;){if(B.lookahead<=H){if(we(B),B.lookahead<=H&&Q===l)return o;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=N&&0<B.strstart&&(te=pe[ue=B.strstart-1])===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]){ge=B.strstart+H;do;while(te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&ue<ge);B.match_length=H-(ge-ue),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=N?(ie=e._tr_tally(B,1,B.match_length-N),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(ie=e._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),ie&&(F(B,!1),B.strm.avail_out===0))return o}return B.insert=0,Q===v?(F(B,!0),B.strm.avail_out===0?ce:G):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?o:q}(x,W):n[x.level].func(x,W);if(J!==ce&&J!==G||(x.status=666),J===o||J===ce)return r.avail_out===0&&(x.last_flush=-1),d;if(J===q&&(W===1?e._tr_align(x):W!==5&&(e._tr_stored_block(x,0,0,!1),W===3&&(le(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),L(r),r.avail_out===0))return x.last_flush=-1,d}return W!==v?d:x.wrap<=0?1:(x.wrap===2?(fe(x,255&r.adler),fe(x,r.adler>>8&255),fe(x,r.adler>>16&255),fe(x,r.adler>>24&255),fe(x,255&r.total_in),fe(x,r.total_in>>8&255),fe(x,r.total_in>>16&255),fe(x,r.total_in>>24&255)):(ae(x,r.adler>>>16),ae(x,65535&r.adler)),L(r),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?d:1)},a.deflateEnd=function(r){var W;return r&&r.state?(W=r.state.status)!==A&&W!==69&&W!==73&&W!==91&&W!==103&&W!==$&&W!==666?de(r,k):(r.state=null,W===$?de(r,-3):d):k},a.deflateSetDictionary=function(r,W){var U,x,w,z,Y,J,B,Q,ie=W.length;if(!r||!r.state||(z=(U=r.state).wrap)===2||z===1&&U.status!==A||U.lookahead)return k;for(z===1&&(r.adler=f(r.adler,W,ie,0)),U.wrap=0,ie>=U.w_size&&(z===0&&(le(U.head),U.strstart=0,U.block_start=0,U.insert=0),Q=new i.Buf8(U.w_size),i.arraySet(Q,W,ie-U.w_size,U.w_size,0),W=Q,ie=U.w_size),Y=r.avail_in,J=r.next_in,B=r.input,r.avail_in=ie,r.next_in=0,r.input=W,we(U);U.lookahead>=N;){for(x=U.strstart,w=U.lookahead-(N-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[x+N-1])&U.hash_mask,U.prev[x&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=x,x++,--w;);U.strstart=x,U.lookahead=N-1,we(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=N-1,U.match_available=0,r.next_in=J,r.input=B,r.avail_in=Y,U.wrap=z,d},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,m,a){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,m,a){m.exports=function(n,i){var e,f,c,s,l,v,d,k,E,h,_,b,I,M,S,P,T,j,N,H,oe,A,$,o,q;e=n.state,f=n.next_in,o=n.input,c=f+(n.avail_in-5),s=n.next_out,q=n.output,l=s-(i-n.avail_out),v=s+(n.avail_out-257),d=e.dmax,k=e.wsize,E=e.whave,h=e.wnext,_=e.window,b=e.hold,I=e.bits,M=e.lencode,S=e.distcode,P=(1<<e.lenbits)-1,T=(1<<e.distbits)-1;e:do{I<15&&(b+=o[f++]<<I,I+=8,b+=o[f++]<<I,I+=8),j=M[b&P];t:for(;;){if(b>>>=N=j>>>24,I-=N,(N=j>>>16&255)==0)q[s++]=65535&j;else{if(!(16&N)){if((64&N)==0){j=M[(65535&j)+(b&(1<<N)-1)];continue t}if(32&N){e.mode=12;break e}n.msg="invalid literal/length code",e.mode=30;break e}H=65535&j,(N&=15)&&(I<N&&(b+=o[f++]<<I,I+=8),H+=b&(1<<N)-1,b>>>=N,I-=N),I<15&&(b+=o[f++]<<I,I+=8,b+=o[f++]<<I,I+=8),j=S[b&T];r:for(;;){if(b>>>=N=j>>>24,I-=N,!(16&(N=j>>>16&255))){if((64&N)==0){j=S[(65535&j)+(b&(1<<N)-1)];continue r}n.msg="invalid distance code",e.mode=30;break e}if(oe=65535&j,I<(N&=15)&&(b+=o[f++]<<I,(I+=8)<N&&(b+=o[f++]<<I,I+=8)),d<(oe+=b&(1<<N)-1)){n.msg="invalid distance too far back",e.mode=30;break e}if(b>>>=N,I-=N,(N=s-l)<oe){if(E<(N=oe-N)&&e.sane){n.msg="invalid distance too far back",e.mode=30;break e}if($=_,(A=0)===h){if(A+=k-N,N<H){for(H-=N;q[s++]=_[A++],--N;);A=s-oe,$=q}}else if(h<N){if(A+=k+h-N,(N-=h)<H){for(H-=N;q[s++]=_[A++],--N;);if(A=0,h<H){for(H-=N=h;q[s++]=_[A++],--N;);A=s-oe,$=q}}}else if(A+=h-N,N<H){for(H-=N;q[s++]=_[A++],--N;);A=s-oe,$=q}for(;2<H;)q[s++]=$[A++],q[s++]=$[A++],q[s++]=$[A++],H-=3;H&&(q[s++]=$[A++],1<H&&(q[s++]=$[A++]))}else{for(A=s-oe;q[s++]=q[A++],q[s++]=q[A++],q[s++]=q[A++],2<(H-=3););H&&(q[s++]=q[A++],1<H&&(q[s++]=q[A++]))}break}}break}}while(f<c&&s<v);f-=H=I>>3,b&=(1<<(I-=H<<3))-1,n.next_in=f,n.next_out=s,n.avail_in=f<c?c-f+5:5-(f-c),n.avail_out=s<v?v-s+257:257-(s-v),e.hold=b,e.bits=I}},{}],49:[function(t,m,a){var n=t("../utils/common"),i=t("./adler32"),e=t("./crc32"),f=t("./inffast"),c=t("./inftrees"),s=1,l=2,v=0,d=-2,k=1,E=852,h=592;function _(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(A){var $;return A&&A.state?($=A.state,A.total_in=A.total_out=$.total=0,A.msg="",$.wrap&&(A.adler=1&$.wrap),$.mode=k,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new n.Buf32(E),$.distcode=$.distdyn=new n.Buf32(h),$.sane=1,$.back=-1,v):d}function M(A){var $;return A&&A.state?(($=A.state).wsize=0,$.whave=0,$.wnext=0,I(A)):d}function S(A,$){var o,q;return A&&A.state?(q=A.state,$<0?(o=0,$=-$):(o=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?d:(q.window!==null&&q.wbits!==$&&(q.window=null),q.wrap=o,q.wbits=$,M(A))):d}function P(A,$){var o,q;return A?(q=new b,(A.state=q).window=null,(o=S(A,$))!==v&&(A.state=null),o):d}var T,j,N=!0;function H(A){if(N){var $;for(T=new n.Buf32(512),j=new n.Buf32(32),$=0;$<144;)A.lens[$++]=8;for(;$<256;)A.lens[$++]=9;for(;$<280;)A.lens[$++]=7;for(;$<288;)A.lens[$++]=8;for(c(s,A.lens,0,288,T,0,A.work,{bits:9}),$=0;$<32;)A.lens[$++]=5;c(l,A.lens,0,32,j,0,A.work,{bits:5}),N=!1}A.lencode=T,A.lenbits=9,A.distcode=j,A.distbits=5}function oe(A,$,o,q){var ce,G=A.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new n.Buf8(G.wsize)),q>=G.wsize?(n.arraySet(G.window,$,o-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(q<(ce=G.wsize-G.wnext)&&(ce=q),n.arraySet(G.window,$,o-q,ce,G.wnext),(q-=ce)?(n.arraySet(G.window,$,o-q,q,0),G.wnext=q,G.whave=G.wsize):(G.wnext+=ce,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=ce))),0}a.inflateReset=M,a.inflateReset2=S,a.inflateResetKeep=I,a.inflateInit=function(A){return P(A,15)},a.inflateInit2=P,a.inflate=function(A,$){var o,q,ce,G,de,K,le,L,F,fe,ae,ne,we,Ce,me,ve,Ee,ke,Ue,Ne,r,W,U,x,w=0,z=new n.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return d;(o=A.state).mode===12&&(o.mode=13),de=A.next_out,ce=A.output,le=A.avail_out,G=A.next_in,q=A.input,K=A.avail_in,L=o.hold,F=o.bits,fe=K,ae=le,W=v;e:for(;;)switch(o.mode){case k:if(o.wrap===0){o.mode=13;break}for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(2&o.wrap&&L===35615){z[o.check=0]=255&L,z[1]=L>>>8&255,o.check=e(o.check,z,2,0),F=L=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&L)<<8)+(L>>8))%31){A.msg="incorrect header check",o.mode=30;break}if((15&L)!=8){A.msg="unknown compression method",o.mode=30;break}if(F-=4,r=8+(15&(L>>>=4)),o.wbits===0)o.wbits=r;else if(r>o.wbits){A.msg="invalid window size",o.mode=30;break}o.dmax=1<<r,A.adler=o.check=1,o.mode=512&L?10:12,F=L=0;break;case 2:for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(o.flags=L,(255&o.flags)!=8){A.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){A.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=L>>8&1),512&o.flags&&(z[0]=255&L,z[1]=L>>>8&255,o.check=e(o.check,z,2,0)),F=L=0,o.mode=3;case 3:for(;F<32;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}o.head&&(o.head.time=L),512&o.flags&&(z[0]=255&L,z[1]=L>>>8&255,z[2]=L>>>16&255,z[3]=L>>>24&255,o.check=e(o.check,z,4,0)),F=L=0,o.mode=4;case 4:for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}o.head&&(o.head.xflags=255&L,o.head.os=L>>8),512&o.flags&&(z[0]=255&L,z[1]=L>>>8&255,o.check=e(o.check,z,2,0)),F=L=0,o.mode=5;case 5:if(1024&o.flags){for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}o.length=L,o.head&&(o.head.extra_len=L),512&o.flags&&(z[0]=255&L,z[1]=L>>>8&255,o.check=e(o.check,z,2,0)),F=L=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(K<(ne=o.length)&&(ne=K),ne&&(o.head&&(r=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),n.arraySet(o.head.extra,q,G,ne,r)),512&o.flags&&(o.check=e(o.check,q,ne,G)),K-=ne,G+=ne,o.length-=ne),o.length))break e;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(K===0)break e;for(ne=0;r=q[G+ne++],o.head&&r&&o.length<65536&&(o.head.name+=String.fromCharCode(r)),r&&ne<K;);if(512&o.flags&&(o.check=e(o.check,q,ne,G)),K-=ne,G+=ne,r)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(K===0)break e;for(ne=0;r=q[G+ne++],o.head&&r&&o.length<65536&&(o.head.comment+=String.fromCharCode(r)),r&&ne<K;);if(512&o.flags&&(o.check=e(o.check,q,ne,G)),K-=ne,G+=ne,r)break e}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(L!==(65535&o.check)){A.msg="header crc mismatch",o.mode=30;break}F=L=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),A.adler=o.check=0,o.mode=12;break;case 10:for(;F<32;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}A.adler=o.check=_(L),F=L=0,o.mode=11;case 11:if(o.havedict===0)return A.next_out=de,A.avail_out=le,A.next_in=G,A.avail_in=K,o.hold=L,o.bits=F,2;A.adler=o.check=1,o.mode=12;case 12:if($===5||$===6)break e;case 13:if(o.last){L>>>=7&F,F-=7&F,o.mode=27;break}for(;F<3;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}switch(o.last=1&L,F-=1,3&(L>>>=1)){case 0:o.mode=14;break;case 1:if(H(o),o.mode=20,$!==6)break;L>>>=2,F-=2;break e;case 2:o.mode=17;break;case 3:A.msg="invalid block type",o.mode=30}L>>>=2,F-=2;break;case 14:for(L>>>=7&F,F-=7&F;F<32;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if((65535&L)!=(L>>>16^65535)){A.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&L,F=L=0,o.mode=15,$===6)break e;case 15:o.mode=16;case 16:if(ne=o.length){if(K<ne&&(ne=K),le<ne&&(ne=le),ne===0)break e;n.arraySet(ce,q,G,ne,de),K-=ne,G+=ne,le-=ne,de+=ne,o.length-=ne;break}o.mode=12;break;case 17:for(;F<14;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(o.nlen=257+(31&L),L>>>=5,F-=5,o.ndist=1+(31&L),L>>>=5,F-=5,o.ncode=4+(15&L),L>>>=4,F-=4,286<o.nlen||30<o.ndist){A.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;F<3;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}o.lens[Y[o.have++]]=7&L,L>>>=3,F-=3}for(;o.have<19;)o.lens[Y[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,U={bits:o.lenbits},W=c(0,o.lens,0,19,o.lencode,0,o.work,U),o.lenbits=U.bits,W){A.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;ve=(w=o.lencode[L&(1<<o.lenbits)-1])>>>16&255,Ee=65535&w,!((me=w>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(Ee<16)L>>>=me,F-=me,o.lens[o.have++]=Ee;else{if(Ee===16){for(x=me+2;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(L>>>=me,F-=me,o.have===0){A.msg="invalid bit length repeat",o.mode=30;break}r=o.lens[o.have-1],ne=3+(3&L),L>>>=2,F-=2}else if(Ee===17){for(x=me+3;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}F-=me,r=0,ne=3+(7&(L>>>=me)),L>>>=3,F-=3}else{for(x=me+7;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}F-=me,r=0,ne=11+(127&(L>>>=me)),L>>>=7,F-=7}if(o.have+ne>o.nlen+o.ndist){A.msg="invalid bit length repeat",o.mode=30;break}for(;ne--;)o.lens[o.have++]=r}}if(o.mode===30)break;if(o.lens[256]===0){A.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,U={bits:o.lenbits},W=c(s,o.lens,0,o.nlen,o.lencode,0,o.work,U),o.lenbits=U.bits,W){A.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,U={bits:o.distbits},W=c(l,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,U),o.distbits=U.bits,W){A.msg="invalid distances set",o.mode=30;break}if(o.mode=20,$===6)break e;case 20:o.mode=21;case 21:if(6<=K&&258<=le){A.next_out=de,A.avail_out=le,A.next_in=G,A.avail_in=K,o.hold=L,o.bits=F,f(A,ae),de=A.next_out,ce=A.output,le=A.avail_out,G=A.next_in,q=A.input,K=A.avail_in,L=o.hold,F=o.bits,o.mode===12&&(o.back=-1);break}for(o.back=0;ve=(w=o.lencode[L&(1<<o.lenbits)-1])>>>16&255,Ee=65535&w,!((me=w>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(ve&&(240&ve)==0){for(ke=me,Ue=ve,Ne=Ee;ve=(w=o.lencode[Ne+((L&(1<<ke+Ue)-1)>>ke)])>>>16&255,Ee=65535&w,!(ke+(me=w>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}L>>>=ke,F-=ke,o.back+=ke}if(L>>>=me,F-=me,o.back+=me,o.length=Ee,ve===0){o.mode=26;break}if(32&ve){o.back=-1,o.mode=12;break}if(64&ve){A.msg="invalid literal/length code",o.mode=30;break}o.extra=15&ve,o.mode=22;case 22:if(o.extra){for(x=o.extra;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}o.length+=L&(1<<o.extra)-1,L>>>=o.extra,F-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;ve=(w=o.distcode[L&(1<<o.distbits)-1])>>>16&255,Ee=65535&w,!((me=w>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if((240&ve)==0){for(ke=me,Ue=ve,Ne=Ee;ve=(w=o.distcode[Ne+((L&(1<<ke+Ue)-1)>>ke)])>>>16&255,Ee=65535&w,!(ke+(me=w>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}L>>>=ke,F-=ke,o.back+=ke}if(L>>>=me,F-=me,o.back+=me,64&ve){A.msg="invalid distance code",o.mode=30;break}o.offset=Ee,o.extra=15&ve,o.mode=24;case 24:if(o.extra){for(x=o.extra;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}o.offset+=L&(1<<o.extra)-1,L>>>=o.extra,F-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){A.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(le===0)break e;if(ne=ae-le,o.offset>ne){if((ne=o.offset-ne)>o.whave&&o.sane){A.msg="invalid distance too far back",o.mode=30;break}we=ne>o.wnext?(ne-=o.wnext,o.wsize-ne):o.wnext-ne,ne>o.length&&(ne=o.length),Ce=o.window}else Ce=ce,we=de-o.offset,ne=o.length;for(le<ne&&(ne=le),le-=ne,o.length-=ne;ce[de++]=Ce[we++],--ne;);o.length===0&&(o.mode=21);break;case 26:if(le===0)break e;ce[de++]=o.length,le--,o.mode=21;break;case 27:if(o.wrap){for(;F<32;){if(K===0)break e;K--,L|=q[G++]<<F,F+=8}if(ae-=le,A.total_out+=ae,o.total+=ae,ae&&(A.adler=o.check=o.flags?e(o.check,ce,ae,de-ae):i(o.check,ce,ae,de-ae)),ae=le,(o.flags?L:_(L))!==o.check){A.msg="incorrect data check",o.mode=30;break}F=L=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;F<32;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(L!==(4294967295&o.total)){A.msg="incorrect length check",o.mode=30;break}F=L=0}o.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return d}return A.next_out=de,A.avail_out=le,A.next_in=G,A.avail_in=K,o.hold=L,o.bits=F,(o.wsize||ae!==A.avail_out&&o.mode<30&&(o.mode<27||$!==4))&&oe(A,A.output,A.next_out,ae-A.avail_out)?(o.mode=31,-4):(fe-=A.avail_in,ae-=A.avail_out,A.total_in+=fe,A.total_out+=ae,o.total+=ae,o.wrap&&ae&&(A.adler=o.check=o.flags?e(o.check,ce,ae,A.next_out-ae):i(o.check,ce,ae,A.next_out-ae)),A.data_type=o.bits+(o.last?64:0)+(o.mode===12?128:0)+(o.mode===20||o.mode===15?256:0),(fe==0&&ae===0||$===4)&&W===v&&(W=-5),W)},a.inflateEnd=function(A){if(!A||!A.state)return d;var $=A.state;return $.window&&($.window=null),A.state=null,v},a.inflateGetHeader=function(A,$){var o;return A&&A.state?(2&(o=A.state).wrap)==0?d:((o.head=$).done=!1,v):d},a.inflateSetDictionary=function(A,$){var o,q=$.length;return A&&A.state?(o=A.state).wrap!==0&&o.mode!==11?d:o.mode===11&&i(1,$,q,0)!==o.check?-3:oe(A,$,q,q)?(o.mode=31,-4):(o.havedict=1,v):d},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,m,a){var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(s,l,v,d,k,E,h,_){var b,I,M,S,P,T,j,N,H,oe=_.bits,A=0,$=0,o=0,q=0,ce=0,G=0,de=0,K=0,le=0,L=0,F=null,fe=0,ae=new n.Buf16(16),ne=new n.Buf16(16),we=null,Ce=0;for(A=0;A<=15;A++)ae[A]=0;for($=0;$<d;$++)ae[l[v+$]]++;for(ce=oe,q=15;1<=q&&ae[q]===0;q--);if(q<ce&&(ce=q),q===0)return k[E++]=20971520,k[E++]=20971520,_.bits=1,0;for(o=1;o<q&&ae[o]===0;o++);for(ce<o&&(ce=o),A=K=1;A<=15;A++)if(K<<=1,(K-=ae[A])<0)return-1;if(0<K&&(s===0||q!==1))return-1;for(ne[1]=0,A=1;A<15;A++)ne[A+1]=ne[A]+ae[A];for($=0;$<d;$++)l[v+$]!==0&&(h[ne[l[v+$]]++]=$);if(T=s===0?(F=we=h,19):s===1?(F=i,fe-=257,we=e,Ce-=257,256):(F=f,we=c,-1),A=o,P=E,de=$=L=0,M=-1,S=(le=1<<(G=ce))-1,s===1&&852<le||s===2&&592<le)return 1;for(;;){for(j=A-de,H=h[$]<T?(N=0,h[$]):h[$]>T?(N=we[Ce+h[$]],F[fe+h[$]]):(N=96,0),b=1<<A-de,o=I=1<<G;k[P+(L>>de)+(I-=b)]=j<<24|N<<16|H|0,I!==0;);for(b=1<<A-1;L&b;)b>>=1;if(b!==0?(L&=b-1,L+=b):L=0,$++,--ae[A]==0){if(A===q)break;A=l[v+h[$]]}if(ce<A&&(L&S)!==M){for(de===0&&(de=ce),P+=o,K=1<<(G=A-de);G+de<q&&!((K-=ae[G+de])<=0);)G++,K<<=1;if(le+=1<<G,s===1&&852<le||s===2&&592<le)return 1;k[M=L&S]=ce<<24|G<<16|P-E|0}}return L!==0&&(k[P+L]=A-de<<24|64<<16|0),_.bits=ce,0}},{"../utils/common":41}],51:[function(t,m,a){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,m,a){var n=t("../utils/common"),i=0,e=1;function f(w){for(var z=w.length;0<=--z;)w[z]=0}var c=0,s=29,l=256,v=l+1+s,d=30,k=19,E=2*v+1,h=15,_=16,b=7,I=256,M=16,S=17,P=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=new Array(2*(v+2));f(oe);var A=new Array(2*d);f(A);var $=new Array(512);f($);var o=new Array(256);f(o);var q=new Array(s);f(q);var ce,G,de,K=new Array(d);function le(w,z,Y,J,B){this.static_tree=w,this.extra_bits=z,this.extra_base=Y,this.elems=J,this.max_length=B,this.has_stree=w&&w.length}function L(w,z){this.dyn_tree=w,this.max_code=0,this.stat_desc=z}function F(w){return w<256?$[w]:$[256+(w>>>7)]}function fe(w,z){w.pending_buf[w.pending++]=255&z,w.pending_buf[w.pending++]=z>>>8&255}function ae(w,z,Y){w.bi_valid>_-Y?(w.bi_buf|=z<<w.bi_valid&65535,fe(w,w.bi_buf),w.bi_buf=z>>_-w.bi_valid,w.bi_valid+=Y-_):(w.bi_buf|=z<<w.bi_valid&65535,w.bi_valid+=Y)}function ne(w,z,Y){ae(w,Y[2*z],Y[2*z+1])}function we(w,z){for(var Y=0;Y|=1&w,w>>>=1,Y<<=1,0<--z;);return Y>>>1}function Ce(w,z,Y){var J,B,Q=new Array(h+1),ie=0;for(J=1;J<=h;J++)Q[J]=ie=ie+Y[J-1]<<1;for(B=0;B<=z;B++){var te=w[2*B+1];te!==0&&(w[2*B]=we(Q[te]++,te))}}function me(w){var z;for(z=0;z<v;z++)w.dyn_ltree[2*z]=0;for(z=0;z<d;z++)w.dyn_dtree[2*z]=0;for(z=0;z<k;z++)w.bl_tree[2*z]=0;w.dyn_ltree[2*I]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function ve(w){8<w.bi_valid?fe(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function Ee(w,z,Y,J){var B=2*z,Q=2*Y;return w[B]<w[Q]||w[B]===w[Q]&&J[z]<=J[Y]}function ke(w,z,Y){for(var J=w.heap[Y],B=Y<<1;B<=w.heap_len&&(B<w.heap_len&&Ee(z,w.heap[B+1],w.heap[B],w.depth)&&B++,!Ee(z,J,w.heap[B],w.depth));)w.heap[Y]=w.heap[B],Y=B,B<<=1;w.heap[Y]=J}function Ue(w,z,Y){var J,B,Q,ie,te=0;if(w.last_lit!==0)for(;J=w.pending_buf[w.d_buf+2*te]<<8|w.pending_buf[w.d_buf+2*te+1],B=w.pending_buf[w.l_buf+te],te++,J===0?ne(w,B,z):(ne(w,(Q=o[B])+l+1,z),(ie=T[Q])!==0&&ae(w,B-=q[Q],ie),ne(w,Q=F(--J),Y),(ie=j[Q])!==0&&ae(w,J-=K[Q],ie)),te<w.last_lit;);ne(w,I,z)}function Ne(w,z){var Y,J,B,Q=z.dyn_tree,ie=z.stat_desc.static_tree,te=z.stat_desc.has_stree,ue=z.stat_desc.elems,ge=-1;for(w.heap_len=0,w.heap_max=E,Y=0;Y<ue;Y++)Q[2*Y]!==0?(w.heap[++w.heap_len]=ge=Y,w.depth[Y]=0):Q[2*Y+1]=0;for(;w.heap_len<2;)Q[2*(B=w.heap[++w.heap_len]=ge<2?++ge:0)]=1,w.depth[B]=0,w.opt_len--,te&&(w.static_len-=ie[2*B+1]);for(z.max_code=ge,Y=w.heap_len>>1;1<=Y;Y--)ke(w,Q,Y);for(B=ue;Y=w.heap[1],w.heap[1]=w.heap[w.heap_len--],ke(w,Q,1),J=w.heap[1],w.heap[--w.heap_max]=Y,w.heap[--w.heap_max]=J,Q[2*B]=Q[2*Y]+Q[2*J],w.depth[B]=(w.depth[Y]>=w.depth[J]?w.depth[Y]:w.depth[J])+1,Q[2*Y+1]=Q[2*J+1]=B,w.heap[1]=B++,ke(w,Q,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(pe,De){var Ye,Be,Je,be,Ge,lt,$e=De.dyn_tree,nt=De.max_code,mt=De.stat_desc.static_tree,Ot=De.stat_desc.has_stree,Ze=De.stat_desc.extra_bits,vt=De.stat_desc.extra_base,Qe=De.stat_desc.max_length,et=0;for(be=0;be<=h;be++)pe.bl_count[be]=0;for($e[2*pe.heap[pe.heap_max]+1]=0,Ye=pe.heap_max+1;Ye<E;Ye++)Qe<(be=$e[2*$e[2*(Be=pe.heap[Ye])+1]+1]+1)&&(be=Qe,et++),$e[2*Be+1]=be,nt<Be||(pe.bl_count[be]++,Ge=0,vt<=Be&&(Ge=Ze[Be-vt]),lt=$e[2*Be],pe.opt_len+=lt*(be+Ge),Ot&&(pe.static_len+=lt*(mt[2*Be+1]+Ge)));if(et!==0){do{for(be=Qe-1;pe.bl_count[be]===0;)be--;pe.bl_count[be]--,pe.bl_count[be+1]+=2,pe.bl_count[Qe]--,et-=2}while(0<et);for(be=Qe;be!==0;be--)for(Be=pe.bl_count[be];Be!==0;)nt<(Je=pe.heap[--Ye])||($e[2*Je+1]!==be&&(pe.opt_len+=(be-$e[2*Je+1])*$e[2*Je],$e[2*Je+1]=be),Be--)}}(w,z),Ce(Q,ge,w.bl_count)}function r(w,z,Y){var J,B,Q=-1,ie=z[1],te=0,ue=7,ge=4;for(ie===0&&(ue=138,ge=3),z[2*(Y+1)+1]=65535,J=0;J<=Y;J++)B=ie,ie=z[2*(J+1)+1],++te<ue&&B===ie||(te<ge?w.bl_tree[2*B]+=te:B!==0?(B!==Q&&w.bl_tree[2*B]++,w.bl_tree[2*M]++):te<=10?w.bl_tree[2*S]++:w.bl_tree[2*P]++,Q=B,ge=(te=0)===ie?(ue=138,3):B===ie?(ue=6,3):(ue=7,4))}function W(w,z,Y){var J,B,Q=-1,ie=z[1],te=0,ue=7,ge=4;for(ie===0&&(ue=138,ge=3),J=0;J<=Y;J++)if(B=ie,ie=z[2*(J+1)+1],!(++te<ue&&B===ie)){if(te<ge)for(;ne(w,B,w.bl_tree),--te!=0;);else B!==0?(B!==Q&&(ne(w,B,w.bl_tree),te--),ne(w,M,w.bl_tree),ae(w,te-3,2)):te<=10?(ne(w,S,w.bl_tree),ae(w,te-3,3)):(ne(w,P,w.bl_tree),ae(w,te-11,7));Q=B,ge=(te=0)===ie?(ue=138,3):B===ie?(ue=6,3):(ue=7,4)}}f(K);var U=!1;function x(w,z,Y,J){ae(w,(c<<1)+(J?1:0),3),function(B,Q,ie,te){ve(B),te&&(fe(B,ie),fe(B,~ie)),n.arraySet(B.pending_buf,B.window,Q,ie,B.pending),B.pending+=ie}(w,z,Y,!0)}a._tr_init=function(w){U||(function(){var z,Y,J,B,Q,ie=new Array(h+1);for(B=J=0;B<s-1;B++)for(q[B]=J,z=0;z<1<<T[B];z++)o[J++]=B;for(o[J-1]=B,B=Q=0;B<16;B++)for(K[B]=Q,z=0;z<1<<j[B];z++)$[Q++]=B;for(Q>>=7;B<d;B++)for(K[B]=Q<<7,z=0;z<1<<j[B]-7;z++)$[256+Q++]=B;for(Y=0;Y<=h;Y++)ie[Y]=0;for(z=0;z<=143;)oe[2*z+1]=8,z++,ie[8]++;for(;z<=255;)oe[2*z+1]=9,z++,ie[9]++;for(;z<=279;)oe[2*z+1]=7,z++,ie[7]++;for(;z<=287;)oe[2*z+1]=8,z++,ie[8]++;for(Ce(oe,v+1,ie),z=0;z<d;z++)A[2*z+1]=5,A[2*z]=we(z,5);ce=new le(oe,T,l+1,v,h),G=new le(A,j,0,d,h),de=new le(new Array(0),N,0,k,b)}(),U=!0),w.l_desc=new L(w.dyn_ltree,ce),w.d_desc=new L(w.dyn_dtree,G),w.bl_desc=new L(w.bl_tree,de),w.bi_buf=0,w.bi_valid=0,me(w)},a._tr_stored_block=x,a._tr_flush_block=function(w,z,Y,J){var B,Q,ie=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(te){var ue,ge=4093624447;for(ue=0;ue<=31;ue++,ge>>>=1)if(1&ge&&te.dyn_ltree[2*ue]!==0)return i;if(te.dyn_ltree[18]!==0||te.dyn_ltree[20]!==0||te.dyn_ltree[26]!==0)return e;for(ue=32;ue<l;ue++)if(te.dyn_ltree[2*ue]!==0)return e;return i}(w)),Ne(w,w.l_desc),Ne(w,w.d_desc),ie=function(te){var ue;for(r(te,te.dyn_ltree,te.l_desc.max_code),r(te,te.dyn_dtree,te.d_desc.max_code),Ne(te,te.bl_desc),ue=k-1;3<=ue&&te.bl_tree[2*H[ue]+1]===0;ue--);return te.opt_len+=3*(ue+1)+5+5+4,ue}(w),B=w.opt_len+3+7>>>3,(Q=w.static_len+3+7>>>3)<=B&&(B=Q)):B=Q=Y+5,Y+4<=B&&z!==-1?x(w,z,Y,J):w.strategy===4||Q===B?(ae(w,2+(J?1:0),3),Ue(w,oe,A)):(ae(w,4+(J?1:0),3),function(te,ue,ge,pe){var De;for(ae(te,ue-257,5),ae(te,ge-1,5),ae(te,pe-4,4),De=0;De<pe;De++)ae(te,te.bl_tree[2*H[De]+1],3);W(te,te.dyn_ltree,ue-1),W(te,te.dyn_dtree,ge-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,ie+1),Ue(w,w.dyn_ltree,w.dyn_dtree)),me(w),J&&ve(w)},a._tr_tally=function(w,z,Y){return w.pending_buf[w.d_buf+2*w.last_lit]=z>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&z,w.pending_buf[w.l_buf+w.last_lit]=255&Y,w.last_lit++,z===0?w.dyn_ltree[2*Y]++:(w.matches++,z--,w.dyn_ltree[2*(o[Y]+l+1)]++,w.dyn_dtree[2*F(z)]++),w.last_lit===w.lit_bufsize-1},a._tr_align=function(w){ae(w,2,3),ne(w,I,oe),function(z){z.bi_valid===16?(fe(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(t,m,a){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,m,a){m.exports=typeof setImmediate=="function"?setImmediate:function(){var n=[].slice.apply(arguments);n.splice(1,0,0),setTimeout.apply(null,n)}},{}]},{},[10])(10)})})(Ar);var Jt=Ar.exports,Cr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(g,u){(function(t){g.exports=t()})(function(){return function t(m,a,n){function i(c,s){if(!a[c]){if(!m[c]){var l=typeof Xe=="function"&&Xe;if(!s&&l)return l(c,!0);if(e)return e(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var d=a[c]={exports:{}};m[c][0].call(d.exports,function(k){var E=m[c][1][k];return i(E||k)},d,d.exports,t,m,a,n)}return a[c].exports}for(var e=typeof Xe=="function"&&Xe,f=0;f<n.length;f++)i(n[f]);return i}({1:[function(t,m,a){(function(n){var i=n.MutationObserver||n.WebKitMutationObserver,e;if(i){var f=0,c=new i(k),s=n.document.createTextNode("");c.observe(s,{characterData:!0}),e=function(){s.data=f=++f%2}}else if(!n.setImmediate&&typeof n.MessageChannel!="undefined"){var l=new n.MessageChannel;l.port1.onmessage=k,e=function(){l.port2.postMessage(0)}}else"document"in n&&"onreadystatechange"in n.document.createElement("script")?e=function(){var h=n.document.createElement("script");h.onreadystatechange=function(){k(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},n.document.documentElement.appendChild(h)}:e=function(){setTimeout(k,0)};var v,d=[];function k(){v=!0;for(var h,_,b=d.length;b;){for(_=d,d=[],h=-1;++h<b;)_[h]();b=d.length}v=!1}m.exports=E;function E(h){d.push(h)===1&&!v&&e()}}).call(this,typeof We!="undefined"?We:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(t,m,a){var n=t(1);function i(){}var e={},f=["REJECTED"],c=["FULFILLED"],s=["PENDING"];m.exports=l;function l(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,S!==i&&E(this,S)}l.prototype.catch=function(S){return this.then(null,S)},l.prototype.then=function(S,P){if(typeof S!="function"&&this.state===c||typeof P!="function"&&this.state===f)return this;var T=new this.constructor(i);if(this.state!==s){var j=this.state===c?S:P;d(T,j,this.outcome)}else this.queue.push(new v(T,S,P));return T};function v(S,P,T){this.promise=S,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(S){e.resolve(this.promise,S)},v.prototype.otherCallFulfilled=function(S){d(this.promise,this.onFulfilled,S)},v.prototype.callRejected=function(S){e.reject(this.promise,S)},v.prototype.otherCallRejected=function(S){d(this.promise,this.onRejected,S)};function d(S,P,T){n(function(){var j;try{j=P(T)}catch(N){return e.reject(S,N)}j===S?e.reject(S,new TypeError("Cannot resolve promise with itself")):e.resolve(S,j)})}e.resolve=function(S,P){var T=h(k,P);if(T.status==="error")return e.reject(S,T.value);var j=T.value;if(j)E(S,j);else{S.state=c,S.outcome=P;for(var N=-1,H=S.queue.length;++N<H;)S.queue[N].callFulfilled(P)}return S},e.reject=function(S,P){S.state=f,S.outcome=P;for(var T=-1,j=S.queue.length;++T<j;)S.queue[T].callRejected(P);return S};function k(S){var P=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof P=="function")return function(){P.apply(S,arguments)}}function E(S,P){var T=!1;function j(A){T||(T=!0,e.reject(S,A))}function N(A){T||(T=!0,e.resolve(S,A))}function H(){P(N,j)}var oe=h(H);oe.status==="error"&&j(oe.value)}function h(S,P){var T={};try{T.value=S(P),T.status="success"}catch(j){T.status="error",T.value=j}return T}l.resolve=_;function _(S){return S instanceof this?S:e.resolve(new this(i),S)}l.reject=b;function b(S){var P=new this(i);return e.reject(P,S)}l.all=I;function I(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=S.length,j=!1;if(!T)return this.resolve([]);for(var N=new Array(T),H=0,oe=-1,A=new this(i);++oe<T;)$(S[oe],oe);return A;function $(o,q){P.resolve(o).then(ce,function(G){j||(j=!0,e.reject(A,G))});function ce(G){N[q]=G,++H===T&&!j&&(j=!0,e.resolve(A,N))}}}l.race=M;function M(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=S.length,j=!1;if(!T)return this.resolve([]);for(var N=-1,H=new this(i);++N<T;)oe(S[N]);return H;function oe(A){P.resolve(A).then(function($){j||(j=!0,e.resolve(H,$))},function($){j||(j=!0,e.reject(H,$))})}}},{"1":1}],3:[function(t,m,a){(function(n){typeof n.Promise!="function"&&(n.Promise=t(2))}).call(this,typeof We!="undefined"?We:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(t,m,a){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};function i(p,C){if(!(p instanceof C))throw new TypeError("Cannot call a class as a function")}function e(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var f=e();function c(){try{if(!f||!f.open)return!1;var p=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),C=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!p||C)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function s(p,C){p=p||[],C=C||{};try{return new Blob(p,C)}catch(R){if(R.name!=="TypeError")throw R;for(var y=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,O=new y,D=0;D<p.length;D+=1)O.append(p[D]);return O.getBlob(C.type)}}typeof Promise=="undefined"&&t(3);var l=Promise;function v(p,C){C&&p.then(function(y){C(null,y)},function(y){C(y)})}function d(p,C,y){typeof C=="function"&&p.then(C),typeof y=="function"&&p.catch(y)}function k(p){return typeof p!="string"&&(console.warn(p+" used as a key, but it is not a string."),p=String(p)),p}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",_=void 0,b={},I=Object.prototype.toString,M="readonly",S="readwrite";function P(p){for(var C=p.length,y=new ArrayBuffer(C),O=new Uint8Array(y),D=0;D<C;D++)O[D]=p.charCodeAt(D);return y}function T(p){return new l(function(C){var y=p.transaction(h,S),O=s([""]);y.objectStore(h).put(O,"key"),y.onabort=function(D){D.preventDefault(),D.stopPropagation(),C(!1)},y.oncomplete=function(){var D=navigator.userAgent.match(/Chrome\/(\d+)/),R=navigator.userAgent.match(/Edge\//);C(R||!D||parseInt(D[1],10)>=43)}}).catch(function(){return!1})}function j(p){return typeof _=="boolean"?l.resolve(_):T(p).then(function(C){return _=C,_})}function N(p){var C=b[p.name],y={};y.promise=new l(function(O,D){y.resolve=O,y.reject=D}),C.deferredOperations.push(y),C.dbReady?C.dbReady=C.dbReady.then(function(){return y.promise}):C.dbReady=y.promise}function H(p){var C=b[p.name],y=C.deferredOperations.pop();if(y)return y.resolve(),y.promise}function oe(p,C){var y=b[p.name],O=y.deferredOperations.pop();if(O)return O.reject(C),O.promise}function A(p,C){return new l(function(y,O){if(b[p.name]=b[p.name]||F(),p.db)if(C)N(p),p.db.close();else return y(p.db);var D=[p.name];C&&D.push(p.version);var R=f.open.apply(f,D);C&&(R.onupgradeneeded=function(Z){var V=R.result;try{V.createObjectStore(p.storeName),Z.oldVersion<=1&&V.createObjectStore(h)}catch(X){if(X.name==="ConstraintError")console.warn('The database "'+p.name+'" has been upgraded from version '+Z.oldVersion+" to version "+Z.newVersion+', but the storage "'+p.storeName+'" already exists.');else throw X}}),R.onerror=function(Z){Z.preventDefault(),O(R.error)},R.onsuccess=function(){var Z=R.result;Z.onversionchange=function(V){V.target.close()},y(Z),H(p)}})}function $(p){return A(p,!1)}function o(p){return A(p,!0)}function q(p,C){if(!p.db)return!0;var y=!p.db.objectStoreNames.contains(p.storeName),O=p.version<p.db.version,D=p.version>p.db.version;if(O&&(p.version!==C&&console.warn('The database "'+p.name+`" can't be downgraded from version `+p.db.version+" to version "+p.version+"."),p.version=p.db.version),D||y){if(y){var R=p.db.version+1;R>p.version&&(p.version=R)}return!0}return!1}function ce(p){return new l(function(C,y){var O=new FileReader;O.onerror=y,O.onloadend=function(D){var R=btoa(D.target.result||"");C({__local_forage_encoded_blob:!0,data:R,type:p.type})},O.readAsBinaryString(p)})}function G(p){var C=P(atob(p.data));return s([C],{type:p.type})}function de(p){return p&&p.__local_forage_encoded_blob}function K(p){var C=this,y=C._initReady().then(function(){var O=b[C._dbInfo.name];if(O&&O.dbReady)return O.dbReady});return d(y,p,p),y}function le(p){N(p);for(var C=b[p.name],y=C.forages,O=0;O<y.length;O++){var D=y[O];D._dbInfo.db&&(D._dbInfo.db.close(),D._dbInfo.db=null)}return p.db=null,$(p).then(function(R){return p.db=R,q(p)?o(p):R}).then(function(R){p.db=C.db=R;for(var Z=0;Z<y.length;Z++)y[Z]._dbInfo.db=R}).catch(function(R){throw oe(p,R),R})}function L(p,C,y,O){O===void 0&&(O=1);try{var D=p.db.transaction(p.storeName,C);y(null,D)}catch(R){if(O>0&&(!p.db||R.name==="InvalidStateError"||R.name==="NotFoundError"))return l.resolve().then(function(){if(!p.db||R.name==="NotFoundError"&&!p.db.objectStoreNames.contains(p.storeName)&&p.version<=p.db.version)return p.db&&(p.version=p.db.version+1),o(p)}).then(function(){return le(p).then(function(){L(p,C,y,O-1)})}).catch(y);y(R)}}function F(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function fe(p){var C=this,y={db:null};if(p)for(var O in p)y[O]=p[O];var D=b[y.name];D||(D=F(),b[y.name]=D),D.forages.push(C),C._initReady||(C._initReady=C.ready,C.ready=K);var R=[];function Z(){return l.resolve()}for(var V=0;V<D.forages.length;V++){var X=D.forages[V];X!==C&&R.push(X._initReady().catch(Z))}var ee=D.forages.slice(0);return l.all(R).then(function(){return y.db=D.db,$(y)}).then(function(re){return y.db=re,q(y,C._defaultConfig.version)?o(y):re}).then(function(re){y.db=D.db=re,C._dbInfo=y;for(var se=0;se<ee.length;se++){var he=ee[se];he!==C&&(he._dbInfo.db=y.db,he._dbInfo.version=y.version)}})}function ae(p,C){var y=this;p=k(p);var O=new l(function(D,R){y.ready().then(function(){L(y._dbInfo,M,function(Z,V){if(Z)return R(Z);try{var X=V.objectStore(y._dbInfo.storeName),ee=X.get(p);ee.onsuccess=function(){var re=ee.result;re===void 0&&(re=null),de(re)&&(re=G(re)),D(re)},ee.onerror=function(){R(ee.error)}}catch(re){R(re)}})}).catch(R)});return v(O,C),O}function ne(p,C){var y=this,O=new l(function(D,R){y.ready().then(function(){L(y._dbInfo,M,function(Z,V){if(Z)return R(Z);try{var X=V.objectStore(y._dbInfo.storeName),ee=X.openCursor(),re=1;ee.onsuccess=function(){var se=ee.result;if(se){var he=se.value;de(he)&&(he=G(he));var _e=p(he,se.key,re++);_e!==void 0?D(_e):se.continue()}else D()},ee.onerror=function(){R(ee.error)}}catch(se){R(se)}})}).catch(R)});return v(O,C),O}function we(p,C,y){var O=this;p=k(p);var D=new l(function(R,Z){var V;O.ready().then(function(){return V=O._dbInfo,I.call(C)==="[object Blob]"?j(V.db).then(function(X){return X?C:ce(C)}):C}).then(function(X){L(O._dbInfo,S,function(ee,re){if(ee)return Z(ee);try{var se=re.objectStore(O._dbInfo.storeName);X===null&&(X=void 0);var he=se.put(X,p);re.oncomplete=function(){X===void 0&&(X=null),R(X)},re.onabort=re.onerror=function(){var _e=he.error?he.error:he.transaction.error;Z(_e)}}catch(_e){Z(_e)}})}).catch(Z)});return v(D,y),D}function Ce(p,C){var y=this;p=k(p);var O=new l(function(D,R){y.ready().then(function(){L(y._dbInfo,S,function(Z,V){if(Z)return R(Z);try{var X=V.objectStore(y._dbInfo.storeName),ee=X.delete(p);V.oncomplete=function(){D()},V.onerror=function(){R(ee.error)},V.onabort=function(){var re=ee.error?ee.error:ee.transaction.error;R(re)}}catch(re){R(re)}})}).catch(R)});return v(O,C),O}function me(p){var C=this,y=new l(function(O,D){C.ready().then(function(){L(C._dbInfo,S,function(R,Z){if(R)return D(R);try{var V=Z.objectStore(C._dbInfo.storeName),X=V.clear();Z.oncomplete=function(){O()},Z.onabort=Z.onerror=function(){var ee=X.error?X.error:X.transaction.error;D(ee)}}catch(ee){D(ee)}})}).catch(D)});return v(y,p),y}function ve(p){var C=this,y=new l(function(O,D){C.ready().then(function(){L(C._dbInfo,M,function(R,Z){if(R)return D(R);try{var V=Z.objectStore(C._dbInfo.storeName),X=V.count();X.onsuccess=function(){O(X.result)},X.onerror=function(){D(X.error)}}catch(ee){D(ee)}})}).catch(D)});return v(y,p),y}function Ee(p,C){var y=this,O=new l(function(D,R){if(p<0){D(null);return}y.ready().then(function(){L(y._dbInfo,M,function(Z,V){if(Z)return R(Z);try{var X=V.objectStore(y._dbInfo.storeName),ee=!1,re=X.openKeyCursor();re.onsuccess=function(){var se=re.result;if(!se){D(null);return}p===0||ee?D(se.key):(ee=!0,se.advance(p))},re.onerror=function(){R(re.error)}}catch(se){R(se)}})}).catch(R)});return v(O,C),O}function ke(p){var C=this,y=new l(function(O,D){C.ready().then(function(){L(C._dbInfo,M,function(R,Z){if(R)return D(R);try{var V=Z.objectStore(C._dbInfo.storeName),X=V.openKeyCursor(),ee=[];X.onsuccess=function(){var re=X.result;if(!re){O(ee);return}ee.push(re.key),re.continue()},X.onerror=function(){D(X.error)}}catch(re){D(re)}})}).catch(D)});return v(y,p),y}function Ue(p,C){C=E.apply(this,arguments);var y=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||y.name,p.storeName=p.storeName||y.storeName);var O=this,D;if(!p.name)D=l.reject("Invalid arguments");else{var R=p.name===y.name&&O._dbInfo.db,Z=R?l.resolve(O._dbInfo.db):$(p).then(function(V){var X=b[p.name],ee=X.forages;X.db=V;for(var re=0;re<ee.length;re++)ee[re]._dbInfo.db=V;return V});p.storeName?D=Z.then(function(V){if(!!V.objectStoreNames.contains(p.storeName)){var X=V.version+1;N(p);var ee=b[p.name],re=ee.forages;V.close();for(var se=0;se<re.length;se++){var he=re[se];he._dbInfo.db=null,he._dbInfo.version=X}var _e=new l(function(ye,Ae){var Se=f.open(p.name,X);Se.onerror=function(je){var dt=Se.result;dt.close(),Ae(je)},Se.onupgradeneeded=function(){var je=Se.result;je.deleteObjectStore(p.storeName)},Se.onsuccess=function(){var je=Se.result;je.close(),ye(je)}});return _e.then(function(ye){ee.db=ye;for(var Ae=0;Ae<re.length;Ae++){var Se=re[Ae];Se._dbInfo.db=ye,H(Se._dbInfo)}}).catch(function(ye){throw(oe(p,ye)||l.resolve()).catch(function(){}),ye})}}):D=Z.then(function(V){N(p);var X=b[p.name],ee=X.forages;V.close();for(var re=0;re<ee.length;re++){var se=ee[re];se._dbInfo.db=null}var he=new l(function(_e,ye){var Ae=f.deleteDatabase(p.name);Ae.onerror=function(){var Se=Ae.result;Se&&Se.close(),ye(Ae.error)},Ae.onblocked=function(){console.warn('dropInstance blocked for database "'+p.name+'" until all open connections are closed')},Ae.onsuccess=function(){var Se=Ae.result;Se&&Se.close(),_e(Se)}});return he.then(function(_e){X.db=_e;for(var ye=0;ye<ee.length;ye++){var Ae=ee[ye];H(Ae._dbInfo)}}).catch(function(_e){throw(oe(p,_e)||l.resolve()).catch(function(){}),_e})})}return v(D,C),D}var Ne={_driver:"asyncStorage",_initStorage:fe,_support:c(),iterate:ne,getItem:ae,setItem:we,removeItem:Ce,clear:me,length:ve,key:Ee,keys:ke,dropInstance:Ue};function r(){return typeof openDatabase=="function"}var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U="~~local_forage_type~",x=/^~~local_forage_type~([^~]+)~/,w="__lfsc__:",z=w.length,Y="arbf",J="blob",B="si08",Q="ui08",ie="uic8",te="si16",ue="si32",ge="ur16",pe="ui32",De="fl32",Ye="fl64",Be=z+Y.length,Je=Object.prototype.toString;function be(p){var C=p.length*.75,y=p.length,O,D=0,R,Z,V,X;p[p.length-1]==="="&&(C--,p[p.length-2]==="="&&C--);var ee=new ArrayBuffer(C),re=new Uint8Array(ee);for(O=0;O<y;O+=4)R=W.indexOf(p[O]),Z=W.indexOf(p[O+1]),V=W.indexOf(p[O+2]),X=W.indexOf(p[O+3]),re[D++]=R<<2|Z>>4,re[D++]=(Z&15)<<4|V>>2,re[D++]=(V&3)<<6|X&63;return ee}function Ge(p){var C=new Uint8Array(p),y="",O;for(O=0;O<C.length;O+=3)y+=W[C[O]>>2],y+=W[(C[O]&3)<<4|C[O+1]>>4],y+=W[(C[O+1]&15)<<2|C[O+2]>>6],y+=W[C[O+2]&63];return C.length%3==2?y=y.substring(0,y.length-1)+"=":C.length%3==1&&(y=y.substring(0,y.length-2)+"=="),y}function lt(p,C){var y="";if(p&&(y=Je.call(p)),p&&(y==="[object ArrayBuffer]"||p.buffer&&Je.call(p.buffer)==="[object ArrayBuffer]")){var O,D=w;p instanceof ArrayBuffer?(O=p,D+=Y):(O=p.buffer,y==="[object Int8Array]"?D+=B:y==="[object Uint8Array]"?D+=Q:y==="[object Uint8ClampedArray]"?D+=ie:y==="[object Int16Array]"?D+=te:y==="[object Uint16Array]"?D+=ge:y==="[object Int32Array]"?D+=ue:y==="[object Uint32Array]"?D+=pe:y==="[object Float32Array]"?D+=De:y==="[object Float64Array]"?D+=Ye:C(new Error("Failed to get type for BinaryArray"))),C(D+Ge(O))}else if(y==="[object Blob]"){var R=new FileReader;R.onload=function(){var Z=U+p.type+"~"+Ge(this.result);C(w+J+Z)},R.readAsArrayBuffer(p)}else try{C(JSON.stringify(p))}catch(Z){console.error("Couldn't convert value into a JSON string: ",p),C(null,Z)}}function $e(p){if(p.substring(0,z)!==w)return JSON.parse(p);var C=p.substring(Be),y=p.substring(z,Be),O;if(y===J&&x.test(C)){var D=C.match(x);O=D[1],C=C.substring(D[0].length)}var R=be(C);switch(y){case Y:return R;case J:return s([R],{type:O});case B:return new Int8Array(R);case Q:return new Uint8Array(R);case ie:return new Uint8ClampedArray(R);case te:return new Int16Array(R);case ge:return new Uint16Array(R);case ue:return new Int32Array(R);case pe:return new Uint32Array(R);case De:return new Float32Array(R);case Ye:return new Float64Array(R);default:throw new Error("Unkown type: "+y)}}var nt={serialize:lt,deserialize:$e,stringToBuffer:be,bufferToString:Ge};function mt(p,C,y,O){p.executeSql("CREATE TABLE IF NOT EXISTS "+C.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],y,O)}function Ot(p){var C=this,y={db:null};if(p)for(var O in p)y[O]=typeof p[O]!="string"?p[O].toString():p[O];var D=new l(function(R,Z){try{y.db=openDatabase(y.name,String(y.version),y.description,y.size)}catch(V){return Z(V)}y.db.transaction(function(V){mt(V,y,function(){C._dbInfo=y,R()},function(X,ee){Z(ee)})},Z)});return y.serializer=nt,D}function Ze(p,C,y,O,D,R){p.executeSql(y,O,D,function(Z,V){V.code===V.SYNTAX_ERR?Z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[C.storeName],function(X,ee){ee.rows.length?R(X,V):mt(X,C,function(){X.executeSql(y,O,D,R)},R)},R):R(Z,V)},R)}function vt(p,C){var y=this;p=k(p);var O=new l(function(D,R){y.ready().then(function(){var Z=y._dbInfo;Z.db.transaction(function(V){Ze(V,Z,"SELECT * FROM "+Z.storeName+" WHERE key = ? LIMIT 1",[p],function(X,ee){var re=ee.rows.length?ee.rows.item(0).value:null;re&&(re=Z.serializer.deserialize(re)),D(re)},function(X,ee){R(ee)})})}).catch(R)});return v(O,C),O}function Qe(p,C){var y=this,O=new l(function(D,R){y.ready().then(function(){var Z=y._dbInfo;Z.db.transaction(function(V){Ze(V,Z,"SELECT * FROM "+Z.storeName,[],function(X,ee){for(var re=ee.rows,se=re.length,he=0;he<se;he++){var _e=re.item(he),ye=_e.value;if(ye&&(ye=Z.serializer.deserialize(ye)),ye=p(ye,_e.key,he+1),ye!==void 0){D(ye);return}}D()},function(X,ee){R(ee)})})}).catch(R)});return v(O,C),O}function et(p,C,y,O){var D=this;p=k(p);var R=new l(function(Z,V){D.ready().then(function(){C===void 0&&(C=null);var X=C,ee=D._dbInfo;ee.serializer.serialize(C,function(re,se){se?V(se):ee.db.transaction(function(he){Ze(he,ee,"INSERT OR REPLACE INTO "+ee.storeName+" (key, value) VALUES (?, ?)",[p,re],function(){Z(X)},function(_e,ye){V(ye)})},function(he){if(he.code===he.QUOTA_ERR){if(O>0){Z(et.apply(D,[p,X,y,O-1]));return}V(he)}})})}).catch(V)});return v(R,y),R}function Tr(p,C,y){return et.apply(this,[p,C,y,1])}function Fr(p,C){var y=this;p=k(p);var O=new l(function(D,R){y.ready().then(function(){var Z=y._dbInfo;Z.db.transaction(function(V){Ze(V,Z,"DELETE FROM "+Z.storeName+" WHERE key = ?",[p],function(){D()},function(X,ee){R(ee)})})}).catch(R)});return v(O,C),O}function Lr(p){var C=this,y=new l(function(O,D){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){Ze(Z,R,"DELETE FROM "+R.storeName,[],function(){O()},function(V,X){D(X)})})}).catch(D)});return v(y,p),y}function Pr(p){var C=this,y=new l(function(O,D){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){Ze(Z,R,"SELECT COUNT(key) as c FROM "+R.storeName,[],function(V,X){var ee=X.rows.item(0).c;O(ee)},function(V,X){D(X)})})}).catch(D)});return v(y,p),y}function Ur(p,C){var y=this,O=new l(function(D,R){y.ready().then(function(){var Z=y._dbInfo;Z.db.transaction(function(V){Ze(V,Z,"SELECT key FROM "+Z.storeName+" WHERE id = ? LIMIT 1",[p+1],function(X,ee){var re=ee.rows.length?ee.rows.item(0).key:null;D(re)},function(X,ee){R(ee)})})}).catch(R)});return v(O,C),O}function jr(p){var C=this,y=new l(function(O,D){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){Ze(Z,R,"SELECT key FROM "+R.storeName,[],function(V,X){for(var ee=[],re=0;re<X.rows.length;re++)ee.push(X.rows.item(re).key);O(ee)},function(V,X){D(X)})})}).catch(D)});return v(y,p),y}function Mr(p){return new l(function(C,y){p.transaction(function(O){O.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(D,R){for(var Z=[],V=0;V<R.rows.length;V++)Z.push(R.rows.item(V).name);C({db:p,storeNames:Z})},function(D,R){y(R)})},function(O){y(O)})})}function $r(p,C){C=E.apply(this,arguments);var y=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||y.name,p.storeName=p.storeName||y.storeName);var O=this,D;return p.name?D=new l(function(R){var Z;p.name===y.name?Z=O._dbInfo.db:Z=openDatabase(p.name,"","",0),p.storeName?R({db:Z,storeNames:[p.storeName]}):R(Mr(Z))}).then(function(R){return new l(function(Z,V){R.db.transaction(function(X){function ee(_e){return new l(function(ye,Ae){X.executeSql("DROP TABLE IF EXISTS "+_e,[],function(){ye()},function(Se,je){Ae(je)})})}for(var re=[],se=0,he=R.storeNames.length;se<he;se++)re.push(ee(R.storeNames[se]));l.all(re).then(function(){Z()}).catch(function(_e){V(_e)})},function(X){V(X)})})}):D=l.reject("Invalid arguments"),v(D,C),D}var Wr={_driver:"webSQLStorage",_initStorage:Ot,_support:r(),iterate:Qe,getItem:vt,setItem:Tr,removeItem:Fr,clear:Lr,length:Pr,key:Ur,keys:jr,dropInstance:$r};function Zr(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Vt(p,C){var y=p.name+"/";return p.storeName!==C.storeName&&(y+=p.storeName+"/"),y}function Hr(){var p="_localforage_support_test";try{return localStorage.setItem(p,!0),localStorage.removeItem(p),!1}catch{return!0}}function qr(){return!Hr()||localStorage.length>0}function Yr(p){var C=this,y={};if(p)for(var O in p)y[O]=p[O];return y.keyPrefix=Vt(p,C._defaultConfig),qr()?(C._dbInfo=y,y.serializer=nt,l.resolve()):l.reject()}function Jr(p){var C=this,y=C.ready().then(function(){for(var O=C._dbInfo.keyPrefix,D=localStorage.length-1;D>=0;D--){var R=localStorage.key(D);R.indexOf(O)===0&&localStorage.removeItem(R)}});return v(y,p),y}function Gr(p,C){var y=this;p=k(p);var O=y.ready().then(function(){var D=y._dbInfo,R=localStorage.getItem(D.keyPrefix+p);return R&&(R=D.serializer.deserialize(R)),R});return v(O,C),O}function Vr(p,C){var y=this,O=y.ready().then(function(){for(var D=y._dbInfo,R=D.keyPrefix,Z=R.length,V=localStorage.length,X=1,ee=0;ee<V;ee++){var re=localStorage.key(ee);if(re.indexOf(R)===0){var se=localStorage.getItem(re);if(se&&(se=D.serializer.deserialize(se)),se=p(se,re.substring(Z),X++),se!==void 0)return se}}});return v(O,C),O}function Kr(p,C){var y=this,O=y.ready().then(function(){var D=y._dbInfo,R;try{R=localStorage.key(p)}catch{R=null}return R&&(R=R.substring(D.keyPrefix.length)),R});return v(O,C),O}function Xr(p){var C=this,y=C.ready().then(function(){for(var O=C._dbInfo,D=localStorage.length,R=[],Z=0;Z<D;Z++){var V=localStorage.key(Z);V.indexOf(O.keyPrefix)===0&&R.push(V.substring(O.keyPrefix.length))}return R});return v(y,p),y}function Qr(p){var C=this,y=C.keys().then(function(O){return O.length});return v(y,p),y}function en(p,C){var y=this;p=k(p);var O=y.ready().then(function(){var D=y._dbInfo;localStorage.removeItem(D.keyPrefix+p)});return v(O,C),O}function tn(p,C,y){var O=this;p=k(p);var D=O.ready().then(function(){C===void 0&&(C=null);var R=C;return new l(function(Z,V){var X=O._dbInfo;X.serializer.serialize(C,function(ee,re){if(re)V(re);else try{localStorage.setItem(X.keyPrefix+p,ee),Z(R)}catch(se){(se.name==="QuotaExceededError"||se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&V(se),V(se)}})})});return v(D,y),D}function rn(p,C){if(C=E.apply(this,arguments),p=typeof p!="function"&&p||{},!p.name){var y=this.config();p.name=p.name||y.name,p.storeName=p.storeName||y.storeName}var O=this,D;return p.name?D=new l(function(R){p.storeName?R(Vt(p,O._defaultConfig)):R(p.name+"/")}).then(function(R){for(var Z=localStorage.length-1;Z>=0;Z--){var V=localStorage.key(Z);V.indexOf(R)===0&&localStorage.removeItem(V)}}):D=l.reject("Invalid arguments"),v(D,C),D}var nn={_driver:"localStorageWrapper",_initStorage:Yr,_support:Zr(),iterate:Vr,getItem:Gr,setItem:tn,removeItem:en,clear:Jr,length:Qr,key:Kr,keys:Xr,dropInstance:rn},an=function(C,y){return C===y||typeof C=="number"&&typeof y=="number"&&isNaN(C)&&isNaN(y)},on=function(C,y){for(var O=C.length,D=0;D<O;){if(an(C[D],y))return!0;D++}return!1},Kt=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},ct={},Xt={},it={INDEXEDDB:Ne,WEBSQL:Wr,LOCALSTORAGE:nn},sn=[it.INDEXEDDB._driver,it.WEBSQL._driver,it.LOCALSTORAGE._driver],_t=["dropInstance"],zt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(_t),un={description:"",driver:sn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fn(p,C){p[C]=function(){var y=arguments;return p.ready().then(function(){return p[C].apply(p,y)})}}function Dt(){for(var p=1;p<arguments.length;p++){var C=arguments[p];if(C)for(var y in C)C.hasOwnProperty(y)&&(Kt(C[y])?arguments[0][y]=C[y].slice():arguments[0][y]=C[y])}return arguments[0]}var ln=function(){function p(C){i(this,p);for(var y in it)if(it.hasOwnProperty(y)){var O=it[y],D=O._driver;this[y]=D,ct[D]||this.defineDriver(O)}this._defaultConfig=Dt({},un),this._config=Dt({},this._defaultConfig,C),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return p.prototype.config=function(y){if((typeof y=="undefined"?"undefined":n(y))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var O in y){if(O==="storeName"&&(y[O]=y[O].replace(/\W/g,"_")),O==="version"&&typeof y[O]!="number")return new Error("Database version must be a number.");this._config[O]=y[O]}return"driver"in y&&y.driver?this.setDriver(this._config.driver):!0}else return typeof y=="string"?this._config[y]:this._config},p.prototype.defineDriver=function(y,O,D){var R=new l(function(Z,V){try{var X=y._driver,ee=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!y._driver){V(ee);return}for(var re=zt.concat("_initStorage"),se=0,he=re.length;se<he;se++){var _e=re[se],ye=!on(_t,_e);if((ye||y[_e])&&typeof y[_e]!="function"){V(ee);return}}var Ae=function(){for(var dt=function(hn){return function(){var pn=new Error("Method "+hn+" is not implemented by the current driver"),Qt=l.reject(pn);return v(Qt,arguments[arguments.length-1]),Qt}},Nt=0,dn=_t.length;Nt<dn;Nt++){var Bt=_t[Nt];y[Bt]||(y[Bt]=dt(Bt))}};Ae();var Se=function(dt){ct[X]&&console.info("Redefining LocalForage driver: "+X),ct[X]=y,Xt[X]=dt,Z()};"_support"in y?y._support&&typeof y._support=="function"?y._support().then(Se,V):Se(!!y._support):Se(!0)}catch(je){V(je)}});return d(R,O,D),R},p.prototype.driver=function(){return this._driver||null},p.prototype.getDriver=function(y,O,D){var R=ct[y]?l.resolve(ct[y]):l.reject(new Error("Driver not found."));return d(R,O,D),R},p.prototype.getSerializer=function(y){var O=l.resolve(nt);return d(O,y),O},p.prototype.ready=function(y){var O=this,D=O._driverSet.then(function(){return O._ready===null&&(O._ready=O._initDriver()),O._ready});return d(D,y,y),D},p.prototype.setDriver=function(y,O,D){var R=this;Kt(y)||(y=[y]);var Z=this._getSupportedDrivers(y);function V(){R._config.driver=R.driver()}function X(se){return R._extend(se),V(),R._ready=R._initStorage(R._config),R._ready}function ee(se){return function(){var he=0;function _e(){for(;he<se.length;){var ye=se[he];return he++,R._dbInfo=null,R._ready=null,R.getDriver(ye).then(X).catch(_e)}V();var Ae=new Error("No available storage method found.");return R._driverSet=l.reject(Ae),R._driverSet}return _e()}}var re=this._driverSet!==null?this._driverSet.catch(function(){return l.resolve()}):l.resolve();return this._driverSet=re.then(function(){var se=Z[0];return R._dbInfo=null,R._ready=null,R.getDriver(se).then(function(he){R._driver=he._driver,V(),R._wrapLibraryMethodsWithReady(),R._initDriver=ee(Z)})}).catch(function(){V();var se=new Error("No available storage method found.");return R._driverSet=l.reject(se),R._driverSet}),d(this._driverSet,O,D),this._driverSet},p.prototype.supports=function(y){return!!Xt[y]},p.prototype._extend=function(y){Dt(this,y)},p.prototype._getSupportedDrivers=function(y){for(var O=[],D=0,R=y.length;D<R;D++){var Z=y[D];this.supports(Z)&&O.push(Z)}return O},p.prototype._wrapLibraryMethodsWithReady=function(){for(var y=0,O=zt.length;y<O;y++)fn(this,zt[y])},p.prototype.createInstance=function(y){return new p(y)},p}(),cn=new ln;m.exports=cn},{"3":3}]},{},[4])(4)})})(Cr);var Ir=Cr.exports;class Rr{constructor(){at(this,"file","")}write(u){this.file+=u}}function qe(g,u,t,m){u[g]&&m.write(t)}class Gt{constructor(){at(this,"tmp");at(this,"docLinks");this.tmp=Ir.createInstance({name:"file_cache"}),this.docLinks=new Map}stringMul(u,t){let m=u;for(let a=0;a<t-1;a++)m+=u;return m}convertele(u,t){var m,a,n;if(u.type=="textRun"){let i=u.textRun;if(i.style){let e=i.style;if(qe("link",e,"[",t),qe("codeInline",e,"`",t),qe("bold",e,"**",t),qe("italic",e,"*",t),t.write(i.text),qe("codeInline",e,"`",t),qe("bold",e,"**",t),qe("italic",e,"*",t),qe("link",e,"](",t),e.link){let f=decodeURIComponent(e.link.url);qe("link",e,f,t)}qe("link",e,")",t)}else t.write(i.text)}else if(u.type=="equation")t.write("$$"),t.write(u.equation.equation),t.write(`$$
`);else if(u.type=="docsLink"){let i=new RegExp("https://\\w*.feishu.cn/((wiki)|(docs))/\\w+(?<id>#\\w+)"),e=u.docsLink.url;if(i.test(e)){let f=(n=(a=(m=i.exec(e))==null?void 0:m.groups)==null?void 0:a.id)!=null?n:"";t.write(`[${f}](${f})`)}}}async convertPara(u,t,m,a){let n=u.body.blocks;for(let i of n)if(i.type=="paragraph"){let e=i.paragraph,f=e.lineId,c=e.elements;if(e.style){const s=e.style;s.headingLevel?(t.write(this.stringMul("#",s.headingLevel)),t.write(" ")):f=null,s.list&&s.list.type==="checkbox"&&t.write("- [ ] "),s.list&&s.list.type==="bullet"&&t.write("- "),s.list&&s.list.type==="number"&&t.write(JSON.stringify(s.list.number)+". "),s.quote&&t.write("> ")}else f=null;for(let s of c){f&&t.write(`<span id="${f}">`);let l=new Rr;this.convertele(s,l),t.write(l.file),f&&(this.docLinks.set(f,l.file),t.write("</span>"))}t.write(`

`)}else if(i.type=="code"){let e=i.code;t.write("```"),t.write(e.language),t.write(`
`),await this.convertPara(e,t,m,a),t.write("```\n\n")}else if(i.type=="gallery"){let e=i.gallery.imageList;for(let f of e){let c=f.fileToken,s=await this.downloadAsset(c,m,a);t.write(`![](assets/${s})

`)}}else i.type=="horizontalLine"?t.write(`
---

`):i.type=="callout"&&this.convertPara(i.callout,t,m,a)}async convert(u,t,m){let a=new Rr;await this.convertPara(m,a,u,t);for(const n of this.docLinks){let[i,e]=n;a.file=Li(a.file,`\\[#${i}\\]\\(#${i}\\)`,`[${e}](#${i})`)}return a}async downloadAsset(u,t,m){var i,e;let a=await this.tmp.getItem(u),n="";if(a){let f=a.mime;f=="image/png"?n=".png":(f=="image/jpeg"||f=="image/jpg")&&(n=".jpg"),(i=m.folder("assets"))==null||i.file(u+n,a.data)}else{let f=await Pe.get(Me(`/drive/v1/medias/${u}/download`),{headers:{Authorization:"Bearer "+t},responseType:"arraybuffer"}),c=f.headers["content-type"];c=="image/png"?n=".png":(c=="image/jpeg"||c=="image/jpg")&&(n=".jpg");const s=new Uint8Array(f.data);(e=m.folder("assets"))==null||e.file(u+n,s),await this.tmp.setItem(u,{mime:c,data:s})}return u+n}}function Li(g,u,t){var m=new RegExp(u,"g");return g.replace(m,t)}var Or={baseUrl:"https://service-ibnu7eg1-1258264812.sh.apigw.tencentcs.com/release/proxy/",baseUrl_noauth:"https://service-ibnu7eg1-1258264812.sh.apigw.tencentcs.com/release/proxy_noauth/"};function zr(g,u){return g==null||g===""?u:g}var Dr;(function(g){g[g.left=1]="left",g[g.center=2]="center",g[g.right=3]="right"})(Dr||(Dr={}));function ze(g){let u="";for(const t of g)if(t.text_run){let m=t.text_run.content,a=t.text_run.text_element_style;a.link&&(m=`[${m}](${decodeURIComponent(a.link.url)})`),a.bold&&(m="**"+m+"**"),a.italic&&(m="*"+m+"*"),a.inline_code&&(m="`"+m+"`"),u+=m}else t.equation&&(u+="$"+t.equation.content+"$");return u}async function pt(g,u,t,m,a){let n="",i=0;for(const e of u){if(e.parent_id!=g)continue;i!=e.block_type&&(i!=0&&(n+=`
`),i=0);let f=`

`,c="";switch(a&&(c=a+c,f=`
`),e.block_type){case xe.page:{const s=e;c+="# "+ze(s.page.elements)+`

`,c+=await pt(s.block_id,u,t,m)}break;case xe.text:{c+=ze(e.text.elements)+f;break}case xe.code:{const s=e,l=s.code.style.language<=Br.length?Br[s.code.style.language-1]:"";c+="```"+l+`
`+ze(s.code.elements)+"\n```\n\n";break}case xe.h1:{c+="# "+ze(e.heading1.elements)+`

`;break}case xe.h2:{c+="## "+ze(e.heading2.elements)+`

`;break}case xe.h3:{c+="### "+ze(e.heading3.elements)+`

`;break}case xe.h4:{c+="#### "+ze(e.heading4.elements)+`

`;break}case xe.h5:{c+="##### "+ze(e.heading5.elements)+`

`;break}case xe.h6:{c+="###### "+ze(e.heading6.elements)+`

`;break}case xe.h7:{c+="####### "+ze(e.heading7.elements)+`

`;break}case xe.h8:{c+="######## "+ze(e.heading8.elements)+`

`;break}case xe.h9:{c+="######### "+ze(e.heading9.elements)+`

`;break}case xe.todo:{i=xe.todo;const s=e.todo;s.style.done?c+="[x] "+ze(s.elements)+`
`:c+="[ ] "+ze(s.elements)+`
`;break}case xe.orderList:{i=xe.orderList;const s=e.ordered;c+="1. "+ze(s.elements)+`
`;break}case xe.unorderList:{i=xe.unorderList;const s=e.bullet;c+="* "+ze(s.elements)+`
`;break}case xe.quote:{i=xe.quote;const s=e.children;c+=await pt(e.block_id,u.filter(l=>s.includes(l.block_id)),t,m,"> ")+`
`;break}case xe.image:{c+=`![](assets/${await Pi(e.image.token,m,t)})

`;break}}n+=c}return n}const Nr=Ir.createInstance({name:"file_cache"});async function Pi(g,u,t){var n,i;let m=await Nr.getItem(g),a="";if(m){let e=m.mime;e=="image/png"?a=".png":(e=="image/jpeg"||e=="image/jpg")&&(a=".jpg"),(n=t.folder("assets"))==null||n.file(g+a,m.data)}else{let e=await Pe.get(Me(`/drive/v1/medias/${g}/download`),{headers:{Authorization:"Bearer "+u},responseType:"arraybuffer"}),f=e.headers["content-type"];f=="image/png"?a=".png":(f=="image/jpeg"||f=="image/jpg")&&(a=".jpg");const c=new Uint8Array(e.data);(i=t.folder("assets"))==null||i.file(g+a,c),await Nr.setItem(g,{mime:f,data:c})}return g+a}var xe;(function(g){g[g.page=1]="page",g[g.text=2]="text",g[g.h1=3]="h1",g[g.h2=4]="h2",g[g.h3=5]="h3",g[g.h4=6]="h4",g[g.h5=7]="h5",g[g.h6=8]="h6",g[g.h7=9]="h7",g[g.h8=10]="h8",g[g.h9=11]="h9",g[g.unorderList=12]="unorderList",g[g.orderList=13]="orderList",g[g.code=14]="code",g[g.ref=15]="ref",g[g.math=16]="math",g[g.todo=17]="todo",g[g.mutiSheet=18]="mutiSheet",g[g.hightlight=19]="hightlight",g[g.talk=20]="talk",g[g.uml=21]="uml",g[g.line=22]="line",g[g.file=23]="file",g[g.col=24]="col",g[g.cols=25]="cols",g[g.inline=26]="inline",g[g.image=27]="image",g[g.widget=28]="widget",g[g.note=29]="note",g[g.esheet=30]="esheet",g[g.sheet=31]="sheet",g[g.sheetBlock=32]="sheetBlock",g[g.view=33]="view",g[g.quote=34]="quote",g[g.unsupport=999]="unsupport"})(xe||(xe={}));const Br=["PlainText","BAP","da","pache","pex","ssembly Language","ash","Sharp","++","C","COBOL","CSS","CoffeeScript","D","Dart","Delphi","Django","Dockerfile","Erlang","Fortran","FoxPro","Go","Groovy","HTML","HTMLBars","HTTP","Haskell","JSON","Java","JavaScript","Julia","Kotlin","LateX","Lisp","Logo","Lua","MATLAB","Makefile","Markdown","Nginx","Objective-C","OpenEdgeABL","PHP","Perl","PostScript","Power Shell","Prolog","ProtoBuf","Python","R","RPG","Ruby","Rust","SAS","SCSS","SQL","Scala","Scheme","Scratch","Shell","Swift","Thrift","TypeScript","VBScript","Visual Basic","XML","YAML"];function Me(g){return Or.baseUrl+g}function Ui(g){return Or.baseUrl_noauth+g}class ji{constructor(u){at(this,"convert",!0);at(this,"downloadingCallback");this.downloadingCallback=u}async get_root_folder(u){return(await Pe.get(Me("/drive/explorer/v2/root_folder/meta"),{headers:{Authorization:`Bearer ${u}`}})).data.data}async app_login(u,t){return(await Pe.post(Ui("/auth/v3/tenant_access_token/internal/"),{app_id:u,app_secret:t})).data.tenant_access_token}async user_login(u,t){var a;let m=await Pe.post(Me("/authen/v1/access_token"),{grant_type:"authorization_code",code:u},{headers:{Authorization:`Bearer ${t}`}});return((a=m.data)==null?void 0:a.code)&&console.log(m.data),m.data.data}async get_folder_meta(u,t){return(await Pe.get(Me(`/drive/explorer/v2/folder/${u}/meta`),{headers:{Authorization:`Bearer ${t}`}})).data.data}async get_files_in_folder(u,t){return(await Pe.get(Me(`/drive/explorer/v2/folder/${u}/children`),{headers:{Authorization:`Bearer ${t}`}})).data.data}async get_doc(u,t){return(await Pe.get(Me(`/doc/v2/${u}/content`),{headers:{Authorization:`Bearer ${t}`}})).data.data}async get_docx_next(u,t,m){const n=(await Pe.get(Me(`/docx/v1/documents/${u}/blocks?page_token=${m}`),{headers:{Authorization:`Bearer ${t}`}})).data.data;let i=n.items;if(n.has_more){const e=n.page_token,f=await this.get_docx_next(u,t,e);i=[...i,...f]}return i}async get_docx(u,t){const a=(await Pe.get(Me(`/docx/v1/documents/${u}/blocks`),{headers:{Authorization:`Bearer ${t}`}})).data.data;let n=a.items;if(a.has_more){const i=a.page_token,e=await this.get_docx_next(u,t,i);n=[...n,...e]}return n}async get_all_docs(u,t){const m=new Jt,a=new Gt;this.convert=t;const n=await this.get_root_folder(u);return await this._r_docs_in_folder(n.token,u,m,a),await m.generateAsync({type:"blob"})}zipfileName(u,t,m){let a=zr(u,"\u672A\u547D\u540D\u6587\u6863"),n=1,i="";for(;t.file(a+i+m);)i=String(n),n+=1;return a=a+i+m,a}async get_some_docs(u,t,m=!0){var i,e;const a=new Jt,n=new Gt;this.convert=m;for(const f of t){let c=JSON.parse(f),s=a;for(const l of c.path)s=s.folder(l);if(c.type==="doc"){const l=(await this.get_doc(c.token,u)).content;let v=JSON.parse(l),d=this.zipfileName(c.name,s,this.convert?".md":".json");this.convert?s.file(d,(await n.convert(u,s,v)).file):s.file(d,l),(i=this.downloadingCallback)==null||i.call(this,d)}else if(c.type==="docx"){const l=await this.get_docx(c.token,u);let v=this.zipfileName(c.name,s,".json"),d=this.zipfileName(c.name,s,".md");s.file(v,JSON.stringify(l));try{s.file(d,await pt("",l,s,u))}catch(k){console.error(k)}(e=this.downloadingCallback)==null||e.call(this,v)}}return await a.generateAsync({type:"blob"})}async _r_docs_in_folder(u,t,m,a){var i,e;const n=await this.get_files_in_folder(u,t);for(let f in n.children){const c=n.children[f];if(c.type==="doc"){const s=(await this.get_doc(c.token,t)).content;let l=JSON.parse(s),v=this.zipfileName(c.name,m,this.convert?".md":".json");this.convert?m.file(v,(await a.convert(t,m,l)).file):m.file(v,s),(i=this.downloadingCallback)==null||i.call(this,c.name)}else if(c.type==="folder"){const s=m.folder(c.name);await this._r_docs_in_folder(c.token,t,s,a)}else if(c.type==="docx"){const s=await this.get_docx(c.token,t);let l=this.zipfileName(c.name,m,".json");m.file(l,JSON.stringify(s));let v=this.zipfileName(c.name,m,".md");try{m.file(v,await pt("",s,m,t))}catch(d){console.error(d)}(e=this.downloadingCallback)==null||e.call(this,c.name)}}}async get_all_docs_under_folder(u,t,m){let a=[],n=JSON.parse(t);const i=await this.get_files_in_folder(n.token,u),e=[];for(let f in i.children){const c=i.children[f];if(c.type==="doc"||c.type==="docx"){let s={token:c.token,path:[...n.path],name:c.name,type:c.type};a.push({label:zr(c.name,"\u672A\u547D\u540D\u6587\u6863"),value:JSON.stringify(s),isLeaf:!0,depth:m+1})}else if(c.type==="folder"){const s=async()=>{let l=(await this.get_folder_meta(c.token,u)).name,v={token:c.token,path:[...n.path,l],name:"",type:c.type};a.push({label:l,value:JSON.stringify(v),isLeaf:!1,depth:m+1})};e.push(s())}}return await Promise.all(e),a}async get_all_docs_list(u){let m={token:(await this.get_root_folder(u)).token,path:[],name:"",type:"root"};return await this.get_all_docs_under_folder(u,JSON.stringify(m),0)}async get_wiki_list(u,t){const a=(await Pe.get(Me(`/wiki/v2/spaces?page_size=10${t?"&page_token="+t:""}`),{headers:{Authorization:`Bearer ${u}`}})).data.data;let n=a.items;return a.has_more&&(n=[...n,...await this.get_wiki_list(u,a.page_token)]),n}async get_wiki_nodes_root(u,t,m){const n=(await Pe.get(Me(`/wiki/v2/spaces/${t}/nodes?page_size=50${m?"&page_token="+m:""}`),{headers:{Authorization:`Bearer ${u}`}})).data.data;let i=n.items;return n.has_more&&(i=[...i,...await this.get_wiki_nodes_root(u,t,n.page_token)]),i}async get_wiki_nodes(u,t,m,a){const i=(await Pe.get(Me(`/wiki/v2/spaces/${t}/nodes?page_size=50&parent_node_token=${m}${a?"&page_token="+a:""}`),{headers:{Authorization:`Bearer ${u}`}})).data.data;let e=i.items;return i.has_more&&(e=[...e,...await this.get_wiki_nodes(u,t,i.page_token)]),e}async get_all_wiki_in_space(u,t,m){const a=new Jt,n=new Gt;this.convert=m;const i=await this.get_wiki_nodes_root(u,t);return await this._r_get_all_wiki_in_space(u,t,i,a,n),await a.generateAsync({type:"blob"})}async _r_get_all_wiki_in_space(u,t,m,a,n){var i,e;for(let f of m){if(f.has_child){let c=a.folder(f.title),s=await this.get_wiki_nodes(u,t,f.node_token);await this._r_get_all_wiki_in_space(u,t,s,c,n)}if(f.obj_type==="doc"){const c=(await this.get_doc(f.obj_token,u)).content;let s=JSON.parse(c),l=this.zipfileName(f.title,a,this.convert?".md":".json");this.convert?a.file(l,(await n.convert(u,a,s)).file):a.file(l,c),(i=this.downloadingCallback)==null||i.call(this,l)}else if(f.obj_type==="docx"){const c=await this.get_docx(f.obj_token,u);let s=this.zipfileName(f.title,a,".json");a.file(s,JSON.stringify(c));let l=this.zipfileName(f.title,a,".md");try{a.file(l,await pt("",c,a,u))}catch(v){console.error(v)}(e=this.downloadingCallback)==null||e.call(this,f.title)}else console.warn("Not Impl doc type: "+f.obj_type)}}}var Rt={exports:{}};(function(g,u){(function(t,m){m()})(We,function(){function t(c,s){return typeof s=="undefined"?s={autoBom:!1}:typeof s!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function m(c,s,l){var v=new XMLHttpRequest;v.open("GET",c),v.responseType="blob",v.onload=function(){f(v.response,s,l)},v.onerror=function(){console.error("could not download file")},v.send()}function a(c){var s=new XMLHttpRequest;s.open("HEAD",c,!1);try{s.send()}catch{}return 200<=s.status&&299>=s.status}function n(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(s)}}var i=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof We=="object"&&We.global===We?We:void 0,e=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=i.saveAs||(typeof window!="object"||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!e?function(c,s,l){var v=i.URL||i.webkitURL,d=document.createElement("a");s=s||c.name||"download",d.download=s,d.rel="noopener",typeof c=="string"?(d.href=c,d.origin===location.origin?n(d):a(d.href)?m(c,s,l):n(d,d.target="_blank")):(d.href=v.createObjectURL(c),setTimeout(function(){v.revokeObjectURL(d.href)},4e4),setTimeout(function(){n(d)},0))}:"msSaveOrOpenBlob"in navigator?function(c,s,l){if(s=s||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(t(c,l),s);else if(a(c))m(c,s,l);else{var v=document.createElement("a");v.href=c,v.target="_blank",setTimeout(function(){n(v)})}}:function(c,s,l,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof c=="string")return m(c,s,l);var d=c.type==="application/octet-stream",k=/constructor/i.test(i.HTMLElement)||i.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||d&&k||e)&&typeof FileReader!="undefined"){var h=new FileReader;h.onloadend=function(){var I=h.result;I=E?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=I:location=I,v=null},h.readAsDataURL(c)}else{var _=i.URL||i.webkitURL,b=_.createObjectURL(c);v?v.location=b:location.href=b,v=null,setTimeout(function(){_.revokeObjectURL(b)},4e4)}});i.saveAs=f.saveAs=f,g.exports=f})})(Rt);function Mi(g,u){const t=window.localStorage.getItem(g),m=Ve(t?JSON.parse(t):u);return{value:m,setValue:a=>{m.value=a,window.localStorage.setItem(g,JSON.stringify(a))}}}const $i={class:"main-stage"},Wi=Ke("\u4E0B\u8F7D\u4E91\u7A7A\u95F4\u6587\u6863"),Zi=Ke("\u4E0B\u8F7D\u77E5\u8BC6\u5E93\u6587\u6863"),Hi={style:{padding:"10px"}},qi=Ke("\u4E0B\u8F7D\u6240\u6709\u6587\u4EF6"),Yi=Ke("\u4E0B\u8F7D\u9009\u4E2D\u6587\u4EF6"),Ji=Ke("\u4E0B\u8F7D"),Gi=Ke("\u4E0B\u8F7D\u4E2D"),Vi=Ke("\u5B8C\u6210"),ea=_n({setup(g){let u=gn(),{app_id:t,app_secret:m}=u.params,a=u.query.code;const n=yn(),i=bn(),e=Ve("");!a&&u.query.access_token&&(e.value=u.query.access_token);const f=Ve([]),c=new ji(j=>{f.value.push(j)}),s=Mi("convert_md",!0),l=Ve(!1),v=Ve("none"),d=Ve(),k=Ve(null);wn(async()=>{if(a){t=t,m=m;const j=await c.app_login(t,m);e.value=(await c.user_login(a,j)).access_token;let N=window.location;window.location.replace(`${N.origin}${N.pathname}#/backup/${t}/${m}?access_token=${e.value}`),console.log(e.value)}});const E=async()=>{S();try{v.value="docs",d.value=await c.get_all_docs_list(e.value)}catch(j){console.error(j),n.error("\u4E0B\u8F7D\u9519\u8BEF")}P()},h=async()=>{if(!k.value)return;S();let j=k.value;const N=await c.get_some_docs(e.value,j,!0);Rt.exports.saveAs(N,"feishu_docs_"+new Date().toDateString()+"_backup.zip"),P()},_=()=>{i.warning({title:"\u8B66\u544A",content:"\u4E0B\u8F7D\u6240\u6709\u6587\u4EF6\u53EF\u80FD\u8017\u65F6\u8F83\u957F\uFF0C\u63A8\u8350\u4EC5\u9009\u62E9\u6240\u9700\u6587\u4EF6\u4E0B\u8F7D\u3002\u662F\u5426\u7EE7\u7EED\u4E0B\u8F7D\u5168\u90E8\u6587\u4EF6\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u4E0D\u786E\u5B9A",onPositiveClick:async()=>{S();try{const j=await c.get_all_docs(e.value,s.value.value);Rt.exports.saveAs(j,"backup.zip")}catch(j){console.error(j),n.error("\u4E0B\u8F7D\u9519\u8BEF")}P()},onNegativeClick:()=>{}})},b=Ve([]),I=async()=>{v.value="wiki";const j=await c.get_wiki_list(e.value);b.value=j},M=async(j,N)=>{S();try{const H=await c.get_all_wiki_in_space(e.value,j,!0);Rt.exports.saveAs(H,N+"_backup.zip")}catch(H){console.error(H),n.error("\u4E0B\u8F7D\u9519\u8BEF")}P()},S=()=>{f.value=[],l.value=!0},P=()=>{l.value=!1},T=async j=>{const N=await c.get_all_docs_under_folder(e.value,j.value,j.depth);j.children=N};return(j,N)=>(tt(),gt(Ft,null,[er("div",$i,[Te(Oe(yt),{justify:"space-around"},{default:Ie(()=>[Te(Oe(ot),{strong:"",secondary:"",round:"",type:"primary",onClick:E},{default:Ie(()=>[Wi]),_:1}),Te(Oe(ot),{strong:"",secondary:"",round:"",type:"primary",onClick:I},{default:Ie(()=>[Zi]),_:1})]),_:1}),er("div",Hi,[v.value==="docs"?(tt(),Tt(Oe(yt),{key:0,vertical:""},{default:Ie(()=>[Te(Oe(xn),{value:k.value,"onUpdate:value":N[0]||(N[0]=H=>k.value=H),multiple:"",options:d.value,cascade:!0,"check-strategy":"child","show-path":!1,remote:"","on-load":T,placeholder:"\u9009\u62E9\u6587\u4EF6"},null,8,["value","options"]),Te(Oe(yt),{justify:"space-around"},{default:Ie(()=>[Te(Oe(ot),{strong:"",secondary:"",type:"warning",onClick:_},{default:Ie(()=>[qi]),_:1}),Te(Oe(ot),{strong:"",secondary:"",type:"info",onClick:h},{default:Ie(()=>[Yi]),_:1})]),_:1})]),_:1})):tr("",!0),v.value==="wiki"?(tt(),Tt(Oe(yt),{key:1,justify:"space-around"},{default:Ie(()=>[Te(Oe(Sn),{bordered:""},{default:Ie(()=>[(tt(!0),gt(Ft,null,rr(b.value,H=>(tt(),Tt(Oe(An),{key:H.space_id},{suffix:Ie(()=>[Te(Oe(ot),{onClick:oe=>M(H.space_id,H.name)},{default:Ie(()=>[Ji]),_:2},1032,["onClick"])]),default:Ie(()=>[Te(Oe(Cn),{title:H.name},{default:Ie(()=>[Ke(nr(H.description),1)]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1})]),_:1})):tr("",!0)])]),Te(Oe(kn),{show:l.value,"onUpdate:show":N[1]||(N[1]=H=>l.value=H),"mask-closable":!1,title:"\u4E0B\u8F7D\u4E2D",onPositiveClick:P,size:"huge",style:{width:"400px",maxHeight:"600px"}},{default:Ie(()=>[Te(Oe(En),null,{header:Ie(()=>[Gi]),footer:Ie(()=>[Te(Oe(ot),{loading:l.value},{default:Ie(()=>[Vi]),_:1},8,["loading"])]),default:Ie(()=>[(tt(!0),gt(Ft,null,rr(f.value,H=>(tt(),gt("p",null,nr(H),1))),256))]),_:1})]),_:1},8,["show"])],64))}});export{ea as default};
