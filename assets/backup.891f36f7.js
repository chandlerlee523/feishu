var gn=Object.defineProperty;var yn=(y,o,e)=>o in y?gn(y,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):y[o]=e;var ot=(y,o,e)=>(yn(y,typeof o!="symbol"?o+"":o,e),e);import{h as Ve,d as bn,i as wn,j as kn,k as xn,l as Sn,o as tt,m as gt,n as Ft,a as Te,u as Oe,p as yt,w as Ie,c as Lt,q as nr,s as En,F as Pt,t as st,v as An,x as Cn,y as ir,z as In,A as Ke,B as Rn,C as ar,D as On}from"./vendor.0a78e01d.js";var We=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Xe(y){throw new Error('Could not dynamically require "'+y+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ut={exports:{}},or=function(o,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return o.apply(e,i)}},Dn=or,rt=Object.prototype.toString;function jt(y){return rt.call(y)==="[object Array]"}function Mt(y){return typeof y=="undefined"}function zn(y){return y!==null&&!Mt(y)&&y.constructor!==null&&!Mt(y.constructor)&&typeof y.constructor.isBuffer=="function"&&y.constructor.isBuffer(y)}function Nn(y){return rt.call(y)==="[object ArrayBuffer]"}function Bn(y){return typeof FormData!="undefined"&&y instanceof FormData}function Tn(y){var o;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?o=ArrayBuffer.isView(y):o=y&&y.buffer&&y.buffer instanceof ArrayBuffer,o}function Fn(y){return typeof y=="string"}function Ln(y){return typeof y=="number"}function sr(y){return y!==null&&typeof y=="object"}function bt(y){if(rt.call(y)!=="[object Object]")return!1;var o=Object.getPrototypeOf(y);return o===null||o===Object.prototype}function Pn(y){return rt.call(y)==="[object Date]"}function Un(y){return rt.call(y)==="[object File]"}function jn(y){return rt.call(y)==="[object Blob]"}function ur(y){return rt.call(y)==="[object Function]"}function Mn(y){return sr(y)&&ur(y.pipe)}function $n(y){return typeof URLSearchParams!="undefined"&&y instanceof URLSearchParams}function Wn(y){return y.trim?y.trim():y.replace(/^\s+|\s+$/g,"")}function Zn(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function $t(y,o){if(!(y===null||typeof y=="undefined"))if(typeof y!="object"&&(y=[y]),jt(y))for(var e=0,p=y.length;e<p;e++)o.call(null,y[e],e,y);else for(var i in y)Object.prototype.hasOwnProperty.call(y,i)&&o.call(null,y[i],i,y)}function Wt(){var y={};function o(i,n){bt(y[n])&&bt(i)?y[n]=Wt(y[n],i):bt(i)?y[n]=Wt({},i):jt(i)?y[n]=i.slice():y[n]=i}for(var e=0,p=arguments.length;e<p;e++)$t(arguments[e],o);return y}function Hn(y,o,e){return $t(o,function(i,n){e&&typeof i=="function"?y[n]=Dn(i,e):y[n]=i}),y}function qn(y){return y.charCodeAt(0)===65279&&(y=y.slice(1)),y}var Fe={isArray:jt,isArrayBuffer:Nn,isBuffer:zn,isFormData:Bn,isArrayBufferView:Tn,isString:Fn,isNumber:Ln,isObject:sr,isPlainObject:bt,isUndefined:Mt,isDate:Pn,isFile:Un,isBlob:jn,isFunction:ur,isStream:Mn,isURLSearchParams:$n,isStandardBrowserEnv:Zn,forEach:$t,merge:Wt,extend:Hn,trim:Wn,stripBOM:qn},ut=Fe;function lr(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var fr=function(o,e,p){if(!e)return o;var i;if(p)i=p(e);else if(ut.isURLSearchParams(e))i=e.toString();else{var n=[];ut.forEach(e,function(l,m){l===null||typeof l=="undefined"||(ut.isArray(l)?m=m+"[]":l=[l],ut.forEach(l,function(f){ut.isDate(f)?f=f.toISOString():ut.isObject(f)&&(f=JSON.stringify(f)),n.push(lr(m)+"="+lr(f))}))}),i=n.join("&")}if(i){var a=o.indexOf("#");a!==-1&&(o=o.slice(0,a)),o+=(o.indexOf("?")===-1?"?":"&")+i}return o},Yn=Fe;function wt(){this.handlers=[]}wt.prototype.use=function(o,e,p){return this.handlers.push({fulfilled:o,rejected:e,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1};wt.prototype.eject=function(o){this.handlers[o]&&(this.handlers[o]=null)};wt.prototype.forEach=function(o){Yn.forEach(this.handlers,function(p){p!==null&&o(p)})};var Jn=wt,Gn=Fe,Vn=function(o,e){Gn.forEach(o,function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(o[e]=i,delete o[n])})},cr=function(o,e,p,i,n){return o.config=e,p&&(o.code=p),o.request=i,o.response=n,o.isAxiosError=!0,o.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},o},Kn=cr,dr=function(o,e,p,i,n){var a=new Error(o);return Kn(a,e,p,i,n)},Xn=dr,Qn=function(o,e,p){var i=p.config.validateStatus;!p.status||!i||i(p.status)?o(p):e(Xn("Request failed with status code "+p.status,p.config,null,p.request,p))},kt=Fe,ei=kt.isStandardBrowserEnv()?function(){return{write:function(e,p,i,n,a,t){var l=[];l.push(e+"="+encodeURIComponent(p)),kt.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),kt.isString(n)&&l.push("path="+n),kt.isString(a)&&l.push("domain="+a),t===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var p=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return p?decodeURIComponent(p[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ti=function(o){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(o)},ri=function(o,e){return e?o.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):o},ni=ti,ii=ri,ai=function(o,e){return o&&!ni(e)?ii(o,e):e},Zt=Fe,oi=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],si=function(o){var e={},p,i,n;return o&&Zt.forEach(o.split(`
`),function(t){if(n=t.indexOf(":"),p=Zt.trim(t.substr(0,n)).toLowerCase(),i=Zt.trim(t.substr(n+1)),p){if(e[p]&&oi.indexOf(p)>=0)return;p==="set-cookie"?e[p]=(e[p]?e[p]:[]).concat([i]):e[p]=e[p]?e[p]+", "+i:i}}),e},hr=Fe,ui=hr.isStandardBrowserEnv()?function(){var o=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a"),p;function i(n){var a=n;return o&&(e.setAttribute("href",a),a=e.href),e.setAttribute("href",a),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return p=i(window.location.href),function(a){var t=hr.isString(a)?i(a):a;return t.protocol===p.protocol&&t.host===p.host}}():function(){return function(){return!0}}();function Ht(y){this.message=y}Ht.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Ht.prototype.__CANCEL__=!0;var xt=Ht,St=Fe,li=Qn,fi=ei,ci=fr,di=ai,hi=si,pi=ui,qt=dr,mi=At,vi=xt,pr=function(o){return new Promise(function(p,i){var n=o.data,a=o.headers,t=o.responseType,l;function m(){o.cancelToken&&o.cancelToken.unsubscribe(l),o.signal&&o.signal.removeEventListener("abort",l)}St.isFormData(n)&&delete a["Content-Type"];var h=new XMLHttpRequest;if(o.auth){var f=o.auth.username||"",_=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";a.Authorization="Basic "+btoa(f+":"+_)}var u=di(o.baseURL,o.url);h.open(o.method.toUpperCase(),ci(u,o.params,o.paramsSerializer),!0),h.timeout=o.timeout;function g(){if(!!h){var c="getAllResponseHeaders"in h?hi(h.getAllResponseHeaders()):null,v=!t||t==="text"||t==="json"?h.responseText:h.response,b={data:v,status:h.status,statusText:h.statusText,headers:c,config:o,request:h};li(function(M){p(M),m()},function(M){i(M),m()},b),h=null}}if("onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){!h||(i(qt("Request aborted",o,"ECONNABORTED",h)),h=null)},h.onerror=function(){i(qt("Network Error",o,null,h)),h=null},h.ontimeout=function(){var v=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded",b=o.transitional||mi.transitional;o.timeoutErrorMessage&&(v=o.timeoutErrorMessage),i(qt(v,o,b.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},St.isStandardBrowserEnv()){var S=(o.withCredentials||pi(u))&&o.xsrfCookieName?fi.read(o.xsrfCookieName):void 0;S&&(a[o.xsrfHeaderName]=S)}"setRequestHeader"in h&&St.forEach(a,function(v,b){typeof n=="undefined"&&b.toLowerCase()==="content-type"?delete a[b]:h.setRequestHeader(b,v)}),St.isUndefined(o.withCredentials)||(h.withCredentials=!!o.withCredentials),t&&t!=="json"&&(h.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&h.addEventListener("progress",o.onDownloadProgress),typeof o.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",o.onUploadProgress),(o.cancelToken||o.signal)&&(l=function(c){!h||(i(!c||c&&c.type?new vi("canceled"):c),h.abort(),h=null)},o.cancelToken&&o.cancelToken.subscribe(l),o.signal&&(o.signal.aborted?l():o.signal.addEventListener("abort",l))),n||(n=null),h.send(n)})},Re=Fe,mr=Vn,_i=cr,gi={"Content-Type":"application/x-www-form-urlencoded"};function vr(y,o){!Re.isUndefined(y)&&Re.isUndefined(y["Content-Type"])&&(y["Content-Type"]=o)}function yi(){var y;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(y=pr),y}function bi(y,o,e){if(Re.isString(y))try{return(o||JSON.parse)(y),Re.trim(y)}catch(p){if(p.name!=="SyntaxError")throw p}return(e||JSON.stringify)(y)}var Et={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:yi(),transformRequest:[function(o,e){return mr(e,"Accept"),mr(e,"Content-Type"),Re.isFormData(o)||Re.isArrayBuffer(o)||Re.isBuffer(o)||Re.isStream(o)||Re.isFile(o)||Re.isBlob(o)?o:Re.isArrayBufferView(o)?o.buffer:Re.isURLSearchParams(o)?(vr(e,"application/x-www-form-urlencoded;charset=utf-8"),o.toString()):Re.isObject(o)||e&&e["Content-Type"]==="application/json"?(vr(e,"application/json"),bi(o)):o}],transformResponse:[function(o){var e=this.transitional||Et.transitional,p=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,n=!p&&this.responseType==="json";if(n||i&&Re.isString(o)&&o.length)try{return JSON.parse(o)}catch(a){if(n)throw a.name==="SyntaxError"?_i(a,this,"E_JSON_PARSE"):a}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Re.forEach(["delete","get","head"],function(o){Et.headers[o]={}});Re.forEach(["post","put","patch"],function(o){Et.headers[o]=Re.merge(gi)});var At=Et,wi=Fe,ki=At,xi=function(o,e,p){var i=this||ki;return wi.forEach(p,function(a){o=a.call(i,o,e)}),o},_r=function(o){return!!(o&&o.__CANCEL__)},gr=Fe,Yt=xi,Si=_r,Ei=At,Ai=xt;function Jt(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new Ai("canceled")}var Ci=function(o){Jt(o),o.headers=o.headers||{},o.data=Yt.call(o,o.data,o.headers,o.transformRequest),o.headers=gr.merge(o.headers.common||{},o.headers[o.method]||{},o.headers),gr.forEach(["delete","get","head","post","put","patch","common"],function(i){delete o.headers[i]});var e=o.adapter||Ei.adapter;return e(o).then(function(i){return Jt(o),i.data=Yt.call(o,i.data,i.headers,o.transformResponse),i},function(i){return Si(i)||(Jt(o),i&&i.response&&(i.response.data=Yt.call(o,i.response.data,i.response.headers,o.transformResponse))),Promise.reject(i)})},Le=Fe,yr=function(o,e){e=e||{};var p={};function i(h,f){return Le.isPlainObject(h)&&Le.isPlainObject(f)?Le.merge(h,f):Le.isPlainObject(f)?Le.merge({},f):Le.isArray(f)?f.slice():f}function n(h){if(Le.isUndefined(e[h])){if(!Le.isUndefined(o[h]))return i(void 0,o[h])}else return i(o[h],e[h])}function a(h){if(!Le.isUndefined(e[h]))return i(void 0,e[h])}function t(h){if(Le.isUndefined(e[h])){if(!Le.isUndefined(o[h]))return i(void 0,o[h])}else return i(void 0,e[h])}function l(h){if(h in e)return i(o[h],e[h]);if(h in o)return i(void 0,o[h])}var m={url:a,method:a,data:a,baseURL:t,transformRequest:t,transformResponse:t,paramsSerializer:t,timeout:t,timeoutMessage:t,withCredentials:t,adapter:t,responseType:t,xsrfCookieName:t,xsrfHeaderName:t,onUploadProgress:t,onDownloadProgress:t,decompress:t,maxContentLength:t,maxBodyLength:t,transport:t,httpAgent:t,httpsAgent:t,cancelToken:t,socketPath:t,responseEncoding:t,validateStatus:l};return Le.forEach(Object.keys(o).concat(Object.keys(e)),function(f){var _=m[f]||n,u=_(f);Le.isUndefined(u)&&_!==l||(p[f]=u)}),p},br={version:"0.24.0"},Ii=br.version,Gt={};["object","boolean","number","function","string","symbol"].forEach(function(y,o){Gt[y]=function(p){return typeof p===y||"a"+(o<1?"n ":" ")+y}});var wr={};Gt.transitional=function(o,e,p){function i(n,a){return"[Axios v"+Ii+"] Transitional option '"+n+"'"+a+(p?". "+p:"")}return function(n,a,t){if(o===!1)throw new Error(i(a," has been removed"+(e?" in "+e:"")));return e&&!wr[a]&&(wr[a]=!0,console.warn(i(a," has been deprecated since v"+e+" and will be removed in the near future"))),o?o(n,a,t):!0}};function Ri(y,o,e){if(typeof y!="object")throw new TypeError("options must be an object");for(var p=Object.keys(y),i=p.length;i-- >0;){var n=p[i],a=o[n];if(a){var t=y[n],l=t===void 0||a(t,n,y);if(l!==!0)throw new TypeError("option "+n+" must be "+l);continue}if(e!==!0)throw Error("Unknown option "+n)}}var Oi={assertOptions:Ri,validators:Gt},kr=Fe,Di=fr,xr=Jn,Sr=Ci,Ct=yr,Er=Oi,lt=Er.validators;function pt(y){this.defaults=y,this.interceptors={request:new xr,response:new xr}}pt.prototype.request=function(o){typeof o=="string"?(o=arguments[1]||{},o.url=arguments[0]):o=o||{},o=Ct(this.defaults,o),o.method?o.method=o.method.toLowerCase():this.defaults.method?o.method=this.defaults.method.toLowerCase():o.method="get";var e=o.transitional;e!==void 0&&Er.assertOptions(e,{silentJSONParsing:lt.transitional(lt.boolean),forcedJSONParsing:lt.transitional(lt.boolean),clarifyTimeoutError:lt.transitional(lt.boolean)},!1);var p=[],i=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(o)===!1||(i=i&&_.synchronous,p.unshift(_.fulfilled,_.rejected))});var n=[];this.interceptors.response.forEach(function(_){n.push(_.fulfilled,_.rejected)});var a;if(!i){var t=[Sr,void 0];for(Array.prototype.unshift.apply(t,p),t=t.concat(n),a=Promise.resolve(o);t.length;)a=a.then(t.shift(),t.shift());return a}for(var l=o;p.length;){var m=p.shift(),h=p.shift();try{l=m(l)}catch(f){h(f);break}}try{a=Sr(l)}catch(f){return Promise.reject(f)}for(;n.length;)a=a.then(n.shift(),n.shift());return a};pt.prototype.getUri=function(o){return o=Ct(this.defaults,o),Di(o.url,o.params,o.paramsSerializer).replace(/^\?/,"")};kr.forEach(["delete","get","head","options"],function(o){pt.prototype[o]=function(e,p){return this.request(Ct(p||{},{method:o,url:e,data:(p||{}).data}))}});kr.forEach(["post","put","patch"],function(o){pt.prototype[o]=function(e,p,i){return this.request(Ct(i||{},{method:o,url:e,data:p}))}});var zi=pt,Ni=xt;function ft(y){if(typeof y!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(i){o=i});var e=this;this.promise.then(function(p){if(!!e._listeners){var i,n=e._listeners.length;for(i=0;i<n;i++)e._listeners[i](p);e._listeners=null}}),this.promise.then=function(p){var i,n=new Promise(function(a){e.subscribe(a),i=a}).then(p);return n.cancel=function(){e.unsubscribe(i)},n},y(function(i){e.reason||(e.reason=new Ni(i),o(e.reason))})}ft.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ft.prototype.subscribe=function(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]};ft.prototype.unsubscribe=function(o){if(!!this._listeners){var e=this._listeners.indexOf(o);e!==-1&&this._listeners.splice(e,1)}};ft.source=function(){var o,e=new ft(function(i){o=i});return{token:e,cancel:o}};var Bi=ft,Ti=function(o){return function(p){return o.apply(null,p)}},Fi=function(o){return typeof o=="object"&&o.isAxiosError===!0},Ar=Fe,Li=or,It=zi,Pi=yr,Ui=At;function Cr(y){var o=new It(y),e=Li(It.prototype.request,o);return Ar.extend(e,It.prototype,o),Ar.extend(e,o),e.create=function(i){return Cr(Pi(y,i))},e}var He=Cr(Ui);He.Axios=It;He.Cancel=xt;He.CancelToken=Bi;He.isCancel=_r;He.VERSION=br.version;He.all=function(o){return Promise.all(o)};He.spread=Ti;He.isAxiosError=Fi;Ut.exports=He;Ut.exports.default=He;var Pe=Ut.exports,Ir={exports:{}};/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(y,o){(function(e){y.exports=e()})(function(){return function e(p,i,n){function a(m,h){if(!i[m]){if(!p[m]){var f=typeof Xe=="function"&&Xe;if(!h&&f)return f(m,!0);if(t)return t(m,!0);var _=new Error("Cannot find module '"+m+"'");throw _.code="MODULE_NOT_FOUND",_}var u=i[m]={exports:{}};p[m][0].call(u.exports,function(g){var S=p[m][1][g];return a(S||g)},u,u.exports,e,p,i,n)}return i[m].exports}for(var t=typeof Xe=="function"&&Xe,l=0;l<n.length;l++)a(n[l]);return a}({1:[function(e,p,i){var n=e("./utils"),a=e("./support"),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var m,h,f,_,u,g,S,c=[],v=0,b=l.length,I=b,M=n.getTypeOf(l)!=="string";v<l.length;)I=b-v,f=M?(m=l[v++],h=v<b?l[v++]:0,v<b?l[v++]:0):(m=l.charCodeAt(v++),h=v<b?l.charCodeAt(v++):0,v<b?l.charCodeAt(v++):0),_=m>>2,u=(3&m)<<4|h>>4,g=1<I?(15&h)<<2|f>>6:64,S=2<I?63&f:64,c.push(t.charAt(_)+t.charAt(u)+t.charAt(g)+t.charAt(S));return c.join("")},i.decode=function(l){var m,h,f,_,u,g,S=0,c=0,v="data:";if(l.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var b,I=3*(l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(l.charAt(l.length-1)===t.charAt(64)&&I--,l.charAt(l.length-2)===t.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=a.uint8array?new Uint8Array(0|I):new Array(0|I);S<l.length;)m=t.indexOf(l.charAt(S++))<<2|(_=t.indexOf(l.charAt(S++)))>>4,h=(15&_)<<4|(u=t.indexOf(l.charAt(S++)))>>2,f=(3&u)<<6|(g=t.indexOf(l.charAt(S++))),b[c++]=m,u!==64&&(b[c++]=h),g!==64&&(b[c++]=f);return b}},{"./support":30,"./utils":32}],2:[function(e,p,i){var n=e("./external"),a=e("./stream/DataWorker"),t=e("./stream/Crc32Probe"),l=e("./stream/DataLengthProbe");function m(h,f,_,u,g){this.compressedSize=h,this.uncompressedSize=f,this.crc32=_,this.compression=u,this.compressedContent=g}m.prototype={getContentWorker:function(){var h=new a(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(h,f,_){return h.pipe(new t).pipe(new l("uncompressedSize")).pipe(f.compressWorker(_)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},p.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,p,i){var n=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(a){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,p,i){var n=e("./utils"),a=function(){for(var t,l=[],m=0;m<256;m++){t=m;for(var h=0;h<8;h++)t=1&t?3988292384^t>>>1:t>>>1;l[m]=t}return l}();p.exports=function(t,l){return t!==void 0&&t.length?n.getTypeOf(t)!=="string"?function(m,h,f,_){var u=a,g=_+f;m^=-1;for(var S=_;S<g;S++)m=m>>>8^u[255&(m^h[S])];return-1^m}(0|l,t,t.length,0):function(m,h,f,_){var u=a,g=_+f;m^=-1;for(var S=_;S<g;S++)m=m>>>8^u[255&(m^h.charCodeAt(S))];return-1^m}(0|l,t,t.length,0):0}},{"./utils":32}],5:[function(e,p,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,p,i){var n=null;n=typeof Promise!="undefined"?Promise:e("lie"),p.exports={Promise:n}},{lie:37}],7:[function(e,p,i){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",a=e("pako"),t=e("./utils"),l=e("./stream/GenericWorker"),m=n?"uint8array":"array";function h(f,_){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=_,this.meta={}}i.magic="\b\0",t.inherits(h,l),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(t.transformTo(m,f.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(_){f.push({data:_,meta:f.meta})}},i.compressWorker=function(f){return new h("Deflate",f)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,p,i){function n(u,g){var S,c="";for(S=0;S<g;S++)c+=String.fromCharCode(255&u),u>>>=8;return c}function a(u,g,S,c,v,b){var I,M,E=u.file,P=u.compression,T=b!==m.utf8encode,U=t.transformTo("string",b(E.name)),N=t.transformTo("string",m.utf8encode(E.name)),H=E.comment,oe=t.transformTo("string",b(H)),A=t.transformTo("string",m.utf8encode(H)),$=N.length!==E.name.length,s=A.length!==H.length,q="",ce="",G="",de=E.dir,K=E.date,fe={crc32:0,compressedSize:0,uncompressedSize:0};g&&!S||(fe.crc32=u.crc32,fe.compressedSize=u.compressedSize,fe.uncompressedSize=u.uncompressedSize);var L=0;g&&(L|=8),T||!$&&!s||(L|=2048);var F=0,le=0;de&&(F|=16),v==="UNIX"?(le=798,F|=function(ne,ke){var Ce=ne;return ne||(Ce=ke?16893:33204),(65535&Ce)<<16}(E.unixPermissions,de)):(le=20,F|=function(ne){return 63&(ne||0)}(E.dosPermissions)),I=K.getUTCHours(),I<<=6,I|=K.getUTCMinutes(),I<<=5,I|=K.getUTCSeconds()/2,M=K.getUTCFullYear()-1980,M<<=4,M|=K.getUTCMonth()+1,M<<=5,M|=K.getUTCDate(),$&&(ce=n(1,1)+n(h(U),4)+N,q+="up"+n(ce.length,2)+ce),s&&(G=n(1,1)+n(h(oe),4)+A,q+="uc"+n(G.length,2)+G);var ae="";return ae+=`
\0`,ae+=n(L,2),ae+=P.magic,ae+=n(I,2),ae+=n(M,2),ae+=n(fe.crc32,4),ae+=n(fe.compressedSize,4),ae+=n(fe.uncompressedSize,4),ae+=n(U.length,2),ae+=n(q.length,2),{fileRecord:f.LOCAL_FILE_HEADER+ae+U+q,dirRecord:f.CENTRAL_FILE_HEADER+n(le,2)+ae+n(oe.length,2)+"\0\0\0\0"+n(F,4)+n(c,4)+U+q+oe}}var t=e("../utils"),l=e("../stream/GenericWorker"),m=e("../utf8"),h=e("../crc32"),f=e("../signature");function _(u,g,S,c){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=S,this.encodeFileName=c,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}t.inherits(_,l),_.prototype.push=function(u){var g=u.meta.percent||0,S=this.entriesCount,c=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,l.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:S?(g+100*(S-c-1))/S:100}}))},_.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var g=this.streamFiles&&!u.file.dir;if(g){var S=a(u,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:S.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(u){this.accumulate=!1;var g=this.streamFiles&&!u.file.dir,S=a(u,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(S.dirRecord),g)this.push({data:function(c){return f.DATA_DESCRIPTOR+n(c.crc32,4)+n(c.compressedSize,4)+n(c.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:S.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var u=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var S=this.bytesWritten-u,c=function(v,b,I,M,E){var P=t.transformTo("string",E(M));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(v,2)+n(v,2)+n(b,4)+n(I,4)+n(P.length,2)+P}(this.dirRecords.length,S,u,this.zipComment,this.encodeFileName);this.push({data:c,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(u){this._sources.push(u);var g=this;return u.on("data",function(S){g.processChunk(S)}),u.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),u.on("error",function(S){g.error(S)}),this},_.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(u){var g=this._sources;if(!l.prototype.error.call(this,u))return!1;for(var S=0;S<g.length;S++)try{g[S].error(u)}catch{}return!0},_.prototype.lock=function(){l.prototype.lock.call(this);for(var u=this._sources,g=0;g<u.length;g++)u[g].lock()},p.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,p,i){var n=e("../compressions"),a=e("./ZipFileWorker");i.generateWorker=function(t,l,m){var h=new a(l.streamFiles,m,l.platform,l.encodeFileName),f=0;try{t.forEach(function(_,u){f++;var g=function(b,I){var M=b||I,E=n[M];if(!E)throw new Error(M+" is not a valid compression method !");return E}(u.options.compression,l.compression),S=u.options.compressionOptions||l.compressionOptions||{},c=u.dir,v=u.date;u._compressWorker(g,S).withStreamInfo("file",{name:_,dir:c,date:v,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(_){h.error(_)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,p,i){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new n;for(var t in this)typeof this[t]!="function"&&(a[t]=this[t]);return a}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.7.1",n.loadAsync=function(a,t){return new n().loadAsync(a,t)},n.external=e("./external"),p.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,p,i){var n=e("./utils"),a=e("./external"),t=e("./utf8"),l=e("./zipEntries"),m=e("./stream/Crc32Probe"),h=e("./nodejsUtils");function f(_){return new a.Promise(function(u,g){var S=_.decompressed.getContentWorker().pipe(new m);S.on("error",function(c){g(c)}).on("end",function(){S.streamInfo.crc32!==_.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}p.exports=function(_,u){var g=this;return u=n.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:t.utf8decode}),h.isNode&&h.isStream(_)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",_,!0,u.optimizedBinaryString,u.base64).then(function(S){var c=new l(u);return c.load(S),c}).then(function(S){var c=[a.Promise.resolve(S)],v=S.files;if(u.checkCRC32)for(var b=0;b<v.length;b++)c.push(f(v[b]));return a.Promise.all(c)}).then(function(S){for(var c=S.shift(),v=c.files,b=0;b<v.length;b++){var I=v[b];g.file(I.fileNameStr,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:u.createFolders})}return c.zipComment.length&&(g.comment=c.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,p,i){var n=e("../utils"),a=e("../stream/GenericWorker");function t(l,m){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(m)}n.inherits(t,a),t.prototype._bindStream=function(l){var m=this;(this._stream=l).pause(),l.on("data",function(h){m.push({data:h,meta:{percent:0}})}).on("error",function(h){m.isPaused?this.generatedError=h:m.error(h)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},t.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},t.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=t},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,p,i){var n=e("readable-stream").Readable;function a(t,l,m){n.call(this,l),this._helper=t;var h=this;t.on("data",function(f,_){h.push(f)||h._helper.pause(),m&&m(_)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}e("../utils").inherits(a,n),a.prototype._read=function(){this._helper.resume()},p.exports=a},{"../utils":32,"readable-stream":16}],14:[function(e,p,i){p.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(n,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,a);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,a)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var a=new Buffer(n);return a.fill(0),a},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(e,p,i){function n(E,P,T){var U,N=t.getTypeOf(P),H=t.extend(T||{},h);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(E=v(E)),H.createFolders&&(U=c(E))&&b.call(this,U,!0);var oe=N==="string"&&H.binary===!1&&H.base64===!1;T&&T.binary!==void 0||(H.binary=!oe),(P instanceof f&&P.uncompressedSize===0||H.dir||!P||P.length===0)&&(H.base64=!1,H.binary=!0,P="",H.compression="STORE",N="string");var A=null;A=P instanceof f||P instanceof l?P:g.isNode&&g.isStream(P)?new S(E,P):t.prepareContent(E,P,H.binary,H.optimizedBinaryString,H.base64);var $=new _(E,A,H);this.files[E]=$}var a=e("./utf8"),t=e("./utils"),l=e("./stream/GenericWorker"),m=e("./stream/StreamHelper"),h=e("./defaults"),f=e("./compressedObject"),_=e("./zipObject"),u=e("./generate"),g=e("./nodejsUtils"),S=e("./nodejs/NodejsStreamInputAdapter"),c=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var P=E.lastIndexOf("/");return 0<P?E.substring(0,P):""},v=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},b=function(E,P){return P=P!==void 0?P:h.createFolders,E=v(E),this.files[E]||n.call(this,E,null,{dir:!0,createFolders:P}),this.files[E]};function I(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var P,T,U;for(P in this.files)U=this.files[P],(T=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&E(T,U)},filter:function(E){var P=[];return this.forEach(function(T,U){E(T,U)&&P.push(U)}),P},file:function(E,P,T){if(arguments.length!==1)return E=this.root+E,n.call(this,E,P,T),this;if(I(E)){var U=E;return this.filter(function(H,oe){return!oe.dir&&U.test(H)})}var N=this.files[this.root+E];return N&&!N.dir?N:null},folder:function(E){if(!E)return this;if(I(E))return this.filter(function(N,H){return H.dir&&E.test(N)});var P=this.root+E,T=b.call(this,P),U=this.clone();return U.root=T.name,U},remove:function(E){E=this.root+E;var P=this.files[E];if(P||(E.slice(-1)!=="/"&&(E+="/"),P=this.files[E]),P&&!P.dir)delete this.files[E];else for(var T=this.filter(function(N,H){return H.name.slice(0,E.length)===E}),U=0;U<T.length;U++)delete this.files[T[U].name];return this},generate:function(E){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var P,T={};try{if((T=t.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");t.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var U=T.comment||this.comment||"";P=u.generateWorker(this,T,U)}catch(N){(P=new l("error")).error(N)}return new m(P,T.type||"string",T.mimeType)},generateAsync:function(E,P){return this.generateInternalStream(E).accumulate(P)},generateNodeStream:function(E,P){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(P)}};p.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,p,i){p.exports=e("stream")},{stream:void 0}],17:[function(e,p,i){var n=e("./DataReader");function a(t){n.call(this,t);for(var l=0;l<this.data.length;l++)t[l]=255&t[l]}e("../utils").inherits(a,n),a.prototype.byteAt=function(t){return this.data[this.zero+t]},a.prototype.lastIndexOfSignature=function(t){for(var l=t.charCodeAt(0),m=t.charCodeAt(1),h=t.charCodeAt(2),f=t.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===l&&this.data[_+1]===m&&this.data[_+2]===h&&this.data[_+3]===f)return _-this.zero;return-1},a.prototype.readAndCheckSignature=function(t){var l=t.charCodeAt(0),m=t.charCodeAt(1),h=t.charCodeAt(2),f=t.charCodeAt(3),_=this.readData(4);return l===_[0]&&m===_[1]&&h===_[2]&&f===_[3]},a.prototype.readData=function(t){if(this.checkOffset(t),t===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,l},p.exports=a},{"../utils":32,"./DataReader":18}],18:[function(e,p,i){var n=e("../utils");function a(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var l,m=0;for(this.checkOffset(t),l=this.index+t-1;l>=this.index;l--)m=(m<<8)+this.byteAt(l);return this.index+=t,m},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},p.exports=a},{"../utils":32}],19:[function(e,p,i){var n=e("./Uint8ArrayReader");function a(t){n.call(this,t)}e("../utils").inherits(a,n),a.prototype.readData=function(t){this.checkOffset(t);var l=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,l},p.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,p,i){var n=e("./DataReader");function a(t){n.call(this,t)}e("../utils").inherits(a,n),a.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},a.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},a.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},a.prototype.readData=function(t){this.checkOffset(t);var l=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,l},p.exports=a},{"../utils":32,"./DataReader":18}],21:[function(e,p,i){var n=e("./ArrayReader");function a(t){n.call(this,t)}e("../utils").inherits(a,n),a.prototype.readData=function(t){if(this.checkOffset(t),t===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,l},p.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(e,p,i){var n=e("../utils"),a=e("../support"),t=e("./ArrayReader"),l=e("./StringReader"),m=e("./NodeBufferReader"),h=e("./Uint8ArrayReader");p.exports=function(f){var _=n.getTypeOf(f);return n.checkSupport(_),_!=="string"||a.uint8array?_==="nodebuffer"?new m(f):a.uint8array?new h(n.transformTo("uint8array",f)):new t(n.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,p,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,p,i){var n=e("./GenericWorker"),a=e("../utils");function t(l){n.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(t,n),t.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},p.exports=t},{"../utils":32,"./GenericWorker":28}],25:[function(e,p,i){var n=e("./GenericWorker"),a=e("../crc32");function t(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(t,n),t.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},p.exports=t},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,p,i){var n=e("../utils"),a=e("./GenericWorker");function t(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}n.inherits(t,a),t.prototype.processChunk=function(l){if(l){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+l.data.length}a.prototype.processChunk.call(this,l)},p.exports=t},{"../utils":32,"./GenericWorker":28}],27:[function(e,p,i){var n=e("../utils"),a=e("./GenericWorker");function t(l){a.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){m.dataIsReady=!0,m.data=h,m.max=h&&h.length||0,m.type=n.getTypeOf(h),m.isPaused||m._tickAndRepeat()},function(h){m.error(h)})}n.inherits(t,a),t.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},t.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},t.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},t.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,m);break;case"uint8array":l=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":l=this.data.slice(this.index,m)}return this.index=m,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=t},{"../utils":32,"./GenericWorker":28}],28:[function(e,p,i){function n(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,t){return this._listeners[a].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,t){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,t)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var t=this;return a.on("data",function(l){t.processChunk(l)}),a.on("end",function(){t.end()}),a.on("error",function(l){t.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,t){return this.extraStreamInfo[a]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},p.exports=n},{}],29:[function(e,p,i){var n=e("../utils"),a=e("./ConvertWorker"),t=e("./GenericWorker"),l=e("../base64"),m=e("../support"),h=e("../external"),f=null;if(m.nodestream)try{f=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(g,S){return new h.Promise(function(c,v){var b=[],I=g._internalType,M=g._outputType,E=g._mimeType;g.on("data",function(P,T){b.push(P),S&&S(T)}).on("error",function(P){b=[],v(P)}).on("end",function(){try{var P=function(T,U,N){switch(T){case"blob":return n.newBlob(n.transformTo("arraybuffer",U),N);case"base64":return l.encode(U);default:return n.transformTo(T,U)}}(M,function(T,U){var N,H=0,oe=null,A=0;for(N=0;N<U.length;N++)A+=U[N].length;switch(T){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(oe=new Uint8Array(A),N=0;N<U.length;N++)oe.set(U[N],H),H+=U[N].length;return oe;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+T+"'")}}(I,b),E);c(P)}catch(T){v(T)}b=[]}).resume()})}function u(g,S,c){var v=S;switch(S){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=S,this._mimeType=c,n.checkSupport(v),this._worker=g.pipe(new a(v)),g.lock()}catch(b){this._worker=new t("error"),this._worker.error(b)}}u.prototype={accumulate:function(g){return _(this,g)},on:function(g,S){var c=this;return g==="data"?this._worker.on(g,function(v){S.call(c,v.data,v.meta)}):this._worker.on(g,function(){n.delay(S,arguments,c)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},g)}},p.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,p,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",i.nodebuffer=typeof Buffer!="undefined",i.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(n),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(e,p,i){for(var n=e("./utils"),a=e("./support"),t=e("./nodejsUtils"),l=e("./stream/GenericWorker"),m=new Array(256),h=0;h<256;h++)m[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;m[254]=m[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function _(){l.call(this,"utf-8 encode")}i.utf8encode=function(u){return a.nodebuffer?t.newBufferFrom(u,"utf-8"):function(g){var S,c,v,b,I,M=g.length,E=0;for(b=0;b<M;b++)(64512&(c=g.charCodeAt(b)))==55296&&b+1<M&&(64512&(v=g.charCodeAt(b+1)))==56320&&(c=65536+(c-55296<<10)+(v-56320),b++),E+=c<128?1:c<2048?2:c<65536?3:4;for(S=a.uint8array?new Uint8Array(E):new Array(E),b=I=0;I<E;b++)(64512&(c=g.charCodeAt(b)))==55296&&b+1<M&&(64512&(v=g.charCodeAt(b+1)))==56320&&(c=65536+(c-55296<<10)+(v-56320),b++),c<128?S[I++]=c:(c<2048?S[I++]=192|c>>>6:(c<65536?S[I++]=224|c>>>12:(S[I++]=240|c>>>18,S[I++]=128|c>>>12&63),S[I++]=128|c>>>6&63),S[I++]=128|63&c);return S}(u)},i.utf8decode=function(u){return a.nodebuffer?n.transformTo("nodebuffer",u).toString("utf-8"):function(g){var S,c,v,b,I=g.length,M=new Array(2*I);for(S=c=0;S<I;)if((v=g[S++])<128)M[c++]=v;else if(4<(b=m[v]))M[c++]=65533,S+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&S<I;)v=v<<6|63&g[S++],b--;1<b?M[c++]=65533:v<65536?M[c++]=v:(v-=65536,M[c++]=55296|v>>10&1023,M[c++]=56320|1023&v)}return M.length!==c&&(M.subarray?M=M.subarray(0,c):M.length=c),n.applyFromCharCode(M)}(u=n.transformTo(a.uint8array?"uint8array":"array",u))},n.inherits(f,l),f.prototype.processChunk=function(u){var g=n.transformTo(a.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var S=g;(g=new Uint8Array(S.length+this.leftOver.length)).set(this.leftOver,0),g.set(S,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var c=function(b,I){var M;for((I=I||b.length)>b.length&&(I=b.length),M=I-1;0<=M&&(192&b[M])==128;)M--;return M<0||M===0?I:M+m[b[M]]>I?M:I}(g),v=g;c!==g.length&&(a.uint8array?(v=g.subarray(0,c),this.leftOver=g.subarray(c,g.length)):(v=g.slice(0,c),this.leftOver=g.slice(c,g.length))),this.push({data:i.utf8decode(v),meta:u.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,n.inherits(_,l),_.prototype.processChunk=function(u){this.push({data:i.utf8encode(u.data),meta:u.meta})},i.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,p,i){var n=e("./support"),a=e("./base64"),t=e("./nodejsUtils"),l=e("set-immediate-shim"),m=e("./external");function h(c){return c}function f(c,v){for(var b=0;b<c.length;++b)v[b]=255&c.charCodeAt(b);return v}i.newBlob=function(c,v){i.checkSupport("blob");try{return new Blob([c],{type:v})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(c),b.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(c,v,b){var I=[],M=0,E=c.length;if(E<=b)return String.fromCharCode.apply(null,c);for(;M<E;)v==="array"||v==="nodebuffer"?I.push(String.fromCharCode.apply(null,c.slice(M,Math.min(M+b,E)))):I.push(String.fromCharCode.apply(null,c.subarray(M,Math.min(M+b,E)))),M+=b;return I.join("")},stringifyByChar:function(c){for(var v="",b=0;b<c.length;b++)v+=String.fromCharCode(c[b]);return v},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,t.allocBuffer(1)).length===1}catch{return!1}}()}};function u(c){var v=65536,b=i.getTypeOf(c),I=!0;if(b==="uint8array"?I=_.applyCanBeUsed.uint8array:b==="nodebuffer"&&(I=_.applyCanBeUsed.nodebuffer),I)for(;1<v;)try{return _.stringifyByChunk(c,b,v)}catch{v=Math.floor(v/2)}return _.stringifyByChar(c)}function g(c,v){for(var b=0;b<c.length;b++)v[b]=c[b];return v}i.applyFromCharCode=u;var S={};S.string={string:h,array:function(c){return f(c,new Array(c.length))},arraybuffer:function(c){return S.string.uint8array(c).buffer},uint8array:function(c){return f(c,new Uint8Array(c.length))},nodebuffer:function(c){return f(c,t.allocBuffer(c.length))}},S.array={string:u,array:h,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return t.newBufferFrom(c)}},S.arraybuffer={string:function(c){return u(new Uint8Array(c))},array:function(c){return g(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:h,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return t.newBufferFrom(new Uint8Array(c))}},S.uint8array={string:u,array:function(c){return g(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:h,nodebuffer:function(c){return t.newBufferFrom(c)}},S.nodebuffer={string:u,array:function(c){return g(c,new Array(c.length))},arraybuffer:function(c){return S.nodebuffer.uint8array(c).buffer},uint8array:function(c){return g(c,new Uint8Array(c.length))},nodebuffer:h},i.transformTo=function(c,v){if(v=v||"",!c)return v;i.checkSupport(c);var b=i.getTypeOf(v);return S[b][c](v)},i.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":n.nodebuffer&&t.isBuffer(c)?"nodebuffer":n.uint8array&&c instanceof Uint8Array?"uint8array":n.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(c){if(!n[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(c){var v,b,I="";for(b=0;b<(c||"").length;b++)I+="\\x"+((v=c.charCodeAt(b))<16?"0":"")+v.toString(16).toUpperCase();return I},i.delay=function(c,v,b){l(function(){c.apply(b||null,v||[])})},i.inherits=function(c,v){function b(){}b.prototype=v.prototype,c.prototype=new b},i.extend=function(){var c,v,b={};for(c=0;c<arguments.length;c++)for(v in arguments[c])arguments[c].hasOwnProperty(v)&&b[v]===void 0&&(b[v]=arguments[c][v]);return b},i.prepareContent=function(c,v,b,I,M){return m.Promise.resolve(v).then(function(E){return n.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader!="undefined"?new m.Promise(function(P,T){var U=new FileReader;U.onload=function(N){P(N.target.result)},U.onerror=function(N){T(N.target.error)},U.readAsArrayBuffer(E)}):E}).then(function(E){var P=i.getTypeOf(E);return P?(P==="arraybuffer"?E=i.transformTo("uint8array",E):P==="string"&&(M?E=a.decode(E):b&&I!==!0&&(E=function(T){return f(T,n.uint8array?new Uint8Array(T.length):new Array(T.length))}(E))),E):m.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,p,i){var n=e("./reader/readerFor"),a=e("./utils"),t=e("./signature"),l=e("./zipEntry"),m=(e("./utf8"),e("./support"));function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(_)+", expected "+a.pretty(f)+")")}},isSignature:function(f,_){var u=this.reader.index;this.reader.setIndex(f);var g=this.reader.readString(4)===_;return this.reader.setIndex(u),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),_=m.uint8array?"uint8array":"array",u=a.transformTo(_,f);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,_,u,g=this.zip64EndOfCentralSize-44;0<g;)f=this.reader.readInt(2),_=this.reader.readInt(4),u=this.reader.readData(_),this.zip64ExtensibleData[f]={id:f,length:_,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,_;for(f=0;f<this.files.length;f++)_=this.files[f],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(t.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(t.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(t.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,t.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var _=f;if(this.checkSignature(t.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,t.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var g=_-u;if(0<g)this.isSignature(_,t.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(f){this.reader=n(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,p,i){var n=e("./reader/readerFor"),a=e("./utils"),t=e("./compressedObject"),l=e("./crc32"),m=e("./utf8"),h=e("./compressions"),f=e("./support");function _(u,g){this.options=u,this.loadOptions=g}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var g,S;if(u.skip(22),this.fileNameLength=u.readInt(2),S=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(S),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(c){for(var v in h)if(h.hasOwnProperty(v)&&h[v].magic===c)return h[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new t(this.compressedSize,this.uncompressedSize,this.crc32,g,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var g=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(g),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(u){if(this.extraFields[1]){var g=n(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(u){var g,S,c,v=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<v;)g=u.readInt(2),S=u.readInt(2),c=u.readData(S),this.extraFields[g]={id:g,length:S,value:c};u.setIndex(v)},handleUTF8:function(){var u=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var S=a.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(S)}var c=this.findExtraFieldUnicodeComment();if(c!==null)this.fileCommentStr=c;else{var v=a.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var g=n(u.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:m.utf8decode(g.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var g=n(u.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:m.utf8decode(g.readData(u.length-5))}return null}},p.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,p,i){function n(g,S,c){this.name=g,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=S,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}}var a=e("./stream/StreamHelper"),t=e("./stream/DataWorker"),l=e("./utf8"),m=e("./compressedObject"),h=e("./stream/GenericWorker");n.prototype={internalStream:function(g){var S=null,c="string";try{if(!g)throw new Error("No output type specified.");var v=(c=g.toLowerCase())==="string"||c==="text";c!=="binarystring"&&c!=="text"||(c="string"),S=this._decompressWorker();var b=!this._dataBinary;b&&!v&&(S=S.pipe(new l.Utf8EncodeWorker)),!b&&v&&(S=S.pipe(new l.Utf8DecodeWorker))}catch(I){(S=new h("error")).error(I)}return new a(S,c,"")},async:function(g,S){return this.internalStream(g).accumulate(S)},nodeStream:function(g,S){return this.internalStream(g||"nodebuffer").toNodejsStream(S)},_compressWorker:function(g,S){if(this._data instanceof m&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new l.Utf8EncodeWorker)),m.createWorkerFrom(c,g,S)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof h?this._data:new t(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<f.length;u++)n.prototype[f[u]]=_;p.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,p,i){(function(n){var a,t,l=n.MutationObserver||n.WebKitMutationObserver;if(l){var m=0,h=new l(g),f=n.document.createTextNode("");h.observe(f,{characterData:!0}),a=function(){f.data=m=++m%2}}else if(n.setImmediate||n.MessageChannel===void 0)a="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var S=n.document.createElement("script");S.onreadystatechange=function(){g(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},n.document.documentElement.appendChild(S)}:function(){setTimeout(g,0)};else{var _=new n.MessageChannel;_.port1.onmessage=g,a=function(){_.port2.postMessage(0)}}var u=[];function g(){var S,c;t=!0;for(var v=u.length;v;){for(c=u,u=[],S=-1;++S<v;)c[S]();v=u.length}t=!1}p.exports=function(S){u.push(S)!==1||t||a()}}).call(this,typeof We!="undefined"?We:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(e,p,i){var n=e("immediate");function a(){}var t={},l=["REJECTED"],m=["FULFILLED"],h=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,v!==a&&S(this,v)}function _(v,b,I){this.promise=v,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function u(v,b,I){n(function(){var M;try{M=b(I)}catch(E){return t.reject(v,E)}M===v?t.reject(v,new TypeError("Cannot resolve promise with itself")):t.resolve(v,M)})}function g(v){var b=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof b=="function")return function(){b.apply(v,arguments)}}function S(v,b){var I=!1;function M(T){I||(I=!0,t.reject(v,T))}function E(T){I||(I=!0,t.resolve(v,T))}var P=c(function(){b(E,M)});P.status==="error"&&M(P.value)}function c(v,b){var I={};try{I.value=v(b),I.status="success"}catch(M){I.status="error",I.value=M}return I}(p.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var b=this.constructor;return this.then(function(I){return b.resolve(v()).then(function(){return I})},function(I){return b.resolve(v()).then(function(){throw I})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,b){if(typeof v!="function"&&this.state===m||typeof b!="function"&&this.state===l)return this;var I=new this.constructor(a);return this.state!==h?u(I,this.state===m?v:b,this.outcome):this.queue.push(new _(I,v,b)),I},_.prototype.callFulfilled=function(v){t.resolve(this.promise,v)},_.prototype.otherCallFulfilled=function(v){u(this.promise,this.onFulfilled,v)},_.prototype.callRejected=function(v){t.reject(this.promise,v)},_.prototype.otherCallRejected=function(v){u(this.promise,this.onRejected,v)},t.resolve=function(v,b){var I=c(g,b);if(I.status==="error")return t.reject(v,I.value);var M=I.value;if(M)S(v,M);else{v.state=m,v.outcome=b;for(var E=-1,P=v.queue.length;++E<P;)v.queue[E].callFulfilled(b)}return v},t.reject=function(v,b){v.state=l,v.outcome=b;for(var I=-1,M=v.queue.length;++I<M;)v.queue[I].callRejected(b);return v},f.resolve=function(v){return v instanceof this?v:t.resolve(new this(a),v)},f.reject=function(v){var b=new this(a);return t.reject(b,v)},f.all=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=v.length,M=!1;if(!I)return this.resolve([]);for(var E=new Array(I),P=0,T=-1,U=new this(a);++T<I;)N(v[T],T);return U;function N(H,oe){b.resolve(H).then(function(A){E[oe]=A,++P!==I||M||(M=!0,t.resolve(U,E))},function(A){M||(M=!0,t.reject(U,A))})}},f.race=function(v){var b=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=v.length,M=!1;if(!I)return this.resolve([]);for(var E=-1,P=new this(a);++E<I;)T=v[E],b.resolve(T).then(function(U){M||(M=!0,t.resolve(P,U))},function(U){M||(M=!0,t.reject(P,U))});var T;return P}},{immediate:36}],38:[function(e,p,i){var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),p.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,p,i){var n=e("./zlib/deflate"),a=e("./utils/common"),t=e("./utils/strings"),l=e("./zlib/messages"),m=e("./zlib/zstream"),h=Object.prototype.toString,f=0,_=-1,u=0,g=8;function S(v){if(!(this instanceof S))return new S(v);this.options=a.assign({level:_,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},v||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var I=n.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(I!==f)throw new Error(l[I]);if(b.header&&n.deflateSetHeader(this.strm,b.header),b.dictionary){var M;if(M=typeof b.dictionary=="string"?t.string2buf(b.dictionary):h.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(I=n.deflateSetDictionary(this.strm,M))!==f)throw new Error(l[I]);this._dict_set=!0}}function c(v,b){var I=new S(b);if(I.push(v,!0),I.err)throw I.msg||l[I.err];return I.result}S.prototype.push=function(v,b){var I,M,E=this.strm,P=this.options.chunkSize;if(this.ended)return!1;M=b===~~b?b:b===!0?4:0,typeof v=="string"?E.input=t.string2buf(v):h.call(v)==="[object ArrayBuffer]"?E.input=new Uint8Array(v):E.input=v,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new a.Buf8(P),E.next_out=0,E.avail_out=P),(I=n.deflate(E,M))!==1&&I!==f)return this.onEnd(I),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(t.buf2binstring(a.shrinkBuf(E.output,E.next_out))):this.onData(a.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&I!==1);return M===4?(I=n.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===f):M!==2||(this.onEnd(f),!(E.avail_out=0))},S.prototype.onData=function(v){this.chunks.push(v)},S.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=S,i.deflate=c,i.deflateRaw=function(v,b){return(b=b||{}).raw=!0,c(v,b)},i.gzip=function(v,b){return(b=b||{}).gzip=!0,c(v,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,p,i){var n=e("./zlib/inflate"),a=e("./utils/common"),t=e("./utils/strings"),l=e("./zlib/constants"),m=e("./zlib/messages"),h=e("./zlib/zstream"),f=e("./zlib/gzheader"),_=Object.prototype.toString;function u(S){if(!(this instanceof u))return new u(S);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},S||{});var c=this.options;c.raw&&0<=c.windowBits&&c.windowBits<16&&(c.windowBits=-c.windowBits,c.windowBits===0&&(c.windowBits=-15)),!(0<=c.windowBits&&c.windowBits<16)||S&&S.windowBits||(c.windowBits+=32),15<c.windowBits&&c.windowBits<48&&(15&c.windowBits)==0&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var v=n.inflateInit2(this.strm,c.windowBits);if(v!==l.Z_OK)throw new Error(m[v]);this.header=new f,n.inflateGetHeader(this.strm,this.header)}function g(S,c){var v=new u(c);if(v.push(S,!0),v.err)throw v.msg||m[v.err];return v.result}u.prototype.push=function(S,c){var v,b,I,M,E,P,T=this.strm,U=this.options.chunkSize,N=this.options.dictionary,H=!1;if(this.ended)return!1;b=c===~~c?c:c===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof S=="string"?T.input=t.binstring2buf(S):_.call(S)==="[object ArrayBuffer]"?T.input=new Uint8Array(S):T.input=S,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(U),T.next_out=0,T.avail_out=U),(v=n.inflate(T,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&N&&(P=typeof N=="string"?t.string2buf(N):_.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,v=n.inflateSetDictionary(this.strm,P)),v===l.Z_BUF_ERROR&&H===!0&&(v=l.Z_OK,H=!1),v!==l.Z_STREAM_END&&v!==l.Z_OK)return this.onEnd(v),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&v!==l.Z_STREAM_END&&(T.avail_in!==0||b!==l.Z_FINISH&&b!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=t.utf8border(T.output,T.next_out),M=T.next_out-I,E=t.buf2string(T.output,I),T.next_out=M,T.avail_out=U-M,M&&a.arraySet(T.output,T.output,I,M,0),this.onData(E)):this.onData(a.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(H=!0)}while((0<T.avail_in||T.avail_out===0)&&v!==l.Z_STREAM_END);return v===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(v=n.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===l.Z_OK):b!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(T.avail_out=0))},u.prototype.onData=function(S){this.chunks.push(S)},u.prototype.onEnd=function(S){S===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Inflate=u,i.inflate=g,i.inflateRaw=function(S,c){return(c=c||{}).raw=!0,g(S,c)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,p,i){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";i.assign=function(l){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var h=m.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(l[f]=h[f])}}return l},i.shrinkBuf=function(l,m){return l.length===m?l:l.subarray?l.subarray(0,m):(l.length=m,l)};var a={arraySet:function(l,m,h,f,_){if(m.subarray&&l.subarray)l.set(m.subarray(h,h+f),_);else for(var u=0;u<f;u++)l[_+u]=m[h+u]},flattenChunks:function(l){var m,h,f,_,u,g;for(m=f=0,h=l.length;m<h;m++)f+=l[m].length;for(g=new Uint8Array(f),m=_=0,h=l.length;m<h;m++)u=l[m],g.set(u,_),_+=u.length;return g}},t={arraySet:function(l,m,h,f,_){for(var u=0;u<f;u++)l[_+u]=m[h+u]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,t))},i.setTyped(n)},{}],42:[function(e,p,i){var n=e("./common"),a=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var l=new n.Buf8(256),m=0;m<256;m++)l[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function h(f,_){if(_<65537&&(f.subarray&&t||!f.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(f,_));for(var u="",g=0;g<_;g++)u+=String.fromCharCode(f[g]);return u}l[254]=l[254]=1,i.string2buf=function(f){var _,u,g,S,c,v=f.length,b=0;for(S=0;S<v;S++)(64512&(u=f.charCodeAt(S)))==55296&&S+1<v&&(64512&(g=f.charCodeAt(S+1)))==56320&&(u=65536+(u-55296<<10)+(g-56320),S++),b+=u<128?1:u<2048?2:u<65536?3:4;for(_=new n.Buf8(b),S=c=0;c<b;S++)(64512&(u=f.charCodeAt(S)))==55296&&S+1<v&&(64512&(g=f.charCodeAt(S+1)))==56320&&(u=65536+(u-55296<<10)+(g-56320),S++),u<128?_[c++]=u:(u<2048?_[c++]=192|u>>>6:(u<65536?_[c++]=224|u>>>12:(_[c++]=240|u>>>18,_[c++]=128|u>>>12&63),_[c++]=128|u>>>6&63),_[c++]=128|63&u);return _},i.buf2binstring=function(f){return h(f,f.length)},i.binstring2buf=function(f){for(var _=new n.Buf8(f.length),u=0,g=_.length;u<g;u++)_[u]=f.charCodeAt(u);return _},i.buf2string=function(f,_){var u,g,S,c,v=_||f.length,b=new Array(2*v);for(u=g=0;u<v;)if((S=f[u++])<128)b[g++]=S;else if(4<(c=l[S]))b[g++]=65533,u+=c-1;else{for(S&=c===2?31:c===3?15:7;1<c&&u<v;)S=S<<6|63&f[u++],c--;1<c?b[g++]=65533:S<65536?b[g++]=S:(S-=65536,b[g++]=55296|S>>10&1023,b[g++]=56320|1023&S)}return h(b,g)},i.utf8border=function(f,_){var u;for((_=_||f.length)>f.length&&(_=f.length),u=_-1;0<=u&&(192&f[u])==128;)u--;return u<0||u===0?_:u+l[f[u]]>_?u:_}},{"./common":41}],43:[function(e,p,i){p.exports=function(n,a,t,l){for(var m=65535&n|0,h=n>>>16&65535|0,f=0;t!==0;){for(t-=f=2e3<t?2e3:t;h=h+(m=m+a[l++]|0)|0,--f;);m%=65521,h%=65521}return m|h<<16|0}},{}],44:[function(e,p,i){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,p,i){var n=function(){for(var a,t=[],l=0;l<256;l++){a=l;for(var m=0;m<8;m++)a=1&a?3988292384^a>>>1:a>>>1;t[l]=a}return t}();p.exports=function(a,t,l,m){var h=n,f=m+l;a^=-1;for(var _=m;_<f;_++)a=a>>>8^h[255&(a^t[_])];return-1^a}},{}],46:[function(e,p,i){var n,a=e("../utils/common"),t=e("./trees"),l=e("./adler32"),m=e("./crc32"),h=e("./messages"),f=0,_=4,u=0,g=-2,S=-1,c=4,v=2,b=8,I=9,M=286,E=30,P=19,T=2*M+1,U=15,N=3,H=258,oe=H+N+1,A=42,$=113,s=1,q=2,ce=3,G=4;function de(r,W){return r.msg=h[W],W}function K(r){return(r<<1)-(4<r?9:0)}function fe(r){for(var W=r.length;0<=--W;)r[W]=0}function L(r){var W=r.state,j=W.pending;j>r.avail_out&&(j=r.avail_out),j!==0&&(a.arraySet(r.output,W.pending_buf,W.pending_out,j,r.next_out),r.next_out+=j,W.pending_out+=j,r.total_out+=j,r.avail_out-=j,W.pending-=j,W.pending===0&&(W.pending_out=0))}function F(r,W){t._tr_flush_block(r,0<=r.block_start?r.block_start:-1,r.strstart-r.block_start,W),r.block_start=r.strstart,L(r.strm)}function le(r,W){r.pending_buf[r.pending++]=W}function ae(r,W){r.pending_buf[r.pending++]=W>>>8&255,r.pending_buf[r.pending++]=255&W}function ne(r,W){var j,x,k=r.max_chain_length,D=r.strstart,Y=r.prev_length,J=r.nice_match,B=r.strstart>r.w_size-oe?r.strstart-(r.w_size-oe):0,Q=r.window,ie=r.w_mask,te=r.prev,ue=r.strstart+H,ge=Q[D+Y-1],pe=Q[D+Y];r.prev_length>=r.good_match&&(k>>=2),J>r.lookahead&&(J=r.lookahead);do if(Q[(j=W)+Y]===pe&&Q[j+Y-1]===ge&&Q[j]===Q[D]&&Q[++j]===Q[D+1]){D+=2,j++;do;while(Q[++D]===Q[++j]&&Q[++D]===Q[++j]&&Q[++D]===Q[++j]&&Q[++D]===Q[++j]&&Q[++D]===Q[++j]&&Q[++D]===Q[++j]&&Q[++D]===Q[++j]&&Q[++D]===Q[++j]&&D<ue);if(x=H-(ue-D),D=ue-H,Y<x){if(r.match_start=W,J<=(Y=x))break;ge=Q[D+Y-1],pe=Q[D+Y]}}while((W=te[W&ie])>B&&--k!=0);return Y<=r.lookahead?Y:r.lookahead}function ke(r){var W,j,x,k,D,Y,J,B,Q,ie,te=r.w_size;do{if(k=r.window_size-r.lookahead-r.strstart,r.strstart>=te+(te-oe)){for(a.arraySet(r.window,r.window,te,te,0),r.match_start-=te,r.strstart-=te,r.block_start-=te,W=j=r.hash_size;x=r.head[--W],r.head[W]=te<=x?x-te:0,--j;);for(W=j=te;x=r.prev[--W],r.prev[W]=te<=x?x-te:0,--j;);k+=te}if(r.strm.avail_in===0)break;if(Y=r.strm,J=r.window,B=r.strstart+r.lookahead,Q=k,ie=void 0,ie=Y.avail_in,Q<ie&&(ie=Q),j=ie===0?0:(Y.avail_in-=ie,a.arraySet(J,Y.input,Y.next_in,ie,B),Y.state.wrap===1?Y.adler=l(Y.adler,J,ie,B):Y.state.wrap===2&&(Y.adler=m(Y.adler,J,ie,B)),Y.next_in+=ie,Y.total_in+=ie,ie),r.lookahead+=j,r.lookahead+r.insert>=N)for(D=r.strstart-r.insert,r.ins_h=r.window[D],r.ins_h=(r.ins_h<<r.hash_shift^r.window[D+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[D+N-1])&r.hash_mask,r.prev[D&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=D,D++,r.insert--,!(r.lookahead+r.insert<N)););}while(r.lookahead<oe&&r.strm.avail_in!==0)}function Ce(r,W){for(var j,x;;){if(r.lookahead<oe){if(ke(r),r.lookahead<oe&&W===f)return s;if(r.lookahead===0)break}if(j=0,r.lookahead>=N&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+N-1])&r.hash_mask,j=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),j!==0&&r.strstart-j<=r.w_size-oe&&(r.match_length=ne(r,j)),r.match_length>=N)if(x=t._tr_tally(r,r.strstart-r.match_start,r.match_length-N),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=N){for(r.match_length--;r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+N-1])&r.hash_mask,j=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart,--r.match_length!=0;);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else x=t._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(x&&(F(r,!1),r.strm.avail_out===0))return s}return r.insert=r.strstart<N-1?r.strstart:N-1,W===_?(F(r,!0),r.strm.avail_out===0?ce:G):r.last_lit&&(F(r,!1),r.strm.avail_out===0)?s:q}function me(r,W){for(var j,x,k;;){if(r.lookahead<oe){if(ke(r),r.lookahead<oe&&W===f)return s;if(r.lookahead===0)break}if(j=0,r.lookahead>=N&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+N-1])&r.hash_mask,j=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=N-1,j!==0&&r.prev_length<r.max_lazy_match&&r.strstart-j<=r.w_size-oe&&(r.match_length=ne(r,j),r.match_length<=5&&(r.strategy===1||r.match_length===N&&4096<r.strstart-r.match_start)&&(r.match_length=N-1)),r.prev_length>=N&&r.match_length<=r.prev_length){for(k=r.strstart+r.lookahead-N,x=t._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-N),r.lookahead-=r.prev_length-1,r.prev_length-=2;++r.strstart<=k&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+N-1])&r.hash_mask,j=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),--r.prev_length!=0;);if(r.match_available=0,r.match_length=N-1,r.strstart++,x&&(F(r,!1),r.strm.avail_out===0))return s}else if(r.match_available){if((x=t._tr_tally(r,0,r.window[r.strstart-1]))&&F(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return s}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(x=t._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<N-1?r.strstart:N-1,W===_?(F(r,!0),r.strm.avail_out===0?ce:G):r.last_lit&&(F(r,!1),r.strm.avail_out===0)?s:q}function ve(r,W,j,x,k){this.good_length=r,this.max_lazy=W,this.nice_length=j,this.max_chain=x,this.func=k}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*T),this.dyn_dtree=new a.Buf16(2*(2*E+1)),this.bl_tree=new a.Buf16(2*(2*P+1)),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(U+1),this.heap=new a.Buf16(2*M+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*M+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(r){var W;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=v,(W=r.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?A:$,r.adler=W.wrap===2?0:1,W.last_flush=f,t._tr_init(W),u):de(r,g)}function Ue(r){var W=xe(r);return W===u&&function(j){j.window_size=2*j.w_size,fe(j.head),j.max_lazy_match=n[j.level].max_lazy,j.good_match=n[j.level].good_length,j.nice_match=n[j.level].nice_length,j.max_chain_length=n[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=N-1,j.match_available=0,j.ins_h=0}(r.state),W}function Ne(r,W,j,x,k,D){if(!r)return g;var Y=1;if(W===S&&(W=6),x<0?(Y=0,x=-x):15<x&&(Y=2,x-=16),k<1||I<k||j!==b||x<8||15<x||W<0||9<W||D<0||c<D)return de(r,g);x===8&&(x=9);var J=new Ee;return(r.state=J).strm=r,J.wrap=Y,J.gzhead=null,J.w_bits=x,J.w_size=1<<J.w_bits,J.w_mask=J.w_size-1,J.hash_bits=k+7,J.hash_size=1<<J.hash_bits,J.hash_mask=J.hash_size-1,J.hash_shift=~~((J.hash_bits+N-1)/N),J.window=new a.Buf8(2*J.w_size),J.head=new a.Buf16(J.hash_size),J.prev=new a.Buf16(J.w_size),J.lit_bufsize=1<<k+6,J.pending_buf_size=4*J.lit_bufsize,J.pending_buf=new a.Buf8(J.pending_buf_size),J.d_buf=1*J.lit_bufsize,J.l_buf=3*J.lit_bufsize,J.level=W,J.strategy=D,J.method=j,Ue(r)}n=[new ve(0,0,0,0,function(r,W){var j=65535;for(j>r.pending_buf_size-5&&(j=r.pending_buf_size-5);;){if(r.lookahead<=1){if(ke(r),r.lookahead===0&&W===f)return s;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var x=r.block_start+j;if((r.strstart===0||r.strstart>=x)&&(r.lookahead=r.strstart-x,r.strstart=x,F(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-oe&&(F(r,!1),r.strm.avail_out===0))return s}return r.insert=0,W===_?(F(r,!0),r.strm.avail_out===0?ce:G):(r.strstart>r.block_start&&(F(r,!1),r.strm.avail_out),s)}),new ve(4,4,8,4,Ce),new ve(4,5,16,8,Ce),new ve(4,6,32,32,Ce),new ve(4,4,16,16,me),new ve(8,16,32,32,me),new ve(8,16,128,128,me),new ve(8,32,128,256,me),new ve(32,128,258,1024,me),new ve(32,258,258,4096,me)],i.deflateInit=function(r,W){return Ne(r,W,b,15,8,0)},i.deflateInit2=Ne,i.deflateReset=Ue,i.deflateResetKeep=xe,i.deflateSetHeader=function(r,W){return r&&r.state?r.state.wrap!==2?g:(r.state.gzhead=W,u):g},i.deflate=function(r,W){var j,x,k,D;if(!r||!r.state||5<W||W<0)return r?de(r,g):g;if(x=r.state,!r.output||!r.input&&r.avail_in!==0||x.status===666&&W!==_)return de(r,r.avail_out===0?-5:g);if(x.strm=r,j=x.last_flush,x.last_flush=W,x.status===A)if(x.wrap===2)r.adler=0,le(x,31),le(x,139),le(x,8),x.gzhead?(le(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),le(x,255&x.gzhead.time),le(x,x.gzhead.time>>8&255),le(x,x.gzhead.time>>16&255),le(x,x.gzhead.time>>24&255),le(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),le(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(le(x,255&x.gzhead.extra.length),le(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(r.adler=m(r.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(le(x,0),le(x,0),le(x,0),le(x,0),le(x,0),le(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),le(x,3),x.status=$);else{var Y=b+(x.w_bits-8<<4)<<8;Y|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(Y|=32),Y+=31-Y%31,x.status=$,ae(x,Y),x.strstart!==0&&(ae(x,r.adler>>>16),ae(x,65535&r.adler)),r.adler=1}if(x.status===69)if(x.gzhead.extra){for(k=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>k&&(r.adler=m(r.adler,x.pending_buf,x.pending-k,k)),L(r),k=x.pending,x.pending!==x.pending_buf_size));)le(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>k&&(r.adler=m(r.adler,x.pending_buf,x.pending-k,k)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){k=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>k&&(r.adler=m(r.adler,x.pending_buf,x.pending-k,k)),L(r),k=x.pending,x.pending===x.pending_buf_size)){D=1;break}D=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,le(x,D)}while(D!==0);x.gzhead.hcrc&&x.pending>k&&(r.adler=m(r.adler,x.pending_buf,x.pending-k,k)),D===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){k=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>k&&(r.adler=m(r.adler,x.pending_buf,x.pending-k,k)),L(r),k=x.pending,x.pending===x.pending_buf_size)){D=1;break}D=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,le(x,D)}while(D!==0);x.gzhead.hcrc&&x.pending>k&&(r.adler=m(r.adler,x.pending_buf,x.pending-k,k)),D===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&L(r),x.pending+2<=x.pending_buf_size&&(le(x,255&r.adler),le(x,r.adler>>8&255),r.adler=0,x.status=$)):x.status=$),x.pending!==0){if(L(r),r.avail_out===0)return x.last_flush=-1,u}else if(r.avail_in===0&&K(W)<=K(j)&&W!==_)return de(r,-5);if(x.status===666&&r.avail_in!==0)return de(r,-5);if(r.avail_in!==0||x.lookahead!==0||W!==f&&x.status!==666){var J=x.strategy===2?function(B,Q){for(var ie;;){if(B.lookahead===0&&(ke(B),B.lookahead===0)){if(Q===f)return s;break}if(B.match_length=0,ie=t._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,ie&&(F(B,!1),B.strm.avail_out===0))return s}return B.insert=0,Q===_?(F(B,!0),B.strm.avail_out===0?ce:G):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?s:q}(x,W):x.strategy===3?function(B,Q){for(var ie,te,ue,ge,pe=B.window;;){if(B.lookahead<=H){if(ke(B),B.lookahead<=H&&Q===f)return s;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=N&&0<B.strstart&&(te=pe[ue=B.strstart-1])===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]){ge=B.strstart+H;do;while(te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&te===pe[++ue]&&ue<ge);B.match_length=H-(ge-ue),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=N?(ie=t._tr_tally(B,1,B.match_length-N),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(ie=t._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),ie&&(F(B,!1),B.strm.avail_out===0))return s}return B.insert=0,Q===_?(F(B,!0),B.strm.avail_out===0?ce:G):B.last_lit&&(F(B,!1),B.strm.avail_out===0)?s:q}(x,W):n[x.level].func(x,W);if(J!==ce&&J!==G||(x.status=666),J===s||J===ce)return r.avail_out===0&&(x.last_flush=-1),u;if(J===q&&(W===1?t._tr_align(x):W!==5&&(t._tr_stored_block(x,0,0,!1),W===3&&(fe(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),L(r),r.avail_out===0))return x.last_flush=-1,u}return W!==_?u:x.wrap<=0?1:(x.wrap===2?(le(x,255&r.adler),le(x,r.adler>>8&255),le(x,r.adler>>16&255),le(x,r.adler>>24&255),le(x,255&r.total_in),le(x,r.total_in>>8&255),le(x,r.total_in>>16&255),le(x,r.total_in>>24&255)):(ae(x,r.adler>>>16),ae(x,65535&r.adler)),L(r),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?u:1)},i.deflateEnd=function(r){var W;return r&&r.state?(W=r.state.status)!==A&&W!==69&&W!==73&&W!==91&&W!==103&&W!==$&&W!==666?de(r,g):(r.state=null,W===$?de(r,-3):u):g},i.deflateSetDictionary=function(r,W){var j,x,k,D,Y,J,B,Q,ie=W.length;if(!r||!r.state||(D=(j=r.state).wrap)===2||D===1&&j.status!==A||j.lookahead)return g;for(D===1&&(r.adler=l(r.adler,W,ie,0)),j.wrap=0,ie>=j.w_size&&(D===0&&(fe(j.head),j.strstart=0,j.block_start=0,j.insert=0),Q=new a.Buf8(j.w_size),a.arraySet(Q,W,ie-j.w_size,j.w_size,0),W=Q,ie=j.w_size),Y=r.avail_in,J=r.next_in,B=r.input,r.avail_in=ie,r.next_in=0,r.input=W,ke(j);j.lookahead>=N;){for(x=j.strstart,k=j.lookahead-(N-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[x+N-1])&j.hash_mask,j.prev[x&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=x,x++,--k;);j.strstart=x,j.lookahead=N-1,ke(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=N-1,j.match_available=0,r.next_in=J,r.input=B,r.avail_in=Y,j.wrap=D,u},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,p,i){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,p,i){p.exports=function(n,a){var t,l,m,h,f,_,u,g,S,c,v,b,I,M,E,P,T,U,N,H,oe,A,$,s,q;t=n.state,l=n.next_in,s=n.input,m=l+(n.avail_in-5),h=n.next_out,q=n.output,f=h-(a-n.avail_out),_=h+(n.avail_out-257),u=t.dmax,g=t.wsize,S=t.whave,c=t.wnext,v=t.window,b=t.hold,I=t.bits,M=t.lencode,E=t.distcode,P=(1<<t.lenbits)-1,T=(1<<t.distbits)-1;e:do{I<15&&(b+=s[l++]<<I,I+=8,b+=s[l++]<<I,I+=8),U=M[b&P];t:for(;;){if(b>>>=N=U>>>24,I-=N,(N=U>>>16&255)==0)q[h++]=65535&U;else{if(!(16&N)){if((64&N)==0){U=M[(65535&U)+(b&(1<<N)-1)];continue t}if(32&N){t.mode=12;break e}n.msg="invalid literal/length code",t.mode=30;break e}H=65535&U,(N&=15)&&(I<N&&(b+=s[l++]<<I,I+=8),H+=b&(1<<N)-1,b>>>=N,I-=N),I<15&&(b+=s[l++]<<I,I+=8,b+=s[l++]<<I,I+=8),U=E[b&T];r:for(;;){if(b>>>=N=U>>>24,I-=N,!(16&(N=U>>>16&255))){if((64&N)==0){U=E[(65535&U)+(b&(1<<N)-1)];continue r}n.msg="invalid distance code",t.mode=30;break e}if(oe=65535&U,I<(N&=15)&&(b+=s[l++]<<I,(I+=8)<N&&(b+=s[l++]<<I,I+=8)),u<(oe+=b&(1<<N)-1)){n.msg="invalid distance too far back",t.mode=30;break e}if(b>>>=N,I-=N,(N=h-f)<oe){if(S<(N=oe-N)&&t.sane){n.msg="invalid distance too far back",t.mode=30;break e}if($=v,(A=0)===c){if(A+=g-N,N<H){for(H-=N;q[h++]=v[A++],--N;);A=h-oe,$=q}}else if(c<N){if(A+=g+c-N,(N-=c)<H){for(H-=N;q[h++]=v[A++],--N;);if(A=0,c<H){for(H-=N=c;q[h++]=v[A++],--N;);A=h-oe,$=q}}}else if(A+=c-N,N<H){for(H-=N;q[h++]=v[A++],--N;);A=h-oe,$=q}for(;2<H;)q[h++]=$[A++],q[h++]=$[A++],q[h++]=$[A++],H-=3;H&&(q[h++]=$[A++],1<H&&(q[h++]=$[A++]))}else{for(A=h-oe;q[h++]=q[A++],q[h++]=q[A++],q[h++]=q[A++],2<(H-=3););H&&(q[h++]=q[A++],1<H&&(q[h++]=q[A++]))}break}}break}}while(l<m&&h<_);l-=H=I>>3,b&=(1<<(I-=H<<3))-1,n.next_in=l,n.next_out=h,n.avail_in=l<m?m-l+5:5-(l-m),n.avail_out=h<_?_-h+257:257-(h-_),t.hold=b,t.bits=I}},{}],49:[function(e,p,i){var n=e("../utils/common"),a=e("./adler32"),t=e("./crc32"),l=e("./inffast"),m=e("./inftrees"),h=1,f=2,_=0,u=-2,g=1,S=852,c=592;function v(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(A){var $;return A&&A.state?($=A.state,A.total_in=A.total_out=$.total=0,A.msg="",$.wrap&&(A.adler=1&$.wrap),$.mode=g,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new n.Buf32(S),$.distcode=$.distdyn=new n.Buf32(c),$.sane=1,$.back=-1,_):u}function M(A){var $;return A&&A.state?(($=A.state).wsize=0,$.whave=0,$.wnext=0,I(A)):u}function E(A,$){var s,q;return A&&A.state?(q=A.state,$<0?(s=0,$=-$):(s=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?u:(q.window!==null&&q.wbits!==$&&(q.window=null),q.wrap=s,q.wbits=$,M(A))):u}function P(A,$){var s,q;return A?(q=new b,(A.state=q).window=null,(s=E(A,$))!==_&&(A.state=null),s):u}var T,U,N=!0;function H(A){if(N){var $;for(T=new n.Buf32(512),U=new n.Buf32(32),$=0;$<144;)A.lens[$++]=8;for(;$<256;)A.lens[$++]=9;for(;$<280;)A.lens[$++]=7;for(;$<288;)A.lens[$++]=8;for(m(h,A.lens,0,288,T,0,A.work,{bits:9}),$=0;$<32;)A.lens[$++]=5;m(f,A.lens,0,32,U,0,A.work,{bits:5}),N=!1}A.lencode=T,A.lenbits=9,A.distcode=U,A.distbits=5}function oe(A,$,s,q){var ce,G=A.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new n.Buf8(G.wsize)),q>=G.wsize?(n.arraySet(G.window,$,s-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(q<(ce=G.wsize-G.wnext)&&(ce=q),n.arraySet(G.window,$,s-q,ce,G.wnext),(q-=ce)?(n.arraySet(G.window,$,s-q,q,0),G.wnext=q,G.whave=G.wsize):(G.wnext+=ce,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=ce))),0}i.inflateReset=M,i.inflateReset2=E,i.inflateResetKeep=I,i.inflateInit=function(A){return P(A,15)},i.inflateInit2=P,i.inflate=function(A,$){var s,q,ce,G,de,K,fe,L,F,le,ae,ne,ke,Ce,me,ve,Ee,xe,Ue,Ne,r,W,j,x,k=0,D=new n.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return u;(s=A.state).mode===12&&(s.mode=13),de=A.next_out,ce=A.output,fe=A.avail_out,G=A.next_in,q=A.input,K=A.avail_in,L=s.hold,F=s.bits,le=K,ae=fe,W=_;e:for(;;)switch(s.mode){case g:if(s.wrap===0){s.mode=13;break}for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(2&s.wrap&&L===35615){D[s.check=0]=255&L,D[1]=L>>>8&255,s.check=t(s.check,D,2,0),F=L=0,s.mode=2;break}if(s.flags=0,s.head&&(s.head.done=!1),!(1&s.wrap)||(((255&L)<<8)+(L>>8))%31){A.msg="incorrect header check",s.mode=30;break}if((15&L)!=8){A.msg="unknown compression method",s.mode=30;break}if(F-=4,r=8+(15&(L>>>=4)),s.wbits===0)s.wbits=r;else if(r>s.wbits){A.msg="invalid window size",s.mode=30;break}s.dmax=1<<r,A.adler=s.check=1,s.mode=512&L?10:12,F=L=0;break;case 2:for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(s.flags=L,(255&s.flags)!=8){A.msg="unknown compression method",s.mode=30;break}if(57344&s.flags){A.msg="unknown header flags set",s.mode=30;break}s.head&&(s.head.text=L>>8&1),512&s.flags&&(D[0]=255&L,D[1]=L>>>8&255,s.check=t(s.check,D,2,0)),F=L=0,s.mode=3;case 3:for(;F<32;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}s.head&&(s.head.time=L),512&s.flags&&(D[0]=255&L,D[1]=L>>>8&255,D[2]=L>>>16&255,D[3]=L>>>24&255,s.check=t(s.check,D,4,0)),F=L=0,s.mode=4;case 4:for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}s.head&&(s.head.xflags=255&L,s.head.os=L>>8),512&s.flags&&(D[0]=255&L,D[1]=L>>>8&255,s.check=t(s.check,D,2,0)),F=L=0,s.mode=5;case 5:if(1024&s.flags){for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}s.length=L,s.head&&(s.head.extra_len=L),512&s.flags&&(D[0]=255&L,D[1]=L>>>8&255,s.check=t(s.check,D,2,0)),F=L=0}else s.head&&(s.head.extra=null);s.mode=6;case 6:if(1024&s.flags&&(K<(ne=s.length)&&(ne=K),ne&&(s.head&&(r=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),n.arraySet(s.head.extra,q,G,ne,r)),512&s.flags&&(s.check=t(s.check,q,ne,G)),K-=ne,G+=ne,s.length-=ne),s.length))break e;s.length=0,s.mode=7;case 7:if(2048&s.flags){if(K===0)break e;for(ne=0;r=q[G+ne++],s.head&&r&&s.length<65536&&(s.head.name+=String.fromCharCode(r)),r&&ne<K;);if(512&s.flags&&(s.check=t(s.check,q,ne,G)),K-=ne,G+=ne,r)break e}else s.head&&(s.head.name=null);s.length=0,s.mode=8;case 8:if(4096&s.flags){if(K===0)break e;for(ne=0;r=q[G+ne++],s.head&&r&&s.length<65536&&(s.head.comment+=String.fromCharCode(r)),r&&ne<K;);if(512&s.flags&&(s.check=t(s.check,q,ne,G)),K-=ne,G+=ne,r)break e}else s.head&&(s.head.comment=null);s.mode=9;case 9:if(512&s.flags){for(;F<16;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(L!==(65535&s.check)){A.msg="header crc mismatch",s.mode=30;break}F=L=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),A.adler=s.check=0,s.mode=12;break;case 10:for(;F<32;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}A.adler=s.check=v(L),F=L=0,s.mode=11;case 11:if(s.havedict===0)return A.next_out=de,A.avail_out=fe,A.next_in=G,A.avail_in=K,s.hold=L,s.bits=F,2;A.adler=s.check=1,s.mode=12;case 12:if($===5||$===6)break e;case 13:if(s.last){L>>>=7&F,F-=7&F,s.mode=27;break}for(;F<3;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}switch(s.last=1&L,F-=1,3&(L>>>=1)){case 0:s.mode=14;break;case 1:if(H(s),s.mode=20,$!==6)break;L>>>=2,F-=2;break e;case 2:s.mode=17;break;case 3:A.msg="invalid block type",s.mode=30}L>>>=2,F-=2;break;case 14:for(L>>>=7&F,F-=7&F;F<32;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if((65535&L)!=(L>>>16^65535)){A.msg="invalid stored block lengths",s.mode=30;break}if(s.length=65535&L,F=L=0,s.mode=15,$===6)break e;case 15:s.mode=16;case 16:if(ne=s.length){if(K<ne&&(ne=K),fe<ne&&(ne=fe),ne===0)break e;n.arraySet(ce,q,G,ne,de),K-=ne,G+=ne,fe-=ne,de+=ne,s.length-=ne;break}s.mode=12;break;case 17:for(;F<14;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(s.nlen=257+(31&L),L>>>=5,F-=5,s.ndist=1+(31&L),L>>>=5,F-=5,s.ncode=4+(15&L),L>>>=4,F-=4,286<s.nlen||30<s.ndist){A.msg="too many length or distance symbols",s.mode=30;break}s.have=0,s.mode=18;case 18:for(;s.have<s.ncode;){for(;F<3;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}s.lens[Y[s.have++]]=7&L,L>>>=3,F-=3}for(;s.have<19;)s.lens[Y[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,j={bits:s.lenbits},W=m(0,s.lens,0,19,s.lencode,0,s.work,j),s.lenbits=j.bits,W){A.msg="invalid code lengths set",s.mode=30;break}s.have=0,s.mode=19;case 19:for(;s.have<s.nlen+s.ndist;){for(;ve=(k=s.lencode[L&(1<<s.lenbits)-1])>>>16&255,Ee=65535&k,!((me=k>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(Ee<16)L>>>=me,F-=me,s.lens[s.have++]=Ee;else{if(Ee===16){for(x=me+2;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(L>>>=me,F-=me,s.have===0){A.msg="invalid bit length repeat",s.mode=30;break}r=s.lens[s.have-1],ne=3+(3&L),L>>>=2,F-=2}else if(Ee===17){for(x=me+3;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}F-=me,r=0,ne=3+(7&(L>>>=me)),L>>>=3,F-=3}else{for(x=me+7;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}F-=me,r=0,ne=11+(127&(L>>>=me)),L>>>=7,F-=7}if(s.have+ne>s.nlen+s.ndist){A.msg="invalid bit length repeat",s.mode=30;break}for(;ne--;)s.lens[s.have++]=r}}if(s.mode===30)break;if(s.lens[256]===0){A.msg="invalid code -- missing end-of-block",s.mode=30;break}if(s.lenbits=9,j={bits:s.lenbits},W=m(h,s.lens,0,s.nlen,s.lencode,0,s.work,j),s.lenbits=j.bits,W){A.msg="invalid literal/lengths set",s.mode=30;break}if(s.distbits=6,s.distcode=s.distdyn,j={bits:s.distbits},W=m(f,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,j),s.distbits=j.bits,W){A.msg="invalid distances set",s.mode=30;break}if(s.mode=20,$===6)break e;case 20:s.mode=21;case 21:if(6<=K&&258<=fe){A.next_out=de,A.avail_out=fe,A.next_in=G,A.avail_in=K,s.hold=L,s.bits=F,l(A,ae),de=A.next_out,ce=A.output,fe=A.avail_out,G=A.next_in,q=A.input,K=A.avail_in,L=s.hold,F=s.bits,s.mode===12&&(s.back=-1);break}for(s.back=0;ve=(k=s.lencode[L&(1<<s.lenbits)-1])>>>16&255,Ee=65535&k,!((me=k>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(ve&&(240&ve)==0){for(xe=me,Ue=ve,Ne=Ee;ve=(k=s.lencode[Ne+((L&(1<<xe+Ue)-1)>>xe)])>>>16&255,Ee=65535&k,!(xe+(me=k>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}L>>>=xe,F-=xe,s.back+=xe}if(L>>>=me,F-=me,s.back+=me,s.length=Ee,ve===0){s.mode=26;break}if(32&ve){s.back=-1,s.mode=12;break}if(64&ve){A.msg="invalid literal/length code",s.mode=30;break}s.extra=15&ve,s.mode=22;case 22:if(s.extra){for(x=s.extra;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}s.length+=L&(1<<s.extra)-1,L>>>=s.extra,F-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=23;case 23:for(;ve=(k=s.distcode[L&(1<<s.distbits)-1])>>>16&255,Ee=65535&k,!((me=k>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if((240&ve)==0){for(xe=me,Ue=ve,Ne=Ee;ve=(k=s.distcode[Ne+((L&(1<<xe+Ue)-1)>>xe)])>>>16&255,Ee=65535&k,!(xe+(me=k>>>24)<=F);){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}L>>>=xe,F-=xe,s.back+=xe}if(L>>>=me,F-=me,s.back+=me,64&ve){A.msg="invalid distance code",s.mode=30;break}s.offset=Ee,s.extra=15&ve,s.mode=24;case 24:if(s.extra){for(x=s.extra;F<x;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}s.offset+=L&(1<<s.extra)-1,L>>>=s.extra,F-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){A.msg="invalid distance too far back",s.mode=30;break}s.mode=25;case 25:if(fe===0)break e;if(ne=ae-fe,s.offset>ne){if((ne=s.offset-ne)>s.whave&&s.sane){A.msg="invalid distance too far back",s.mode=30;break}ke=ne>s.wnext?(ne-=s.wnext,s.wsize-ne):s.wnext-ne,ne>s.length&&(ne=s.length),Ce=s.window}else Ce=ce,ke=de-s.offset,ne=s.length;for(fe<ne&&(ne=fe),fe-=ne,s.length-=ne;ce[de++]=Ce[ke++],--ne;);s.length===0&&(s.mode=21);break;case 26:if(fe===0)break e;ce[de++]=s.length,fe--,s.mode=21;break;case 27:if(s.wrap){for(;F<32;){if(K===0)break e;K--,L|=q[G++]<<F,F+=8}if(ae-=fe,A.total_out+=ae,s.total+=ae,ae&&(A.adler=s.check=s.flags?t(s.check,ce,ae,de-ae):a(s.check,ce,ae,de-ae)),ae=fe,(s.flags?L:v(L))!==s.check){A.msg="incorrect data check",s.mode=30;break}F=L=0}s.mode=28;case 28:if(s.wrap&&s.flags){for(;F<32;){if(K===0)break e;K--,L+=q[G++]<<F,F+=8}if(L!==(4294967295&s.total)){A.msg="incorrect length check",s.mode=30;break}F=L=0}s.mode=29;case 29:W=1;break e;case 30:W=-3;break e;case 31:return-4;case 32:default:return u}return A.next_out=de,A.avail_out=fe,A.next_in=G,A.avail_in=K,s.hold=L,s.bits=F,(s.wsize||ae!==A.avail_out&&s.mode<30&&(s.mode<27||$!==4))&&oe(A,A.output,A.next_out,ae-A.avail_out)?(s.mode=31,-4):(le-=A.avail_in,ae-=A.avail_out,A.total_in+=le,A.total_out+=ae,s.total+=ae,s.wrap&&ae&&(A.adler=s.check=s.flags?t(s.check,ce,ae,A.next_out-ae):a(s.check,ce,ae,A.next_out-ae)),A.data_type=s.bits+(s.last?64:0)+(s.mode===12?128:0)+(s.mode===20||s.mode===15?256:0),(le==0&&ae===0||$===4)&&W===_&&(W=-5),W)},i.inflateEnd=function(A){if(!A||!A.state)return u;var $=A.state;return $.window&&($.window=null),A.state=null,_},i.inflateGetHeader=function(A,$){var s;return A&&A.state?(2&(s=A.state).wrap)==0?u:((s.head=$).done=!1,_):u},i.inflateSetDictionary=function(A,$){var s,q=$.length;return A&&A.state?(s=A.state).wrap!==0&&s.mode!==11?u:s.mode===11&&a(1,$,q,0)!==s.check?-3:oe(A,$,q,q)?(s.mode=31,-4):(s.havedict=1,_):u},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,p,i){var n=e("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(h,f,_,u,g,S,c,v){var b,I,M,E,P,T,U,N,H,oe=v.bits,A=0,$=0,s=0,q=0,ce=0,G=0,de=0,K=0,fe=0,L=0,F=null,le=0,ae=new n.Buf16(16),ne=new n.Buf16(16),ke=null,Ce=0;for(A=0;A<=15;A++)ae[A]=0;for($=0;$<u;$++)ae[f[_+$]]++;for(ce=oe,q=15;1<=q&&ae[q]===0;q--);if(q<ce&&(ce=q),q===0)return g[S++]=20971520,g[S++]=20971520,v.bits=1,0;for(s=1;s<q&&ae[s]===0;s++);for(ce<s&&(ce=s),A=K=1;A<=15;A++)if(K<<=1,(K-=ae[A])<0)return-1;if(0<K&&(h===0||q!==1))return-1;for(ne[1]=0,A=1;A<15;A++)ne[A+1]=ne[A]+ae[A];for($=0;$<u;$++)f[_+$]!==0&&(c[ne[f[_+$]]++]=$);if(T=h===0?(F=ke=c,19):h===1?(F=a,le-=257,ke=t,Ce-=257,256):(F=l,ke=m,-1),A=s,P=S,de=$=L=0,M=-1,E=(fe=1<<(G=ce))-1,h===1&&852<fe||h===2&&592<fe)return 1;for(;;){for(U=A-de,H=c[$]<T?(N=0,c[$]):c[$]>T?(N=ke[Ce+c[$]],F[le+c[$]]):(N=96,0),b=1<<A-de,s=I=1<<G;g[P+(L>>de)+(I-=b)]=U<<24|N<<16|H|0,I!==0;);for(b=1<<A-1;L&b;)b>>=1;if(b!==0?(L&=b-1,L+=b):L=0,$++,--ae[A]==0){if(A===q)break;A=f[_+c[$]]}if(ce<A&&(L&E)!==M){for(de===0&&(de=ce),P+=s,K=1<<(G=A-de);G+de<q&&!((K-=ae[G+de])<=0);)G++,K<<=1;if(fe+=1<<G,h===1&&852<fe||h===2&&592<fe)return 1;g[M=L&E]=ce<<24|G<<16|P-S|0}}return L!==0&&(g[P+L]=A-de<<24|64<<16|0),v.bits=ce,0}},{"../utils/common":41}],51:[function(e,p,i){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,p,i){var n=e("../utils/common"),a=0,t=1;function l(k){for(var D=k.length;0<=--D;)k[D]=0}var m=0,h=29,f=256,_=f+1+h,u=30,g=19,S=2*_+1,c=15,v=16,b=7,I=256,M=16,E=17,P=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=new Array(2*(_+2));l(oe);var A=new Array(2*u);l(A);var $=new Array(512);l($);var s=new Array(256);l(s);var q=new Array(h);l(q);var ce,G,de,K=new Array(u);function fe(k,D,Y,J,B){this.static_tree=k,this.extra_bits=D,this.extra_base=Y,this.elems=J,this.max_length=B,this.has_stree=k&&k.length}function L(k,D){this.dyn_tree=k,this.max_code=0,this.stat_desc=D}function F(k){return k<256?$[k]:$[256+(k>>>7)]}function le(k,D){k.pending_buf[k.pending++]=255&D,k.pending_buf[k.pending++]=D>>>8&255}function ae(k,D,Y){k.bi_valid>v-Y?(k.bi_buf|=D<<k.bi_valid&65535,le(k,k.bi_buf),k.bi_buf=D>>v-k.bi_valid,k.bi_valid+=Y-v):(k.bi_buf|=D<<k.bi_valid&65535,k.bi_valid+=Y)}function ne(k,D,Y){ae(k,Y[2*D],Y[2*D+1])}function ke(k,D){for(var Y=0;Y|=1&k,k>>>=1,Y<<=1,0<--D;);return Y>>>1}function Ce(k,D,Y){var J,B,Q=new Array(c+1),ie=0;for(J=1;J<=c;J++)Q[J]=ie=ie+Y[J-1]<<1;for(B=0;B<=D;B++){var te=k[2*B+1];te!==0&&(k[2*B]=ke(Q[te]++,te))}}function me(k){var D;for(D=0;D<_;D++)k.dyn_ltree[2*D]=0;for(D=0;D<u;D++)k.dyn_dtree[2*D]=0;for(D=0;D<g;D++)k.bl_tree[2*D]=0;k.dyn_ltree[2*I]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ve(k){8<k.bi_valid?le(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Ee(k,D,Y,J){var B=2*D,Q=2*Y;return k[B]<k[Q]||k[B]===k[Q]&&J[D]<=J[Y]}function xe(k,D,Y){for(var J=k.heap[Y],B=Y<<1;B<=k.heap_len&&(B<k.heap_len&&Ee(D,k.heap[B+1],k.heap[B],k.depth)&&B++,!Ee(D,J,k.heap[B],k.depth));)k.heap[Y]=k.heap[B],Y=B,B<<=1;k.heap[Y]=J}function Ue(k,D,Y){var J,B,Q,ie,te=0;if(k.last_lit!==0)for(;J=k.pending_buf[k.d_buf+2*te]<<8|k.pending_buf[k.d_buf+2*te+1],B=k.pending_buf[k.l_buf+te],te++,J===0?ne(k,B,D):(ne(k,(Q=s[B])+f+1,D),(ie=T[Q])!==0&&ae(k,B-=q[Q],ie),ne(k,Q=F(--J),Y),(ie=U[Q])!==0&&ae(k,J-=K[Q],ie)),te<k.last_lit;);ne(k,I,D)}function Ne(k,D){var Y,J,B,Q=D.dyn_tree,ie=D.stat_desc.static_tree,te=D.stat_desc.has_stree,ue=D.stat_desc.elems,ge=-1;for(k.heap_len=0,k.heap_max=S,Y=0;Y<ue;Y++)Q[2*Y]!==0?(k.heap[++k.heap_len]=ge=Y,k.depth[Y]=0):Q[2*Y+1]=0;for(;k.heap_len<2;)Q[2*(B=k.heap[++k.heap_len]=ge<2?++ge:0)]=1,k.depth[B]=0,k.opt_len--,te&&(k.static_len-=ie[2*B+1]);for(D.max_code=ge,Y=k.heap_len>>1;1<=Y;Y--)xe(k,Q,Y);for(B=ue;Y=k.heap[1],k.heap[1]=k.heap[k.heap_len--],xe(k,Q,1),J=k.heap[1],k.heap[--k.heap_max]=Y,k.heap[--k.heap_max]=J,Q[2*B]=Q[2*Y]+Q[2*J],k.depth[B]=(k.depth[Y]>=k.depth[J]?k.depth[Y]:k.depth[J])+1,Q[2*Y+1]=Q[2*J+1]=B,k.heap[1]=B++,xe(k,Q,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(pe,ze){var Ye,Be,Je,we,Ge,ct,$e=ze.dyn_tree,it=ze.max_code,mt=ze.stat_desc.static_tree,Dt=ze.stat_desc.has_stree,Ze=ze.stat_desc.extra_bits,vt=ze.stat_desc.extra_base,Qe=ze.stat_desc.max_length,et=0;for(we=0;we<=c;we++)pe.bl_count[we]=0;for($e[2*pe.heap[pe.heap_max]+1]=0,Ye=pe.heap_max+1;Ye<S;Ye++)Qe<(we=$e[2*$e[2*(Be=pe.heap[Ye])+1]+1]+1)&&(we=Qe,et++),$e[2*Be+1]=we,it<Be||(pe.bl_count[we]++,Ge=0,vt<=Be&&(Ge=Ze[Be-vt]),ct=$e[2*Be],pe.opt_len+=ct*(we+Ge),Dt&&(pe.static_len+=ct*(mt[2*Be+1]+Ge)));if(et!==0){do{for(we=Qe-1;pe.bl_count[we]===0;)we--;pe.bl_count[we]--,pe.bl_count[we+1]+=2,pe.bl_count[Qe]--,et-=2}while(0<et);for(we=Qe;we!==0;we--)for(Be=pe.bl_count[we];Be!==0;)it<(Je=pe.heap[--Ye])||($e[2*Je+1]!==we&&(pe.opt_len+=(we-$e[2*Je+1])*$e[2*Je],$e[2*Je+1]=we),Be--)}}(k,D),Ce(Q,ge,k.bl_count)}function r(k,D,Y){var J,B,Q=-1,ie=D[1],te=0,ue=7,ge=4;for(ie===0&&(ue=138,ge=3),D[2*(Y+1)+1]=65535,J=0;J<=Y;J++)B=ie,ie=D[2*(J+1)+1],++te<ue&&B===ie||(te<ge?k.bl_tree[2*B]+=te:B!==0?(B!==Q&&k.bl_tree[2*B]++,k.bl_tree[2*M]++):te<=10?k.bl_tree[2*E]++:k.bl_tree[2*P]++,Q=B,ge=(te=0)===ie?(ue=138,3):B===ie?(ue=6,3):(ue=7,4))}function W(k,D,Y){var J,B,Q=-1,ie=D[1],te=0,ue=7,ge=4;for(ie===0&&(ue=138,ge=3),J=0;J<=Y;J++)if(B=ie,ie=D[2*(J+1)+1],!(++te<ue&&B===ie)){if(te<ge)for(;ne(k,B,k.bl_tree),--te!=0;);else B!==0?(B!==Q&&(ne(k,B,k.bl_tree),te--),ne(k,M,k.bl_tree),ae(k,te-3,2)):te<=10?(ne(k,E,k.bl_tree),ae(k,te-3,3)):(ne(k,P,k.bl_tree),ae(k,te-11,7));Q=B,ge=(te=0)===ie?(ue=138,3):B===ie?(ue=6,3):(ue=7,4)}}l(K);var j=!1;function x(k,D,Y,J){ae(k,(m<<1)+(J?1:0),3),function(B,Q,ie,te){ve(B),te&&(le(B,ie),le(B,~ie)),n.arraySet(B.pending_buf,B.window,Q,ie,B.pending),B.pending+=ie}(k,D,Y,!0)}i._tr_init=function(k){j||(function(){var D,Y,J,B,Q,ie=new Array(c+1);for(B=J=0;B<h-1;B++)for(q[B]=J,D=0;D<1<<T[B];D++)s[J++]=B;for(s[J-1]=B,B=Q=0;B<16;B++)for(K[B]=Q,D=0;D<1<<U[B];D++)$[Q++]=B;for(Q>>=7;B<u;B++)for(K[B]=Q<<7,D=0;D<1<<U[B]-7;D++)$[256+Q++]=B;for(Y=0;Y<=c;Y++)ie[Y]=0;for(D=0;D<=143;)oe[2*D+1]=8,D++,ie[8]++;for(;D<=255;)oe[2*D+1]=9,D++,ie[9]++;for(;D<=279;)oe[2*D+1]=7,D++,ie[7]++;for(;D<=287;)oe[2*D+1]=8,D++,ie[8]++;for(Ce(oe,_+1,ie),D=0;D<u;D++)A[2*D+1]=5,A[2*D]=ke(D,5);ce=new fe(oe,T,f+1,_,c),G=new fe(A,U,0,u,c),de=new fe(new Array(0),N,0,g,b)}(),j=!0),k.l_desc=new L(k.dyn_ltree,ce),k.d_desc=new L(k.dyn_dtree,G),k.bl_desc=new L(k.bl_tree,de),k.bi_buf=0,k.bi_valid=0,me(k)},i._tr_stored_block=x,i._tr_flush_block=function(k,D,Y,J){var B,Q,ie=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(te){var ue,ge=4093624447;for(ue=0;ue<=31;ue++,ge>>>=1)if(1&ge&&te.dyn_ltree[2*ue]!==0)return a;if(te.dyn_ltree[18]!==0||te.dyn_ltree[20]!==0||te.dyn_ltree[26]!==0)return t;for(ue=32;ue<f;ue++)if(te.dyn_ltree[2*ue]!==0)return t;return a}(k)),Ne(k,k.l_desc),Ne(k,k.d_desc),ie=function(te){var ue;for(r(te,te.dyn_ltree,te.l_desc.max_code),r(te,te.dyn_dtree,te.d_desc.max_code),Ne(te,te.bl_desc),ue=g-1;3<=ue&&te.bl_tree[2*H[ue]+1]===0;ue--);return te.opt_len+=3*(ue+1)+5+5+4,ue}(k),B=k.opt_len+3+7>>>3,(Q=k.static_len+3+7>>>3)<=B&&(B=Q)):B=Q=Y+5,Y+4<=B&&D!==-1?x(k,D,Y,J):k.strategy===4||Q===B?(ae(k,2+(J?1:0),3),Ue(k,oe,A)):(ae(k,4+(J?1:0),3),function(te,ue,ge,pe){var ze;for(ae(te,ue-257,5),ae(te,ge-1,5),ae(te,pe-4,4),ze=0;ze<pe;ze++)ae(te,te.bl_tree[2*H[ze]+1],3);W(te,te.dyn_ltree,ue-1),W(te,te.dyn_dtree,ge-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,ie+1),Ue(k,k.dyn_ltree,k.dyn_dtree)),me(k),J&&ve(k)},i._tr_tally=function(k,D,Y){return k.pending_buf[k.d_buf+2*k.last_lit]=D>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&D,k.pending_buf[k.l_buf+k.last_lit]=255&Y,k.last_lit++,D===0?k.dyn_ltree[2*Y]++:(k.matches++,D--,k.dyn_ltree[2*(s[Y]+f+1)]++,k.dyn_dtree[2*F(D)]++),k.last_lit===k.lit_bufsize-1},i._tr_align=function(k){ae(k,2,3),ne(k,I,oe),function(D){D.bi_valid===16?(le(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(e,p,i){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,p,i){p.exports=typeof setImmediate=="function"?setImmediate:function(){var n=[].slice.apply(arguments);n.splice(1,0,0),setTimeout.apply(null,n)}},{}]},{},[10])(10)})})(Ir);var Vt=Ir.exports,Rr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(y,o){(function(e){y.exports=e()})(function(){return function e(p,i,n){function a(m,h){if(!i[m]){if(!p[m]){var f=typeof Xe=="function"&&Xe;if(!h&&f)return f(m,!0);if(t)return t(m,!0);var _=new Error("Cannot find module '"+m+"'");throw _.code="MODULE_NOT_FOUND",_}var u=i[m]={exports:{}};p[m][0].call(u.exports,function(g){var S=p[m][1][g];return a(S||g)},u,u.exports,e,p,i,n)}return i[m].exports}for(var t=typeof Xe=="function"&&Xe,l=0;l<n.length;l++)a(n[l]);return a}({1:[function(e,p,i){(function(n){var a=n.MutationObserver||n.WebKitMutationObserver,t;if(a){var l=0,m=new a(g),h=n.document.createTextNode("");m.observe(h,{characterData:!0}),t=function(){h.data=l=++l%2}}else if(!n.setImmediate&&typeof n.MessageChannel!="undefined"){var f=new n.MessageChannel;f.port1.onmessage=g,t=function(){f.port2.postMessage(0)}}else"document"in n&&"onreadystatechange"in n.document.createElement("script")?t=function(){var c=n.document.createElement("script");c.onreadystatechange=function(){g(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},n.document.documentElement.appendChild(c)}:t=function(){setTimeout(g,0)};var _,u=[];function g(){_=!0;for(var c,v,b=u.length;b;){for(v=u,u=[],c=-1;++c<b;)v[c]();b=u.length}_=!1}p.exports=S;function S(c){u.push(c)===1&&!_&&t()}}).call(this,typeof We!="undefined"?We:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(e,p,i){var n=e(1);function a(){}var t={},l=["REJECTED"],m=["FULFILLED"],h=["PENDING"];p.exports=f;function f(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,E!==a&&S(this,E)}f.prototype.catch=function(E){return this.then(null,E)},f.prototype.then=function(E,P){if(typeof E!="function"&&this.state===m||typeof P!="function"&&this.state===l)return this;var T=new this.constructor(a);if(this.state!==h){var U=this.state===m?E:P;u(T,U,this.outcome)}else this.queue.push(new _(T,E,P));return T};function _(E,P,T){this.promise=E,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}_.prototype.callFulfilled=function(E){t.resolve(this.promise,E)},_.prototype.otherCallFulfilled=function(E){u(this.promise,this.onFulfilled,E)},_.prototype.callRejected=function(E){t.reject(this.promise,E)},_.prototype.otherCallRejected=function(E){u(this.promise,this.onRejected,E)};function u(E,P,T){n(function(){var U;try{U=P(T)}catch(N){return t.reject(E,N)}U===E?t.reject(E,new TypeError("Cannot resolve promise with itself")):t.resolve(E,U)})}t.resolve=function(E,P){var T=c(g,P);if(T.status==="error")return t.reject(E,T.value);var U=T.value;if(U)S(E,U);else{E.state=m,E.outcome=P;for(var N=-1,H=E.queue.length;++N<H;)E.queue[N].callFulfilled(P)}return E},t.reject=function(E,P){E.state=l,E.outcome=P;for(var T=-1,U=E.queue.length;++T<U;)E.queue[T].callRejected(P);return E};function g(E){var P=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof P=="function")return function(){P.apply(E,arguments)}}function S(E,P){var T=!1;function U(A){T||(T=!0,t.reject(E,A))}function N(A){T||(T=!0,t.resolve(E,A))}function H(){P(N,U)}var oe=c(H);oe.status==="error"&&U(oe.value)}function c(E,P){var T={};try{T.value=E(P),T.status="success"}catch(U){T.status="error",T.value=U}return T}f.resolve=v;function v(E){return E instanceof this?E:t.resolve(new this(a),E)}f.reject=b;function b(E){var P=new this(a);return t.reject(P,E)}f.all=I;function I(E){var P=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=E.length,U=!1;if(!T)return this.resolve([]);for(var N=new Array(T),H=0,oe=-1,A=new this(a);++oe<T;)$(E[oe],oe);return A;function $(s,q){P.resolve(s).then(ce,function(G){U||(U=!0,t.reject(A,G))});function ce(G){N[q]=G,++H===T&&!U&&(U=!0,t.resolve(A,N))}}}f.race=M;function M(E){var P=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=E.length,U=!1;if(!T)return this.resolve([]);for(var N=-1,H=new this(a);++N<T;)oe(E[N]);return H;function oe(A){P.resolve(A).then(function($){U||(U=!0,t.resolve(H,$))},function($){U||(U=!0,t.reject(H,$))})}}},{"1":1}],3:[function(e,p,i){(function(n){typeof n.Promise!="function"&&(n.Promise=e(2))}).call(this,typeof We!="undefined"?We:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(e,p,i){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function a(d,C){if(!(d instanceof C))throw new TypeError("Cannot call a class as a function")}function t(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var l=t();function m(){try{if(!l||!l.open)return!1;var d=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),C=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||C)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function h(d,C){d=d||[],C=C||{};try{return new Blob(d,C)}catch(R){if(R.name!=="TypeError")throw R;for(var w=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,O=new w,z=0;z<d.length;z+=1)O.append(d[z]);return O.getBlob(C.type)}}typeof Promise=="undefined"&&e(3);var f=Promise;function _(d,C){C&&d.then(function(w){C(null,w)},function(w){C(w)})}function u(d,C,w){typeof C=="function"&&d.then(C),typeof w=="function"&&d.catch(w)}function g(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var c="local-forage-detect-blob-support",v=void 0,b={},I=Object.prototype.toString,M="readonly",E="readwrite";function P(d){for(var C=d.length,w=new ArrayBuffer(C),O=new Uint8Array(w),z=0;z<C;z++)O[z]=d.charCodeAt(z);return w}function T(d){return new f(function(C){var w=d.transaction(c,E),O=h([""]);w.objectStore(c).put(O,"key"),w.onabort=function(z){z.preventDefault(),z.stopPropagation(),C(!1)},w.oncomplete=function(){var z=navigator.userAgent.match(/Chrome\/(\d+)/),R=navigator.userAgent.match(/Edge\//);C(R||!z||parseInt(z[1],10)>=43)}}).catch(function(){return!1})}function U(d){return typeof v=="boolean"?f.resolve(v):T(d).then(function(C){return v=C,v})}function N(d){var C=b[d.name],w={};w.promise=new f(function(O,z){w.resolve=O,w.reject=z}),C.deferredOperations.push(w),C.dbReady?C.dbReady=C.dbReady.then(function(){return w.promise}):C.dbReady=w.promise}function H(d){var C=b[d.name],w=C.deferredOperations.pop();if(w)return w.resolve(),w.promise}function oe(d,C){var w=b[d.name],O=w.deferredOperations.pop();if(O)return O.reject(C),O.promise}function A(d,C){return new f(function(w,O){if(b[d.name]=b[d.name]||F(),d.db)if(C)N(d),d.db.close();else return w(d.db);var z=[d.name];C&&z.push(d.version);var R=l.open.apply(l,z);C&&(R.onupgradeneeded=function(Z){var V=R.result;try{V.createObjectStore(d.storeName),Z.oldVersion<=1&&V.createObjectStore(c)}catch(X){if(X.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+Z.oldVersion+" to version "+Z.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw X}}),R.onerror=function(Z){Z.preventDefault(),O(R.error)},R.onsuccess=function(){var Z=R.result;Z.onversionchange=function(V){V.target.close()},w(Z),H(d)}})}function $(d){return A(d,!1)}function s(d){return A(d,!0)}function q(d,C){if(!d.db)return!0;var w=!d.db.objectStoreNames.contains(d.storeName),O=d.version<d.db.version,z=d.version>d.db.version;if(O&&(d.version!==C&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),z||w){if(w){var R=d.db.version+1;R>d.version&&(d.version=R)}return!0}return!1}function ce(d){return new f(function(C,w){var O=new FileReader;O.onerror=w,O.onloadend=function(z){var R=btoa(z.target.result||"");C({__local_forage_encoded_blob:!0,data:R,type:d.type})},O.readAsBinaryString(d)})}function G(d){var C=P(atob(d.data));return h([C],{type:d.type})}function de(d){return d&&d.__local_forage_encoded_blob}function K(d){var C=this,w=C._initReady().then(function(){var O=b[C._dbInfo.name];if(O&&O.dbReady)return O.dbReady});return u(w,d,d),w}function fe(d){N(d);for(var C=b[d.name],w=C.forages,O=0;O<w.length;O++){var z=w[O];z._dbInfo.db&&(z._dbInfo.db.close(),z._dbInfo.db=null)}return d.db=null,$(d).then(function(R){return d.db=R,q(d)?s(d):R}).then(function(R){d.db=C.db=R;for(var Z=0;Z<w.length;Z++)w[Z]._dbInfo.db=R}).catch(function(R){throw oe(d,R),R})}function L(d,C,w,O){O===void 0&&(O=1);try{var z=d.db.transaction(d.storeName,C);w(null,z)}catch(R){if(O>0&&(!d.db||R.name==="InvalidStateError"||R.name==="NotFoundError"))return f.resolve().then(function(){if(!d.db||R.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),s(d)}).then(function(){return fe(d).then(function(){L(d,C,w,O-1)})}).catch(w);w(R)}}function F(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function le(d){var C=this,w={db:null};if(d)for(var O in d)w[O]=d[O];var z=b[w.name];z||(z=F(),b[w.name]=z),z.forages.push(C),C._initReady||(C._initReady=C.ready,C.ready=K);var R=[];function Z(){return f.resolve()}for(var V=0;V<z.forages.length;V++){var X=z.forages[V];X!==C&&R.push(X._initReady().catch(Z))}var ee=z.forages.slice(0);return f.all(R).then(function(){return w.db=z.db,$(w)}).then(function(re){return w.db=re,q(w,C._defaultConfig.version)?s(w):re}).then(function(re){w.db=z.db=re,C._dbInfo=w;for(var se=0;se<ee.length;se++){var he=ee[se];he!==C&&(he._dbInfo.db=w.db,he._dbInfo.version=w.version)}})}function ae(d,C){var w=this;d=g(d);var O=new f(function(z,R){w.ready().then(function(){L(w._dbInfo,M,function(Z,V){if(Z)return R(Z);try{var X=V.objectStore(w._dbInfo.storeName),ee=X.get(d);ee.onsuccess=function(){var re=ee.result;re===void 0&&(re=null),de(re)&&(re=G(re)),z(re)},ee.onerror=function(){R(ee.error)}}catch(re){R(re)}})}).catch(R)});return _(O,C),O}function ne(d,C){var w=this,O=new f(function(z,R){w.ready().then(function(){L(w._dbInfo,M,function(Z,V){if(Z)return R(Z);try{var X=V.objectStore(w._dbInfo.storeName),ee=X.openCursor(),re=1;ee.onsuccess=function(){var se=ee.result;if(se){var he=se.value;de(he)&&(he=G(he));var _e=d(he,se.key,re++);_e!==void 0?z(_e):se.continue()}else z()},ee.onerror=function(){R(ee.error)}}catch(se){R(se)}})}).catch(R)});return _(O,C),O}function ke(d,C,w){var O=this;d=g(d);var z=new f(function(R,Z){var V;O.ready().then(function(){return V=O._dbInfo,I.call(C)==="[object Blob]"?U(V.db).then(function(X){return X?C:ce(C)}):C}).then(function(X){L(O._dbInfo,E,function(ee,re){if(ee)return Z(ee);try{var se=re.objectStore(O._dbInfo.storeName);X===null&&(X=void 0);var he=se.put(X,d);re.oncomplete=function(){X===void 0&&(X=null),R(X)},re.onabort=re.onerror=function(){var _e=he.error?he.error:he.transaction.error;Z(_e)}}catch(_e){Z(_e)}})}).catch(Z)});return _(z,w),z}function Ce(d,C){var w=this;d=g(d);var O=new f(function(z,R){w.ready().then(function(){L(w._dbInfo,E,function(Z,V){if(Z)return R(Z);try{var X=V.objectStore(w._dbInfo.storeName),ee=X.delete(d);V.oncomplete=function(){z()},V.onerror=function(){R(ee.error)},V.onabort=function(){var re=ee.error?ee.error:ee.transaction.error;R(re)}}catch(re){R(re)}})}).catch(R)});return _(O,C),O}function me(d){var C=this,w=new f(function(O,z){C.ready().then(function(){L(C._dbInfo,E,function(R,Z){if(R)return z(R);try{var V=Z.objectStore(C._dbInfo.storeName),X=V.clear();Z.oncomplete=function(){O()},Z.onabort=Z.onerror=function(){var ee=X.error?X.error:X.transaction.error;z(ee)}}catch(ee){z(ee)}})}).catch(z)});return _(w,d),w}function ve(d){var C=this,w=new f(function(O,z){C.ready().then(function(){L(C._dbInfo,M,function(R,Z){if(R)return z(R);try{var V=Z.objectStore(C._dbInfo.storeName),X=V.count();X.onsuccess=function(){O(X.result)},X.onerror=function(){z(X.error)}}catch(ee){z(ee)}})}).catch(z)});return _(w,d),w}function Ee(d,C){var w=this,O=new f(function(z,R){if(d<0){z(null);return}w.ready().then(function(){L(w._dbInfo,M,function(Z,V){if(Z)return R(Z);try{var X=V.objectStore(w._dbInfo.storeName),ee=!1,re=X.openKeyCursor();re.onsuccess=function(){var se=re.result;if(!se){z(null);return}d===0||ee?z(se.key):(ee=!0,se.advance(d))},re.onerror=function(){R(re.error)}}catch(se){R(se)}})}).catch(R)});return _(O,C),O}function xe(d){var C=this,w=new f(function(O,z){C.ready().then(function(){L(C._dbInfo,M,function(R,Z){if(R)return z(R);try{var V=Z.objectStore(C._dbInfo.storeName),X=V.openKeyCursor(),ee=[];X.onsuccess=function(){var re=X.result;if(!re){O(ee);return}ee.push(re.key),re.continue()},X.onerror=function(){z(X.error)}}catch(re){z(re)}})}).catch(z)});return _(w,d),w}function Ue(d,C){C=S.apply(this,arguments);var w=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||w.name,d.storeName=d.storeName||w.storeName);var O=this,z;if(!d.name)z=f.reject("Invalid arguments");else{var R=d.name===w.name&&O._dbInfo.db,Z=R?f.resolve(O._dbInfo.db):$(d).then(function(V){var X=b[d.name],ee=X.forages;X.db=V;for(var re=0;re<ee.length;re++)ee[re]._dbInfo.db=V;return V});d.storeName?z=Z.then(function(V){if(!!V.objectStoreNames.contains(d.storeName)){var X=V.version+1;N(d);var ee=b[d.name],re=ee.forages;V.close();for(var se=0;se<re.length;se++){var he=re[se];he._dbInfo.db=null,he._dbInfo.version=X}var _e=new f(function(ye,Ae){var Se=l.open(d.name,X);Se.onerror=function(je){var ht=Se.result;ht.close(),Ae(je)},Se.onupgradeneeded=function(){var je=Se.result;je.deleteObjectStore(d.storeName)},Se.onsuccess=function(){var je=Se.result;je.close(),ye(je)}});return _e.then(function(ye){ee.db=ye;for(var Ae=0;Ae<re.length;Ae++){var Se=re[Ae];Se._dbInfo.db=ye,H(Se._dbInfo)}}).catch(function(ye){throw(oe(d,ye)||f.resolve()).catch(function(){}),ye})}}):z=Z.then(function(V){N(d);var X=b[d.name],ee=X.forages;V.close();for(var re=0;re<ee.length;re++){var se=ee[re];se._dbInfo.db=null}var he=new f(function(_e,ye){var Ae=l.deleteDatabase(d.name);Ae.onerror=function(){var Se=Ae.result;Se&&Se.close(),ye(Ae.error)},Ae.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},Ae.onsuccess=function(){var Se=Ae.result;Se&&Se.close(),_e(Se)}});return he.then(function(_e){X.db=_e;for(var ye=0;ye<ee.length;ye++){var Ae=ee[ye];H(Ae._dbInfo)}}).catch(function(_e){throw(oe(d,_e)||f.resolve()).catch(function(){}),_e})})}return _(z,C),z}var Ne={_driver:"asyncStorage",_initStorage:le,_support:m(),iterate:ne,getItem:ae,setItem:ke,removeItem:Ce,clear:me,length:ve,key:Ee,keys:xe,dropInstance:Ue};function r(){return typeof openDatabase=="function"}var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="~~local_forage_type~",x=/^~~local_forage_type~([^~]+)~/,k="__lfsc__:",D=k.length,Y="arbf",J="blob",B="si08",Q="ui08",ie="uic8",te="si16",ue="si32",ge="ur16",pe="ui32",ze="fl32",Ye="fl64",Be=D+Y.length,Je=Object.prototype.toString;function we(d){var C=d.length*.75,w=d.length,O,z=0,R,Z,V,X;d[d.length-1]==="="&&(C--,d[d.length-2]==="="&&C--);var ee=new ArrayBuffer(C),re=new Uint8Array(ee);for(O=0;O<w;O+=4)R=W.indexOf(d[O]),Z=W.indexOf(d[O+1]),V=W.indexOf(d[O+2]),X=W.indexOf(d[O+3]),re[z++]=R<<2|Z>>4,re[z++]=(Z&15)<<4|V>>2,re[z++]=(V&3)<<6|X&63;return ee}function Ge(d){var C=new Uint8Array(d),w="",O;for(O=0;O<C.length;O+=3)w+=W[C[O]>>2],w+=W[(C[O]&3)<<4|C[O+1]>>4],w+=W[(C[O+1]&15)<<2|C[O+2]>>6],w+=W[C[O+2]&63];return C.length%3==2?w=w.substring(0,w.length-1)+"=":C.length%3==1&&(w=w.substring(0,w.length-2)+"=="),w}function ct(d,C){var w="";if(d&&(w=Je.call(d)),d&&(w==="[object ArrayBuffer]"||d.buffer&&Je.call(d.buffer)==="[object ArrayBuffer]")){var O,z=k;d instanceof ArrayBuffer?(O=d,z+=Y):(O=d.buffer,w==="[object Int8Array]"?z+=B:w==="[object Uint8Array]"?z+=Q:w==="[object Uint8ClampedArray]"?z+=ie:w==="[object Int16Array]"?z+=te:w==="[object Uint16Array]"?z+=ge:w==="[object Int32Array]"?z+=ue:w==="[object Uint32Array]"?z+=pe:w==="[object Float32Array]"?z+=ze:w==="[object Float64Array]"?z+=Ye:C(new Error("Failed to get type for BinaryArray"))),C(z+Ge(O))}else if(w==="[object Blob]"){var R=new FileReader;R.onload=function(){var Z=j+d.type+"~"+Ge(this.result);C(k+J+Z)},R.readAsArrayBuffer(d)}else try{C(JSON.stringify(d))}catch(Z){console.error("Couldn't convert value into a JSON string: ",d),C(null,Z)}}function $e(d){if(d.substring(0,D)!==k)return JSON.parse(d);var C=d.substring(Be),w=d.substring(D,Be),O;if(w===J&&x.test(C)){var z=C.match(x);O=z[1],C=C.substring(z[0].length)}var R=we(C);switch(w){case Y:return R;case J:return h([R],{type:O});case B:return new Int8Array(R);case Q:return new Uint8Array(R);case ie:return new Uint8ClampedArray(R);case te:return new Int16Array(R);case ge:return new Uint16Array(R);case ue:return new Int32Array(R);case pe:return new Uint32Array(R);case ze:return new Float32Array(R);case Ye:return new Float64Array(R);default:throw new Error("Unkown type: "+w)}}var it={serialize:ct,deserialize:$e,stringToBuffer:we,bufferToString:Ge};function mt(d,C,w,O){d.executeSql("CREATE TABLE IF NOT EXISTS "+C.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],w,O)}function Dt(d){var C=this,w={db:null};if(d)for(var O in d)w[O]=typeof d[O]!="string"?d[O].toString():d[O];var z=new f(function(R,Z){try{w.db=openDatabase(w.name,String(w.version),w.description,w.size)}catch(V){return Z(V)}w.db.transaction(function(V){mt(V,w,function(){C._dbInfo=w,R()},function(X,ee){Z(ee)})},Z)});return w.serializer=it,z}function Ze(d,C,w,O,z,R){d.executeSql(w,O,z,function(Z,V){V.code===V.SYNTAX_ERR?Z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[C.storeName],function(X,ee){ee.rows.length?R(X,V):mt(X,C,function(){X.executeSql(w,O,z,R)},R)},R):R(Z,V)},R)}function vt(d,C){var w=this;d=g(d);var O=new f(function(z,R){w.ready().then(function(){var Z=w._dbInfo;Z.db.transaction(function(V){Ze(V,Z,"SELECT * FROM "+Z.storeName+" WHERE key = ? LIMIT 1",[d],function(X,ee){var re=ee.rows.length?ee.rows.item(0).value:null;re&&(re=Z.serializer.deserialize(re)),z(re)},function(X,ee){R(ee)})})}).catch(R)});return _(O,C),O}function Qe(d,C){var w=this,O=new f(function(z,R){w.ready().then(function(){var Z=w._dbInfo;Z.db.transaction(function(V){Ze(V,Z,"SELECT * FROM "+Z.storeName,[],function(X,ee){for(var re=ee.rows,se=re.length,he=0;he<se;he++){var _e=re.item(he),ye=_e.value;if(ye&&(ye=Z.serializer.deserialize(ye)),ye=d(ye,_e.key,he+1),ye!==void 0){z(ye);return}}z()},function(X,ee){R(ee)})})}).catch(R)});return _(O,C),O}function et(d,C,w,O){var z=this;d=g(d);var R=new f(function(Z,V){z.ready().then(function(){C===void 0&&(C=null);var X=C,ee=z._dbInfo;ee.serializer.serialize(C,function(re,se){se?V(se):ee.db.transaction(function(he){Ze(he,ee,"INSERT OR REPLACE INTO "+ee.storeName+" (key, value) VALUES (?, ?)",[d,re],function(){Z(X)},function(_e,ye){V(ye)})},function(he){if(he.code===he.QUOTA_ERR){if(O>0){Z(et.apply(z,[d,X,w,O-1]));return}V(he)}})})}).catch(V)});return _(R,w),R}function Pr(d,C,w){return et.apply(this,[d,C,w,1])}function Ur(d,C){var w=this;d=g(d);var O=new f(function(z,R){w.ready().then(function(){var Z=w._dbInfo;Z.db.transaction(function(V){Ze(V,Z,"DELETE FROM "+Z.storeName+" WHERE key = ?",[d],function(){z()},function(X,ee){R(ee)})})}).catch(R)});return _(O,C),O}function jr(d){var C=this,w=new f(function(O,z){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){Ze(Z,R,"DELETE FROM "+R.storeName,[],function(){O()},function(V,X){z(X)})})}).catch(z)});return _(w,d),w}function Mr(d){var C=this,w=new f(function(O,z){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){Ze(Z,R,"SELECT COUNT(key) as c FROM "+R.storeName,[],function(V,X){var ee=X.rows.item(0).c;O(ee)},function(V,X){z(X)})})}).catch(z)});return _(w,d),w}function $r(d,C){var w=this,O=new f(function(z,R){w.ready().then(function(){var Z=w._dbInfo;Z.db.transaction(function(V){Ze(V,Z,"SELECT key FROM "+Z.storeName+" WHERE id = ? LIMIT 1",[d+1],function(X,ee){var re=ee.rows.length?ee.rows.item(0).key:null;z(re)},function(X,ee){R(ee)})})}).catch(R)});return _(O,C),O}function Wr(d){var C=this,w=new f(function(O,z){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){Ze(Z,R,"SELECT key FROM "+R.storeName,[],function(V,X){for(var ee=[],re=0;re<X.rows.length;re++)ee.push(X.rows.item(re).key);O(ee)},function(V,X){z(X)})})}).catch(z)});return _(w,d),w}function Zr(d){return new f(function(C,w){d.transaction(function(O){O.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(z,R){for(var Z=[],V=0;V<R.rows.length;V++)Z.push(R.rows.item(V).name);C({db:d,storeNames:Z})},function(z,R){w(R)})},function(O){w(O)})})}function Hr(d,C){C=S.apply(this,arguments);var w=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||w.name,d.storeName=d.storeName||w.storeName);var O=this,z;return d.name?z=new f(function(R){var Z;d.name===w.name?Z=O._dbInfo.db:Z=openDatabase(d.name,"","",0),d.storeName?R({db:Z,storeNames:[d.storeName]}):R(Zr(Z))}).then(function(R){return new f(function(Z,V){R.db.transaction(function(X){function ee(_e){return new f(function(ye,Ae){X.executeSql("DROP TABLE IF EXISTS "+_e,[],function(){ye()},function(Se,je){Ae(je)})})}for(var re=[],se=0,he=R.storeNames.length;se<he;se++)re.push(ee(R.storeNames[se]));f.all(re).then(function(){Z()}).catch(function(_e){V(_e)})},function(X){V(X)})})}):z=f.reject("Invalid arguments"),_(z,C),z}var qr={_driver:"webSQLStorage",_initStorage:Dt,_support:r(),iterate:Qe,getItem:vt,setItem:Pr,removeItem:Ur,clear:jr,length:Mr,key:$r,keys:Wr,dropInstance:Hr};function Yr(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qt(d,C){var w=d.name+"/";return d.storeName!==C.storeName&&(w+=d.storeName+"/"),w}function Jr(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch{return!0}}function Gr(){return!Jr()||localStorage.length>0}function Vr(d){var C=this,w={};if(d)for(var O in d)w[O]=d[O];return w.keyPrefix=Qt(d,C._defaultConfig),Gr()?(C._dbInfo=w,w.serializer=it,f.resolve()):f.reject()}function Kr(d){var C=this,w=C.ready().then(function(){for(var O=C._dbInfo.keyPrefix,z=localStorage.length-1;z>=0;z--){var R=localStorage.key(z);R.indexOf(O)===0&&localStorage.removeItem(R)}});return _(w,d),w}function Xr(d,C){var w=this;d=g(d);var O=w.ready().then(function(){var z=w._dbInfo,R=localStorage.getItem(z.keyPrefix+d);return R&&(R=z.serializer.deserialize(R)),R});return _(O,C),O}function Qr(d,C){var w=this,O=w.ready().then(function(){for(var z=w._dbInfo,R=z.keyPrefix,Z=R.length,V=localStorage.length,X=1,ee=0;ee<V;ee++){var re=localStorage.key(ee);if(re.indexOf(R)===0){var se=localStorage.getItem(re);if(se&&(se=z.serializer.deserialize(se)),se=d(se,re.substring(Z),X++),se!==void 0)return se}}});return _(O,C),O}function en(d,C){var w=this,O=w.ready().then(function(){var z=w._dbInfo,R;try{R=localStorage.key(d)}catch{R=null}return R&&(R=R.substring(z.keyPrefix.length)),R});return _(O,C),O}function tn(d){var C=this,w=C.ready().then(function(){for(var O=C._dbInfo,z=localStorage.length,R=[],Z=0;Z<z;Z++){var V=localStorage.key(Z);V.indexOf(O.keyPrefix)===0&&R.push(V.substring(O.keyPrefix.length))}return R});return _(w,d),w}function rn(d){var C=this,w=C.keys().then(function(O){return O.length});return _(w,d),w}function nn(d,C){var w=this;d=g(d);var O=w.ready().then(function(){var z=w._dbInfo;localStorage.removeItem(z.keyPrefix+d)});return _(O,C),O}function an(d,C,w){var O=this;d=g(d);var z=O.ready().then(function(){C===void 0&&(C=null);var R=C;return new f(function(Z,V){var X=O._dbInfo;X.serializer.serialize(C,function(ee,re){if(re)V(re);else try{localStorage.setItem(X.keyPrefix+d,ee),Z(R)}catch(se){(se.name==="QuotaExceededError"||se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&V(se),V(se)}})})});return _(z,w),z}function on(d,C){if(C=S.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var w=this.config();d.name=d.name||w.name,d.storeName=d.storeName||w.storeName}var O=this,z;return d.name?z=new f(function(R){d.storeName?R(Qt(d,O._defaultConfig)):R(d.name+"/")}).then(function(R){for(var Z=localStorage.length-1;Z>=0;Z--){var V=localStorage.key(Z);V.indexOf(R)===0&&localStorage.removeItem(V)}}):z=f.reject("Invalid arguments"),_(z,C),z}var sn={_driver:"localStorageWrapper",_initStorage:Vr,_support:Yr(),iterate:Qr,getItem:Xr,setItem:an,removeItem:nn,clear:Kr,length:rn,key:en,keys:tn,dropInstance:on},un=function(C,w){return C===w||typeof C=="number"&&typeof w=="number"&&isNaN(C)&&isNaN(w)},ln=function(C,w){for(var O=C.length,z=0;z<O;){if(un(C[z],w))return!0;z++}return!1},er=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},dt={},tr={},at={INDEXEDDB:Ne,WEBSQL:qr,LOCALSTORAGE:sn},fn=[at.INDEXEDDB._driver,at.WEBSQL._driver,at.LOCALSTORAGE._driver],_t=["dropInstance"],zt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(_t),cn={description:"",driver:fn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dn(d,C){d[C]=function(){var w=arguments;return d.ready().then(function(){return d[C].apply(d,w)})}}function Nt(){for(var d=1;d<arguments.length;d++){var C=arguments[d];if(C)for(var w in C)C.hasOwnProperty(w)&&(er(C[w])?arguments[0][w]=C[w].slice():arguments[0][w]=C[w])}return arguments[0]}var hn=function(){function d(C){a(this,d);for(var w in at)if(at.hasOwnProperty(w)){var O=at[w],z=O._driver;this[w]=z,dt[z]||this.defineDriver(O)}this._defaultConfig=Nt({},cn),this._config=Nt({},this._defaultConfig,C),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(w){if((typeof w=="undefined"?"undefined":n(w))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var O in w){if(O==="storeName"&&(w[O]=w[O].replace(/\W/g,"_")),O==="version"&&typeof w[O]!="number")return new Error("Database version must be a number.");this._config[O]=w[O]}return"driver"in w&&w.driver?this.setDriver(this._config.driver):!0}else return typeof w=="string"?this._config[w]:this._config},d.prototype.defineDriver=function(w,O,z){var R=new f(function(Z,V){try{var X=w._driver,ee=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!w._driver){V(ee);return}for(var re=zt.concat("_initStorage"),se=0,he=re.length;se<he;se++){var _e=re[se],ye=!ln(_t,_e);if((ye||w[_e])&&typeof w[_e]!="function"){V(ee);return}}var Ae=function(){for(var ht=function(vn){return function(){var _n=new Error("Method "+vn+" is not implemented by the current driver"),rr=f.reject(_n);return _(rr,arguments[arguments.length-1]),rr}},Bt=0,mn=_t.length;Bt<mn;Bt++){var Tt=_t[Bt];w[Tt]||(w[Tt]=ht(Tt))}};Ae();var Se=function(ht){dt[X]&&console.info("Redefining LocalForage driver: "+X),dt[X]=w,tr[X]=ht,Z()};"_support"in w?w._support&&typeof w._support=="function"?w._support().then(Se,V):Se(!!w._support):Se(!0)}catch(je){V(je)}});return u(R,O,z),R},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(w,O,z){var R=dt[w]?f.resolve(dt[w]):f.reject(new Error("Driver not found."));return u(R,O,z),R},d.prototype.getSerializer=function(w){var O=f.resolve(it);return u(O,w),O},d.prototype.ready=function(w){var O=this,z=O._driverSet.then(function(){return O._ready===null&&(O._ready=O._initDriver()),O._ready});return u(z,w,w),z},d.prototype.setDriver=function(w,O,z){var R=this;er(w)||(w=[w]);var Z=this._getSupportedDrivers(w);function V(){R._config.driver=R.driver()}function X(se){return R._extend(se),V(),R._ready=R._initStorage(R._config),R._ready}function ee(se){return function(){var he=0;function _e(){for(;he<se.length;){var ye=se[he];return he++,R._dbInfo=null,R._ready=null,R.getDriver(ye).then(X).catch(_e)}V();var Ae=new Error("No available storage method found.");return R._driverSet=f.reject(Ae),R._driverSet}return _e()}}var re=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=re.then(function(){var se=Z[0];return R._dbInfo=null,R._ready=null,R.getDriver(se).then(function(he){R._driver=he._driver,V(),R._wrapLibraryMethodsWithReady(),R._initDriver=ee(Z)})}).catch(function(){V();var se=new Error("No available storage method found.");return R._driverSet=f.reject(se),R._driverSet}),u(this._driverSet,O,z),this._driverSet},d.prototype.supports=function(w){return!!tr[w]},d.prototype._extend=function(w){Nt(this,w)},d.prototype._getSupportedDrivers=function(w){for(var O=[],z=0,R=w.length;z<R;z++){var Z=w[z];this.supports(Z)&&O.push(Z)}return O},d.prototype._wrapLibraryMethodsWithReady=function(){for(var w=0,O=zt.length;w<O;w++)dn(this,zt[w])},d.prototype.createInstance=function(w){return new d(w)},d}(),pn=new hn;p.exports=pn},{"3":3}]},{},[4])(4)})})(Rr);var Or=Rr.exports;class Dr{constructor(){ot(this,"file","")}write(o){this.file+=o}}function qe(y,o,e,p){o[y]&&p.write(e)}class Kt{constructor(){ot(this,"tmp");ot(this,"docLinks");this.tmp=Or.createInstance({name:"file_cache"}),this.docLinks=new Map}stringMul(o,e){let p=o;for(let i=0;i<e-1;i++)p+=o;return p}convertele(o,e){var p,i,n;if(o.type=="textRun"){let a=o.textRun;if(a.style){let t=a.style;if(qe("link",t,"[",e),qe("codeInline",t,"`",e),qe("bold",t,"**",e),qe("italic",t,"*",e),e.write(a.text),qe("codeInline",t,"`",e),qe("bold",t,"**",e),qe("italic",t,"*",e),qe("link",t,"](",e),t.link){let l=decodeURIComponent(t.link.url);qe("link",t,l,e)}qe("link",t,")",e)}else e.write(a.text)}else if(o.type=="equation")e.write("$"),e.write(o.equation.equation),e.write("$");else if(o.type=="docsLink"){let a=new RegExp("https://\\w*.feishu.cn/((wiki)|(docs))/\\w+(?<id>#\\w+)"),t=o.docsLink.url;if(a.test(t)){let l=(n=(i=(p=a.exec(t))==null?void 0:p.groups)==null?void 0:i.id)!=null?n:"";e.write(`[${l}](${l})`)}}}async convertPara(o,e,p,i){let n=o.body.blocks;for(let a of n)if(a.type=="paragraph"){let t=a.paragraph,l=t.lineId,m=t.elements;if(t.style){const h=t.style;h.headingLevel?(e.write(this.stringMul("#",h.headingLevel)),e.write(" ")):l=null,h.list&&h.list.type==="checkbox"&&e.write("- [ ] "),h.list&&h.list.type==="bullet"&&e.write("- "),h.list&&h.list.type==="number"&&e.write(JSON.stringify(h.list.number)+". "),h.quote&&e.write("> ")}else l=null;for(let h of m){l&&e.write(`<span id="${l}">`);let f=new Dr;this.convertele(h,f),e.write(f.file),l&&(this.docLinks.set(l,f.file),e.write("</span>"))}e.write(`

`)}else if(a.type=="code"){let t=a.code;e.write("```"),e.write(t.language),e.write(`
`),await this.convertPara(t,e,p,i),e.write("```\n\n")}else if(a.type=="gallery"){let t=a.gallery.imageList;for(let l of t){let m=l.fileToken,h=await this.downloadAsset(m,p,i);e.write(`![](assets/${h})

`)}}else a.type=="horizontalLine"?e.write(`
---

`):a.type=="callout"&&this.convertPara(a.callout,e,p,i)}async convert(o,e,p){let i=new Dr;await this.convertPara(p,i,o,e);for(const n of this.docLinks){let[a,t]=n;i.file=ji(i.file,`\\[#${a}\\]\\(#${a}\\)`,`[${t}](#${a})`)}return i}async downloadAsset(o,e,p){var a,t;let i=await this.tmp.getItem(o),n="";if(i){let l=i.mime;l=="image/png"?n=".png":(l=="image/jpeg"||l=="image/jpg")&&(n=".jpg"),(a=p.folder("assets"))==null||a.file(o+n,i.data)}else{let l=await Pe.get(Me(`/drive/v1/medias/${o}/download`),{headers:{Authorization:"Bearer "+e},responseType:"arraybuffer"}),m=l.headers["content-type"];m=="image/png"?n=".png":(m=="image/jpeg"||m=="image/jpg")&&(n=".jpg");const h=new Uint8Array(l.data);(t=p.folder("assets"))==null||t.file(o+n,h),await this.tmp.setItem(o,{mime:m,data:h})}return o+n}}function ji(y,o,e){var p=new RegExp(o,"g");return y.replace(p,e)}var Rt={baseUrl:"https://service-ibnu7eg1-1258264812.sh.apigw.tencentcs.com/release/proxy",baseUrl_noauth:"https://service-ibnu7eg1-1258264812.sh.apigw.tencentcs.com/release/proxy_noauth"};function zr(y,o){return y==null||y===""?o:y}var Nr;(function(y){y[y.left=1]="left",y[y.center=2]="center",y[y.right=3]="right"})(Nr||(Nr={}));function De(y){let o="";for(const e of y)if(e.text_run){let p=e.text_run.content,i=e.text_run.text_element_style;i.link&&(p=`[${p}](${decodeURIComponent(i.link.url)})`),i.bold&&(p="**"+p.trim()+"**"),i.italic&&(p="*"+p.trim()+"*"),i.inline_code&&(p="`"+p+"`"),o+=p}else e.equation&&(o+="$"+e.equation.content.trim()+"$");return o}async function Mi(y,o,e,p,i,n){const a=await nt(y,o,e,p,i,n);return await Promise.all(y.async_tasks||[]),a}async function nt(y,o,e,p,i,n){var m,h;let a="",t=0;const l={output_raw:(m=y.output_raw)!=null?m:!1,async_tasks:(h=y.async_tasks)!=null?h:[]};y.async_tasks=l.async_tasks;for(const f of e){if(f.parent_id!=o)continue;t!=f.block_type&&(t!=0&&(a+=`
`),t=0);let _=`

`,u="";switch((n==null?void 0:n.parent_prefix)&&(u=n.parent_prefix+u,_=`
`),(n==null?void 0:n.nonewline)&&(_=""),f.block_type){case be.page:{const g=f;u+="# "+De(g.page.elements)+`

`,u+=await nt(l,g.block_id,e,p,i)}break;case be.text:{u+=De(f.text.elements)+_;break}case be.code:{const g=f,S=g.code.style.language<=Lr.length?Lr[g.code.style.language-1]:"";u+="```"+S+`
`+De(g.code.elements)+"\n```\n\n";break}case be.h1:{u+="# "+De(f.heading1.elements)+`

`;break}case be.h2:{u+="## "+De(f.heading2.elements)+`

`;break}case be.h3:{u+="### "+De(f.heading3.elements)+`

`;break}case be.h4:{u+="#### "+De(f.heading4.elements)+`

`;break}case be.h5:{u+="##### "+De(f.heading5.elements)+`

`;break}case be.h6:{u+="###### "+De(f.heading6.elements)+`

`;break}case be.h7:{u+="####### "+De(f.heading7.elements)+`

`;break}case be.h8:{u+="######## "+De(f.heading8.elements)+`

`;break}case be.h9:{u+="######### "+De(f.heading9.elements)+`

`;break}case be.todo:{t=be.todo;const g=f.todo;g.style.done?u+="- [x] "+De(g.elements)+`
`:u+="- [ ] "+De(g.elements)+`
`;break}case be.orderList:{t=be.orderList;const g=f.ordered;u+="1. "+De(g.elements)+`
`;break}case be.bullet:{t=be.bullet;const g=f.bullet;u+="* "+De(g.elements)+`
`;break}case be.quote:{t=be.quote,f.children,u+=await nt(l,f.block_id,e,p,i,{parent_prefix:"> "})+`
`;break}case be.image:{u+=`![](assets/${await Tr(l,f.image.token,i,p)})

`;break}case be.grid:{u+=await nt(l,f.block_id,e,p,i);break}case be.grid_column:{u+=await nt(l,f.block_id,e,p,i);break}case be.divider:{u+=`---

`;break}case be.view:{u+=await nt(l,f.block_id,e,p,i);break}case be.file:{const g=f,S=g.file.name,c=g.file.token,v=await Tr(l,c,i,p,S);u+=`[${S}](assets/${v})`;break}case be.table:{const g=f,S=g.table.property.column_size,c=g.table.property.row_size;g.children;const v=e.filter(b=>b.parent_id===g.block_id);for(let b=0;b<c;b++){u+="|";for(let I=0;I<S;I++){const M=b*c+I,E=v[M];E?u+=await nt(l,E.block_id,e,p,i,{nonewline:!0})+" |":u+="  |"}if(u+=`
`,b===0){u+="|";for(let I=0;I<S;I++)u+="---|";u+=`
`}}break}}a+=u}return a}const Br=Or.createInstance({name:"file_cache"});async function Tr(y,o,e,p,i){var t;let n=await Br.getItem(o),a="";if(n){const m=n.mime.split("/");m.length===2?a="."+m[1]:console.log(m),(t=p.folder("assets"))==null||t.file(i?o+"_"+i:o+a,n.data)}else await Fr(4,y,async()=>{var _;let m=await Pe.get(Me(`/drive/v1/medias/${o}/download`),{headers:{Authorization:"Bearer "+e},responseType:"arraybuffer"}),h=m.headers["content-type"];h=="image/png"?a=".png":(h=="image/jpeg"||h=="image/jpg")&&(a=".jpg");const f=new Uint8Array(m.data);return(_=p.folder("assets"))==null||_.file(i?o+"_"+i:o+a,f),await Br.setItem(o,{mime:h,data:f}),m});return i?o+"_"+i:o+a}async function Fr(y,o,e){o.async_tasks.length>=y&&(await Promise.allSettled(o.async_tasks),o.async_tasks=[]);const p=async()=>{try{const i=await e()}catch{Fr(y,o,e)}};o.async_tasks.push(p())}var be;(function(y){y[y.page=1]="page",y[y.text=2]="text",y[y.h1=3]="h1",y[y.h2=4]="h2",y[y.h3=5]="h3",y[y.h4=6]="h4",y[y.h5=7]="h5",y[y.h6=8]="h6",y[y.h7=9]="h7",y[y.h8=10]="h8",y[y.h9=11]="h9",y[y.bullet=12]="bullet",y[y.orderList=13]="orderList",y[y.code=14]="code",y[y.ref=15]="ref",y[y.equation=16]="equation",y[y.todo=17]="todo",y[y.bitable=18]="bitable",y[y.callout=19]="callout",y[y.chat_card=20]="chat_card",y[y.diagram=21]="diagram",y[y.divider=22]="divider",y[y.file=23]="file",y[y.grid=24]="grid",y[y.grid_column=25]="grid_column",y[y.iframe=26]="iframe",y[y.image=27]="image",y[y.widget=28]="widget",y[y.mindnote=29]="mindnote",y[y.sheet=30]="sheet",y[y.table=31]="table",y[y.tabel_cell=32]="tabel_cell",y[y.view=33]="view",y[y.quote=34]="quote",y[y.unsupport=999]="unsupport"})(be||(be={}));const Lr=["PlainText","BAP","da","pache","pex","ssembly Language","ash","Sharp","++","C","COBOL","CSS","CoffeeScript","D","Dart","Delphi","Django","Dockerfile","Erlang","Fortran","FoxPro","Go","Groovy","HTML","HTMLBars","HTTP","Haskell","JSON","Java","JavaScript","Julia","Kotlin","LateX","Lisp","Logo","Lua","MATLAB","Makefile","Markdown","Nginx","Objective-C","OpenEdgeABL","PHP","Perl","PostScript","Power Shell","Prolog","ProtoBuf","Python","R","RPG","Ruby","Rust","SAS","SCSS","SQL","Scala","Scheme","Scratch","Shell","Swift","Thrift","TypeScript","VBScript","Visual Basic","XML","YAML"],Xt={APIFallback:!1};function Me(y){return Xt.APIFallback,Rt.baseUrl+y}function $i(y){return Xt.APIFallback,Rt.baseUrl_noauth+y}class Wi{constructor(o){ot(this,"convert",!0);ot(this,"downloadingCallback");this.downloadingCallback=o}async get_root_folder(o){return(await Pe.get(Me("/drive/explorer/v2/root_folder/meta"),{headers:{Authorization:`Bearer ${o}`}})).data.data}async app_login(o,e){return(await Pe.post($i("/auth/v3/tenant_access_token/internal/"),{app_id:o,app_secret:e})).data.tenant_access_token}async user_login(o,e){var i;let p=await Pe.post(Me("/authen/v1/access_token"),{grant_type:"authorization_code",code:o},{headers:{Authorization:`Bearer ${e}`}});return((i=p.data)==null?void 0:i.code)&&console.log(p.data),p.data.data}async get_folder_meta(o,e){return(await Pe.get(Me(`/drive/explorer/v2/folder/${o}/meta`),{headers:{Authorization:`Bearer ${e}`}})).data.data}async get_files_in_folder(o,e){return(await Pe.get(Me(`/drive/explorer/v2/folder/${o}/children`),{headers:{Authorization:`Bearer ${e}`}})).data.data}async get_doc(o,e){return(await Pe.get(Me(`/doc/v2/${o}/content`),{headers:{Authorization:`Bearer ${e}`}})).data.data}async get_docx_next(o,e,p){const n=(await Pe.get(Me(`/docx/v1/documents/${o}/blocks?page_token=${p}`),{headers:{Authorization:`Bearer ${e}`}})).data.data;let a=n.items;if(n.has_more){const t=n.page_token,l=await this.get_docx_next(o,e,t);a=[...a,...l]}return a}async get_docx(o,e){const i=(await Pe.get(Me(`/docx/v1/documents/${o}/blocks`),{headers:{Authorization:`Bearer ${e}`}})).data.data;let n=i.items;if(i.has_more){const a=i.page_token,t=await this.get_docx_next(o,e,a);n=[...n,...t]}return n}async get_all_docs(o,e){const p=new Vt,i=new Kt;this.convert=e;const n=await this.get_root_folder(o);return await this._r_docs_in_folder(n.token,o,p,i),await p.generateAsync({type:"blob"})}zipfileName(o,e,p){let i=zr(o,"\u672A\u547D\u540D\u6587\u6863"),n=1,a="";for(;e.file(i+a+p);)a=String(n),n+=1;return i=i+a+p,i}async save_doc(o,e,p,i){await this._save_doc(o.token,o.name,e,p,i)}async save_docx(o,e,p){await this._save_docx(o.token,o.name,e,p)}async save_doc_wiki(o,e,p,i){await this._save_doc(o.obj_token,o.title,e,p,i)}async save_docx_wiki(o,e,p){await this._save_docx(o.obj_token,o.title,e,p)}async _save_doc(o,e,p,i,n){var h;const a=(await this.get_doc(o,p)).content;let t=JSON.parse(a),l=this.zipfileName(e,i,".json"),m=this.zipfileName(e,i,".md");i.file(l,JSON.stringify({node:t,type:"docx"}));try{i.file(m,(await n.convert(p,i,t)).file)}catch(f){console.log(f),i.file(m,JSON.stringify({error:f,msg:"convert error"}))}(h=this.downloadingCallback)==null||h.call(this,e)}async _save_docx(o,e,p,i){var l;const n=await this.get_docx(o,p);let a=this.zipfileName(e,i,".json"),t=this.zipfileName(e,i,".md");i.file(a,JSON.stringify({nodes:n,type:"docx"}));try{i.file(t,await Mi({},"",n,i,p))}catch(m){i.file(t,JSON.stringify({error:m,msg:"convert error"})),console.error(m)}(l=this.downloadingCallback)==null||l.call(this,e)}async get_some_docs(o,e,p=!0){const i=new Vt,n=new Kt;this.convert=p;for(const a of e){let t=JSON.parse(a),l=i;for(const m of t.path)l=l.folder(m);t.type==="doc"?await this.save_doc(t,o,l,n):t.type==="docx"&&await this.save_docx(t,o,l)}return await i.generateAsync({type:"blob"})}async _r_docs_in_folder(o,e,p,i){const n=await this.get_files_in_folder(o,e);for(let a in n.children){const t=n.children[a],l={token:t.token,name:t.name,path:[""],type:t.type};if(t.type==="doc")await this.save_doc(l,e,p,i);else if(t.type==="folder"){const m=p.folder(t.name);await this._r_docs_in_folder(t.token,e,m,i)}else t.type==="docx"&&await this.save_docx(l,e,p)}}async get_all_docs_under_folder(o,e,p){let i=[],n=JSON.parse(e);const a=await this.get_files_in_folder(n.token,o),t=[];for(let l in a.children){const m=a.children[l];if(m.type==="doc"||m.type==="docx"){let h={token:m.token,path:[...n.path],name:m.name,type:m.type};i.push({label:zr(m.name,"\u672A\u547D\u540D\u6587\u6863"),value:JSON.stringify(h),isLeaf:!0,depth:p+1})}else if(m.type==="folder"){const h=async()=>{let f=(await this.get_folder_meta(m.token,o)).name,_={token:m.token,path:[...n.path,f],name:"",type:m.type};i.push({label:f,value:JSON.stringify(_),isLeaf:!1,depth:p+1})};t.push(h())}}return await Promise.all(t),i}async get_all_docs_list(o){let p={token:(await this.get_root_folder(o)).token,path:[],name:"",type:"root"};return await this.get_all_docs_under_folder(o,JSON.stringify(p),0)}async get_wiki_list(o,e){const i=(await Pe.get(Me(`/wiki/v2/spaces?page_size=10${e?"&page_token="+e:""}`),{headers:{Authorization:`Bearer ${o}`}})).data.data;let n=i.items;return i.has_more&&(n=[...n,...await this.get_wiki_list(o,i.page_token)]),n}async get_wiki_nodes_root(o,e,p){const n=(await Pe.get(Me(`/wiki/v2/spaces/${e}/nodes?page_size=50${p?"&page_token="+p:""}`),{headers:{Authorization:`Bearer ${o}`}})).data.data;let a=n.items;return n.has_more&&(a=[...a,...await this.get_wiki_nodes_root(o,e,n.page_token)]),a}async get_wiki_nodes(o,e,p,i){const a=(await Pe.get(Me(`/wiki/v2/spaces/${e}/nodes?page_size=50&parent_node_token=${p}${i?"&page_token="+i:""}`),{headers:{Authorization:`Bearer ${o}`}})).data.data;let t=a.items;return a.has_more&&(t=[...t,...await this.get_wiki_nodes(o,e,a.page_token)]),t}async get_all_wiki_in_space(o,e,p){const i=new Vt,n=new Kt;this.convert=p;const a=await this.get_wiki_nodes_root(o,e);return await this._r_get_all_wiki_in_space(o,e,a,i,n),await i.generateAsync({type:"blob"})}async _r_get_all_wiki_in_space(o,e,p,i,n){for(let a of p){if(a.has_child){let t=i.folder(a.title),l=await this.get_wiki_nodes(o,e,a.node_token);await this._r_get_all_wiki_in_space(o,e,l,t,n)}a.obj_type==="doc"?await this.save_doc_wiki(a,o,i,n):a.obj_type==="docx"?await this.save_docx_wiki(a,o,i):console.warn("Not Impl doc type: "+a.obj_type)}}}var Ot={exports:{}};(function(y,o){(function(e,p){p()})(We,function(){function e(m,h){return typeof h=="undefined"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function p(m,h,f){var _=new XMLHttpRequest;_.open("GET",m),_.responseType="blob",_.onload=function(){l(_.response,h,f)},_.onerror=function(){console.error("could not download file")},_.send()}function i(m){var h=new XMLHttpRequest;h.open("HEAD",m,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function n(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof We=="object"&&We.global===We?We:void 0,t=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!t?function(m,h,f){var _=a.URL||a.webkitURL,u=document.createElement("a");h=h||m.name||"download",u.download=h,u.rel="noopener",typeof m=="string"?(u.href=m,u.origin===location.origin?n(u):i(u.href)?p(m,h,f):n(u,u.target="_blank")):(u.href=_.createObjectURL(m),setTimeout(function(){_.revokeObjectURL(u.href)},4e4),setTimeout(function(){n(u)},0))}:"msSaveOrOpenBlob"in navigator?function(m,h,f){if(h=h||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(e(m,f),h);else if(i(m))p(m,h,f);else{var _=document.createElement("a");_.href=m,_.target="_blank",setTimeout(function(){n(_)})}}:function(m,h,f,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof m=="string")return p(m,h,f);var u=m.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||u&&g||t)&&typeof FileReader!="undefined"){var c=new FileReader;c.onloadend=function(){var I=c.result;I=S?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=I:location=I,_=null},c.readAsDataURL(m)}else{var v=a.URL||a.webkitURL,b=v.createObjectURL(m);_?_.location=b:location.href=b,_=null,setTimeout(function(){v.revokeObjectURL(b)},4e4)}});a.saveAs=l.saveAs=l,y.exports=l})})(Ot);function Zi(y,o){const e=window.localStorage.getItem(y),p=Ve(e?JSON.parse(e):o);return{value:p,setValue:i=>{p.value=i,window.localStorage.setItem(y,JSON.stringify(i))}}}const Hi={class:"main-stage"},qi=Ke("\u4E0B\u8F7D\u4E91\u7A7A\u95F4\u6587\u6863"),Yi=Ke("\u4E0B\u8F7D\u77E5\u8BC6\u5E93\u6587\u6863"),Ji={style:{padding:"10px"}},Gi=Ke("\u4E0B\u8F7D\u6240\u6709\u6587\u4EF6"),Vi=Ke("\u4E0B\u8F7D\u9009\u4E2D\u6587\u4EF6"),Ki=Ke("\u4E0B\u8F7D"),Xi=Ke("\u4E0B\u8F7D\u4E2D"),Qi={style:{overflow:"auto",maxHeight:"400px"}},ea=Ke("\u5B8C\u6210"),ia=bn({setup(y){let o=wn(),{app_id:e,app_secret:p}=o.params,i=o.query.code;const n=kn(),a=xn(),t=Ve("");!i&&o.query.access_token&&(t.value=o.query.access_token);const l=Ve([]),m=new Wi(U=>{l.value.push(U)}),h=Zi("convert_md",!0),f=Ve(!1),_=Ve("none"),u=Ve(),g=Ve(null);Sn(async()=>{if(i){let U=!0;const N=async()=>{e=e,p=p;const H=await m.app_login(e,p),oe=(await m.user_login(i,H)).access_token;if(U){U=!1,t.value=oe;let A=window.location;window.location.replace(`${A.origin}${A.pathname}#/backup/${e}/${p}?access_token=${t.value}`),console.log(t.value)}};setTimeout(async()=>{U&&(U=!1,Xt.APIFallback=!0,U=!0,console.log("use fallback api"),await N(),console.log("use fallback api success"))},5e3),await N()}});const S=async()=>{E();try{_.value="docs",u.value=await m.get_all_docs_list(t.value)}catch(U){console.error(U),n.error("\u4E0B\u8F7D\u9519\u8BEF")}P()},c=async()=>{if(!g.value)return;E();let U=g.value;const N=await m.get_some_docs(t.value,U,!0);Ot.exports.saveAs(N,"feishu_docs_"+new Date().toDateString()+"_backup.zip"),P()},v=()=>{a.warning({title:"\u8B66\u544A",content:"\u4E0B\u8F7D\u6240\u6709\u6587\u4EF6\u53EF\u80FD\u8017\u65F6\u8F83\u957F\uFF0C\u63A8\u8350\u4EC5\u9009\u62E9\u6240\u9700\u6587\u4EF6\u4E0B\u8F7D\u3002\u662F\u5426\u7EE7\u7EED\u4E0B\u8F7D\u5168\u90E8\u6587\u4EF6\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u4E0D\u786E\u5B9A",onPositiveClick:async()=>{E();try{const U=await m.get_all_docs(t.value,h.value.value);Ot.exports.saveAs(U,"backup.zip")}catch(U){console.error(U),n.error("\u4E0B\u8F7D\u9519\u8BEF")}P()},onNegativeClick:()=>{}})},b=Ve([]),I=async()=>{_.value="wiki";const U=await m.get_wiki_list(t.value);b.value=U},M=async(U,N)=>{E();try{const H=await m.get_all_wiki_in_space(t.value,U,!0);Ot.exports.saveAs(H,N+"_backup.zip")}catch(H){console.error(H),n.error("\u4E0B\u8F7D\u9519\u8BEF")}P()},E=()=>{l.value=[],f.value=!0},P=()=>{f.value=!1},T=async U=>{const N=await m.get_all_docs_under_folder(t.value,U.value,U.depth);U.children=N};return(U,N)=>(tt(),gt(Pt,null,[Ft("div",Hi,[Te(Oe(yt),{justify:"space-around"},{default:Ie(()=>[Te(Oe(st),{strong:"",secondary:"",round:"",type:"primary",onClick:S},{default:Ie(()=>[qi]),_:1}),Te(Oe(st),{strong:"",secondary:"",round:"",type:"primary",onClick:I},{default:Ie(()=>[Yi]),_:1})]),_:1}),Ft("div",Ji,[_.value==="docs"?(tt(),Lt(Oe(yt),{key:0,vertical:""},{default:Ie(()=>[Te(Oe(An),{value:g.value,"onUpdate:value":N[0]||(N[0]=H=>g.value=H),multiple:"",options:u.value,cascade:!0,"check-strategy":"child","show-path":!1,remote:"","on-load":T,placeholder:"\u9009\u62E9\u6587\u4EF6"},null,8,["value","options"]),Te(Oe(yt),{justify:"space-around"},{default:Ie(()=>[Te(Oe(st),{strong:"",secondary:"",type:"warning",onClick:v},{default:Ie(()=>[Gi]),_:1}),Te(Oe(st),{strong:"",secondary:"",type:"info",onClick:c},{default:Ie(()=>[Vi]),_:1})]),_:1})]),_:1})):nr("v-if",!0),_.value==="wiki"?(tt(),Lt(Oe(yt),{key:1,justify:"space-around"},{default:Ie(()=>[Te(Oe(Cn),{bordered:""},{default:Ie(()=>[(tt(!0),gt(Pt,null,ir(b.value,H=>(tt(),Lt(Oe(Rn),{key:H.space_id},{suffix:Ie(()=>[Te(Oe(st),{onClick:oe=>M(H.space_id,H.name)},{default:Ie(()=>[Ki]),_:2},1032,["onClick"])]),default:Ie(()=>[Te(Oe(On),{title:H.name},{default:Ie(()=>[Ke(ar(H.description),1)]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1})]),_:1})):nr("v-if",!0)])]),Te(Oe(En),{show:f.value,"onUpdate:show":N[1]||(N[1]=H=>f.value=H),"mask-closable":!1,title:"\u4E0B\u8F7D\u4E2D",onPositiveClick:P,size:"huge",style:{width:"400px",maxHeight:"600px"}},{default:Ie(()=>[Te(Oe(In),null,{header:Ie(()=>[Xi]),footer:Ie(()=>[Te(Oe(st),{loading:f.value},{default:Ie(()=>[ea]),_:1},8,["loading"])]),default:Ie(()=>[Ft("div",Qi,[(tt(!0),gt(Pt,null,ir(l.value,H=>(tt(),gt("p",null,ar(H),1))),256))])]),_:1})]),_:1},8,["show"])],64))}});export{ia as default};
